---
title: 2024/11/11〜2024/11/17の最新情報
tags:
  - Deno
  - deno_std
categories:
  - news
date: 2024-11-17
description: >
  deno_stdのリリース
---

## Denoの直近の変更について

先週は特にDenoのリリースは行われていないため、直近でDenoの`main`ブランチにマージされている変更についていくつか紹介します。

### `deno task` - オブジェクト形式でのタスクの定義がサポート

`deno.json`でのタスクの定義においてオブジェクト形式がサポートされています。(おそらく[`deno task`における依存関係の定義のサポート]({{< ref "articles/2024/10/27.md" >}})に向けた対応と思われます)

```json
{
  "tasks": {
    "test": {
      "command": "deno test --allow-read=. --doc",
      "description": "Run tests"
    }
  }
}
```

`description`フィールドで指定した内容は、引数なしで`deno task`コマンドを実行した際のコメントとして表示されます:

```shell
$ deno task
Available tasks:
- test
    // Run tests
    deno test --allow-read=. --doc
```

この`description`フィールドの追加に伴い、引数なしで`deno task`コマンドを実行した際の`deno.jsonc`で各タスクに記述されたコメントを認識してくれる機能が廃止されています:

```javascript
{
  "tasks": {
    // このコメントは引数なしでdeno taskを実行した際に表示されません
    "test": "deno test --allow-read=. --doc"
  }
}
```

---

- [feat(task): support object notation, remove support for JSDocs #26886](https://github.com/denoland/deno/pull/26886)

## `deno_std`のリリース

`deno_std`がリリースされています ([release-2024.11.13](https://github.com/denoland/std/releases/tag/release-2024.11.13))

### `@std/assert@1.0.8`

[@std/assert@1.0.8](https://jsr.io/@std/assert@1.0.8)がリリースされています。

#### `assertEquals`の改善

`assertEquals`でオブジェクト同士を比較する際に、プロトタイプチェーンをさかのぼってすべてのプロパティーが比較されるよう挙動が改善されています。

### `@std/expect@1.0.8`

[@std/expect@1.0.8](https://jsr.io/@std/expect@1.0.8)がリリースされています。

#### `expect.addSnapshotSerializer()`

[`expect.addSnapshotSerializer()`](https://github.com/jestjs/jest/blob/v30.0.0-alpha.6/docs/ExpectAPI.md#expectaddsnapshotserializerserializer)が実装されています。

### `@std/ini@1.0.0-rc.5`

[@std/ini@1.0.0-rc.5](https://jsr.io/@std/ini@1.0.0-rc.5)がリリースされています。

#### `@std/ini/parse` - `parse()`の挙動の変更

`parse()`が数値/`null`/`true`/`false`などの値を文字列ではなく、JavaScriptの対応する型として返却するよう挙動が変更されています。

### `@std/http@1.0.10`

[@std/http@1.0.10](https://jsr.io/@std/http@1.0.10)がリリースされています。

#### `@std/http/file-server` - ドットファイルの取り扱いの改善

`serveDir()`で`showDotfiles: false`が指定された場合、ドットファイルが要求された際に`404`エラーが返却されるよう修正されています。
