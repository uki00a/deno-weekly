---
title: 2024/05/13〜2024/05/19の最新情報
tags:
  - Deno
  - deno_std
  - jsr
categories:
  - news
date: 2024-05-19
description: Deno v1.43.4
---

## Deno v1.43.4

[Deno v1.43.4](https://github.com/denoland/deno/releases/tag/v1.43.4)がリリースされました。このリリースはバグ修正やパフォーマンス改善などがメインです。

### `deno publish`

#### expandoプロパティのサポート

`deno publish`([fast check]({{< ref "articles/2024/01/14.md" >}}))や`deno doc`で[expandoプロパティ](https://developer.mozilla.org/en-US/docs/Glossary/Expando)が認識されない問題が修正されています。

#### `--dry-run`の改善

`deno publish --dry-run`の実行時に、以下のケースでエラーが発生するように挙動が改善されています。

- バージョン指定がない`jsr:`specifierが検出された場合
- `deno.json`が存在しない場合

### Node.js互換性の改善

#### `node:worker_threads`

メインスレッドと`Worker`スレッドでモジュールキャッシュが分離されました。SvelteKitなどのパッケージがこの挙動に依存しているようです。([https://github.com/denoland/deno/issues/23461](#23461))

#### `node:os`

`homedir`の互換性が改善されています。

#### `node:fs`

`EISDIR`が発生する状況下で`ReferenceError`が発生してしまう問題が修正されています。

### Deno API

#### `"junction"`に関する型定義の追加

`Deno.SymlinkOptions`の`type`プロパティの型定義に`"junction"`が追加されています。

`"junction"`のサポートは以前に実装されていたものの、型定義が追加されていなかったようです。

### `ReadableStream`

`ReadableStream`の`Symbol.asyncIterator`メソッドが返却する非同期イテレーターに対して`.return()`の直後に`.next()`を呼ぶと、`.next()`が返却した`Promise`が`.return()`が返却したものよりも先に解決される問題が修正されています。

---

- [Update ongoing promise in async iterator `return()` method #22389](https://github.com/denoland/deno/issues/22389)

### その他

DenoがTypeScriptなどのファイルをトランスパイルする際に、トランスパイル後のソースからコメントが削除されてしまう問題が修正されています。
