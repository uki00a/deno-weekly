---
title: 2024/06/10〜2024/06/16の最新情報
tags:
  - Deno
  - deno_std
  - Prisma
categories:
  - news
date: 2024-06-16
description: Deno v1.44.2
---

## Deno v1.44.2

[Deno v1.44.2](https://github.com/denoland/deno/releases/tag/v1.44.2)がリリースされています。

### CLI

#### `deno lsp`

`textDocument/formatting`で `DocumentFormattingParams`の`options`が考慮されるように挙動が改善されています。([LSP: Formatting ignores passed formatting options (#23257)](https://github.com/denoland/deno/issues/23257))

また、auto importにおいて`.d.ts`などが提案されるべき場面で、誤って`.js`が提案されてしまうことがある問題が修正されています。([lsp: import suggestion imports `.d.ts` file as `.js` (#23017)](https://github.com/denoland/deno/issues/23017))

#### `deno lint`

BOM付きのUTF-8形式のファイルで`deno lint`がパニックする問題が修正されています。

#### バグ修正

複数のDenoプロセスが並列で同時にリモートモジュールのダウンロードを行っていると、処理が失敗することがある問題が修正されています。

また、dynamic importをするとプロセスがハングすることがある問題が修正されています。([Investigating hung/paused process while dynamically importing async module (#24098)](https://github.com/denoland/deno/issues/24098))

### Node.js互換性の改善

#### Node-API

Node-APIの実装がリライトされています。これにより、Prismaがハングしてしまう問題が解消されるようです。([Prisma `library` using N-API hangs often (#24010)](https://github.com/denoland/deno/issues/24010))

#### `node:child_process`

`stdio`オプションで`'ipc'`とファイルディスクリプタ(整数)の指定がサポートされました。

#### `node:http`

`ServerResponse#setHeader`の`value`引数に配列が指定された場合の挙動が修正されています。

- 今までの挙動: 配列の各値をカンマ区切りで結合し、単一のヘッダーとして追加されていました。
- Deno v1.44.2: 配列の各要素ごとにヘッダーが追加されます。

#### `node:vm`

`Script`における以下の問題が修正されています。

- `node:process`がimportできない問題 ([#22441](https://github.com/denoland/deno/issues/22441))
- `global`が未定義になる問題 ([#23852](https://github.com/denoland/deno/issues/23852))
- メモリリーク ([#23913](https://github.com/denoland/deno/issues/23913))

### `WebSocket`

`WebSocket`でBlob`を送信する際に、順番通りにメッセージが送られない問題が修正されています。([`websocket.send()` does not respect the order of messages (#24074)](https://github.com/denoland/deno/issues/24074))
