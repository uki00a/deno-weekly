---
title: 2025/03/24〜2025/03/30の最新情報
tags:
  - Deno
categories:
  - news
date: 2025-03-30
description: >
  Deno v2.2.6
---

## Deno v2.2.6

[Deno v2.2.6](https://github.com/denoland/deno/releases/tag/v2.2.6)がリリースされています。

### 静的解析可能なdynamic importの遅延読み込み (`--unstable-lazy-dynamic-imports`)

`--unstable-lazy-dynamic-imports`が実装されました ([#28593](https://github.com/denoland/deno/pull/28593))

以下のスクリプトを実行する場合、通常であれば、まずは`jsr:@std/text@1.0.12/unstable_dedent`がダウンロードされてからスクリプトの実行が開始され、`foo`と`bar`が出力されます:

```javascript
// main.js
console.info("foo");
await import("jsr:@std/text@1.0.12/unstable_dedent");
console.info("bar");
```

`--unstable-lazy-dynamic-imports`または`"unstable": ["lazy-dynamic-imports"]`を指定した場合、まず`foo`が出力されてから`jsr:@std/text@1.0.12/unstable_dedent`のダウンロードが開始され、その後に`bar`が出力されるよう挙動が変更されます。

### Node.js互換性の改善

#### `peerDependencies`の解決方法が変更

`peerDependencies`に関する解決ロジックが変更されています。`peerDependencies`で要求されるあるパッケージに関して、バージョンがマッチしない場合であっても、該当のパッケージが見つかった際はそれを使用するように修正されているようです ([#28616](https://github.com/denoland/deno/pull/28616))

この挙動が適用された際は`Warning The following peer dependency issues were found`という警告が表示されます。

将来的にオプションを導入して、任意でDeno v2.2.5までの挙動に戻せるようにすることも検討されているようです。

#### `node_modules/.bin`が作成されないことがある問題の修正

`deno outdated --update`でnpmパッケージを更新すると、そのパッケージが`node_modules/.bin` からなくなってしまうことがある問題が修正されています ([#28626](https://github.com/denoland/deno/pull/28626))

#### `node:fs` - `mkdir()`のバグ修正

`mkdir()`で`mode`オプションに文字列を指定すると`TypeError`が発生する問題が修正されています ([#28609](https://github.com/denoland/deno/pull/28609))

#### `node:http` - イベントの取り扱いの改善

HTTPリクエストがキャンセルされた際に`ServerResponse`で`close`イベントが発火されるよう改善されています ([#28601](https://github.com/denoland/deno/pull/28601))

また、`IncomingMessage`が保持する`socket`で適切に`close`イベントが発火されていなかった問題も修正されています ([#28582](https://github.com/denoland/deno/pull/28582))

### パフォーマンス改善

`deno install`によるnpmパッケージのインストールが高速化されています ([#28636](https://github.com/denoland/deno/pull/28636))

パッケージのメタ情報をファイルシステムからではなくインメモリのキャッシュから読み込むようにすることで高速化が図られているようです。

### Web Crypto API

#### ECDSAに関する改善

ECDSAを使用する際に`SubtleCrypto#verify`及び`SubtleCrypto#sign`において任意の曲線とハッシュの組み合わせが利用できるよう改善されています ([#28574](https://github.com/denoland/deno/pull/28574))
