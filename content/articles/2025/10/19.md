---
title: 2025/10/13〜2025/10/19の最新情報
tags:
  - Deno
  - Hono
categories:
  - news
date: 2025-10-19
description: >
  Denoにおけるサプライチェーン攻撃関連の対応について (`--minimum-dependency-age`と`deno.json`への`minimumDependencyAge`の追加について), Hono v4.10.0 (`hono/client` - Middlewareに関する型推論の改善, `hono/request` - `cloneRawRequest`が追加, `hono/ssg` - `defaultPlugin`が追加), Hono CLIが公開
---

## サプライチェーン攻撃関連の対応について

### `--minimum-dependency-age`

[以前に紹介した]({{< ref "articles/2025/09/21.md" >}})`--minimum-dependency-age`オプションを実装するPRがマージされています ([#30752](https://github.com/denoland/deno/pull/30752))

以前に紹介した時点からの差分として、ISO 8601 durationや[RFC 3339](https://datatracker.ietf.org/doc/html/rfc3339)形式での日付の指定がサポートされています。

```shell
# (1) ISO 8601 duration 形式で5時間を指定 (`--minimum-dependency-age=300`と等価)
$ deno install --minimum-dependency-age=PT5H npm:preact

# (2) 指定された日付以前にリリースされたバージョンをインストール
$ deno install --minimum-dependency-age=2025-10-19T21:00:00.000Z npm:preact
```

このオプションは _unstable_ という扱いのようなので、次のv2.5.5あたりでリリースされる可能性がありそうです。

### `deno.json`への`minimumDependencyAge`の追加

まだマージはされていませんが、`deno.json`に`minimumDependencyAge`というフィールドを追加するPRが作成されています。

- [feat(unstable): ability to specify minimum dependency age in deno.json file #31007](https://github.com/denoland/deno/pull/31007)

[b9ad4e6a9c630b46f18aa541140cfcdc14ae622e](https://github.com/denoland/deno/tree/b9ad4e6a9c630b46f18aa541140cfcdc14ae622e)時点での実装によると、このフィールドに`--minimum-dependency-age`と同様のフォーマットで期間を指定しておくことで、`--minimum-dependency-age`と同様にインストールされるパッケージのバージョンを制御できるようです。

`deno.json`の`minimumDependencyAge`と`--minimum-dependency-age`を同時に指定した場合、`--minimum-dependency-age`の方が優先されるようです。`--minimum-dependency-age=0`を指定することで、`minimumDependencyAge`を無効化できます。

## Hono v4.10.0

[Hono v4.10.0](https://github.com/honojs/hono/releases/tag/v4.10.0)がリリースされています。

### `hono/client`

Middlewareが返却したレスポンスの型定義を`hono/client`が推論できるよう改善されています ([#4393](https://github.com/honojs/hono/pull/4393))

### `hono/request`

`hono/request`に`cloneRawRequest()`が追加されています。`HonoRequest`が保持している`Request`オブジェクトに関して、`body`がすでに使用された場合とそうでない場合をそれぞれ考慮して、賢く`Request`をクローンしてくれるようです ([#4382](https://github.com/honojs/hono/pull/4382))

### `hono/ssg`

`hono/ssg`に`defaultPlugin`が追加されています。これはユーザーがプラグインを指定しなかった際にデフォルトで適用され、ステータスとして200が返却されなかったページの生成をスキップしてくれるようです ([#4394](https://github.com/honojs/hono/pull/4394))

## Hono CLI

Hono CLIが公開されています。

- **リポジトリ**: [honojs/cli](https://github.com/honojs/cli)
- **参考**: [Introduce Hono CLI](https://speakerdeck.com/yusukebe/introduce-hono-cli)

主にAIコーディングエージェント向けに使用されることが想定された`hono search`コマンドやHonoアプリケーションを最適化するための`hono optimize`コマンドなど、様々なコマンドが提供されているようです。
