---
title: 2025/01/13〜2025/01/19の最新情報
tags:
  - Deno
categories:
  - news
date: 2025-01-19
description: >
  Deno v2.1.6 (compilerOptions.typesの取り扱いの改善, vite/client向けの改善, npm-check-updatesパッケージやplaywright installコマンドを動かすための対応など)
---

## Deno v2.1.6

[Deno v2.1.6](https://github.com/denoland/deno/releases/tag/v2.1.6)がリリースされています。

### `deno check`

#### `compilerOptions.types`に関する修正

`compilerOptions.types`で指定されたモジュールの解決が適切に行われないことがある問題が修正されています ([#27686](https://github.com/denoland/deno/pull/27686))

#### 未サポートのメディアタイプに関する修正

Denoが認識しないメディアタイプのモジュールを常に`.js`として扱っていた問題が修正されています ([#27631](https://github.com/denoland/deno/pull/27631))

Ambient modulesによって任意の拡張子のモジュール(例: `*.svg`)に型を適用しているパッケージに対して型チェックがうまく動作しない問題があったようです。

#### `vite/client`向けの改善

`/// <reference types="..." />`ディレクティブにおいて、`types`に`npm:`から始まらない名前が指定された場合に、うまくパッケージを解決できない問題が修正されています ([#27690](https://github.com/denoland/deno/pull/27690))

主に`vite/client`を意識した対応のようです。

また、npmパッケージから`import.meta`の型を拡張できない問題が修正されています。

### `deno lsp`

[`vscode_deno`において未保存のファイルをフォーマットできない問題](https://github.com/denoland/vscode_deno/issues/1207)が修正されています ([#27637](https://github.com/denoland/deno/pull/27637))

### `deno compile` - Windows向けのバグ修正

Windows向けに生成したバイナリーで`error: Uncaught SyntaxError`エラーが発生することがある問題が修正されています ([#27654](https://github.com/denoland/deno/pull/27654))

`DENO_DIR`がコンパイル対象のコードと別のドライブにある場合にこのエラーが発生していたようです。

### Node.js互換性の改善

#### `node:net`

[npm-check-updates](https://www.npmjs.com/package/npm-check-updates)パッケージや`playwright install`コマンドを動かすためのワークアラウンドが導入されています。

#### `node:fs/promises`

`FileHandle`に以下のメソッドが実装されています:

- `writev`
- `chown`
- `utimes`

#### `node:child_process`

`spawn()`などのAPIで`options.env`が指定された際に、指定された環境変数のみが子プロセスに設定されるよう挙動が修正されています (今までは`options.env`で指定されたものに加え、親プロセスに元々設定されていた環境変数もすべて引き継がれていたようです)
