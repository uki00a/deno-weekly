---
title: 2025/07/28〜2025/08/03の最新情報
tags:
  - Deno
  - fresh
categories:
  - news
date: 2025-08-03
description: >
  Deno v2.4.3 (`deno bundle` - `--node-modules-dir=manual`のサポート, `deno task` - `--recursive`の挙動の改善, など), FreshのViteプラグインについて
---

## Deno v2.4.3

[Deno v2.4.3](https://github.com/denoland/deno/releases/tag/v2.4.3)がリリースされています。

### `deno bundle` - `--node-modules-dir=manual`のサポート

`package.json`が存在する場合など、`--node-modules-dir=manual`が有効化されている際に`deno bundle`でエラーが発生する問題が修正されています ([#30200](https://github.com/denoland/deno/pull/30200))

### `deno task` - `--recursive`の挙動の改善

`deno task`に[`--recursive` (`--filter`)]({{< ref "articles/deno/v2.1.md" >}})オプションが指定された際に、パッケージ間の依存関係に基づいて各タスクの実行順序を調整する改善が実施されています ([#30129](https://github.com/denoland/deno/pull/30129))

また、`--recursive`オプションが指定された際に、タスクが実行されたパッケージ名が表示されるように改善されています ([#30136](https://github.com/denoland/deno/pull/30136))

### `deno check` - 存在しないモジュールが検出されないバグの修正

存在しないモジュールへの`import`が検出された際にエラーが検出されなくなっていた問題が修正されています ([#30181](https://github.com/denoland/deno/pull/30181))

### `deno run` - `--config`オプションに関するバグ修正

`--config`が指定され かつ エントリーポイントが`../`形式で指定された場合にエラーが発生する問題が修正されています ([#30208](https://github.com/denoland/deno/pull/30208))

### `deno compile` - クロスコンパイル時のnpmパッケージの取り扱いの改善

クロスコンパイルする際に、現在のプラットフォーム向け以外のパッケージが検出された際にエラーが発生する問題が修正されています ([#30188](https://github.com/denoland/deno/pull/30188))

また、`node_modules`がある際に、最終的にモジュールグラフ内に含まれないパッケージはコンパイル対象から除外されるように挙動が変更されています ([#30189](https://github.com/denoland/deno/pull/30189))

### `deno lsp` - _raw imports_ に関するサポートの改善

`deno lsp`で[_raw imports_]({{< ref "articles/deno/v2.4.md" >}})のサポートが改善されています。ファイルのリネームに関する挙動の改善や _Go to Definition_ のサポートなどが実施されているようです ([#30142](https://github.com/denoland/deno/pull/30142))

### `deno publish` - `relative-package-import`エラーの導入

`deno publish`コマンドで`relative-package-import`エラーが導入されています ([#30203](https://github.com/denoland/deno/pull/30203))。別のパッケージのファイルを相対パス形式で`import`しているパッケージが検出された場合にこのエラーが発生するようです。

### `node:buffer`

`Buffer#subarray`などのパフォーマンスが改善されています。これにより、[Postgres.js](https://github.com/porsager/postgres)使用時のパフォーマンスが2倍近くまで高速化されているです ([#30213](https://github.com/denoland/deno/pull/30213))

### `node:process`

`process._rawDebug`が実装されています ([#30141](https://github.com/denoland/deno/pull/30141))

これはNode.jsの内部APIではありますが、[aws-iot-device-sdk-v2](https://github.com/aws/aws-iot-device-sdk-js-v2)が依存しているようです。

### `node:tls`

`TLSSocket#getPeerCertificate`と`checkServerIdentity()`が実装されています ([#30146](https://github.com/denoland/deno/pull/30146), [#30148](https://github.com/denoland/deno/pull/30148))

### `node:zlib`

`ZlibBase`が実装され、`BrotliCompress`や`BrotliDecompress`が`ZlibBase`を継承するよう変更されています ([#30112](https://github.com/denoland/deno/pull/30112))

### `package.json` - `imports`のサポートの改善

[`package.json`を持つワークスペース]({{< ref "articles/deno/v1.45.md" >}})において`imports`に基づいた解決がサポートされています ([#30198](https://github.com/denoland/deno/pull/30198))

### Web API

#### `Console`APIにおける`Proxy`の取り扱いの改善

`Proxy`に対して`console.log()`などを呼んだ際に、[`handler.get`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/get)が呼ばれないよう修正されています ([#30230](https://github.com/denoland/deno/pull/30230))

#### `setTimeout()`/`setInterval()`の型定義の改善

`setTimeout()`/`setInterval()`で文字列形式のコールバックを受け取れるよう型定義が改善されています ([#30183](https://github.com/denoland/deno/pull/30183))

## FreshのViteプラグインについて

FreshのViteプラグインの開発が進められているようです。

- [https://x.com/rough__sea/status/1950230812638793788](https://x.com/rough__sea/status/1950230812638793788)

まだマージはされていませんが、[vite-plugin](https://github.com/denoland/fresh/tree/vite-plugin)というブランチで開発が進められているようです。

[plugin-vite/demo](https://github.com/denoland/fresh/tree/4ec312c258b2469810418cdea3fb06bf9f8e1dbe/plugin-vite/demo)ディレクトリにサンプルコードが配置されており、Cloudflare Workersなどでの動作も試みられているようです。
