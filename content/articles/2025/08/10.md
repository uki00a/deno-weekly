---
title: 2025/08/04〜2025/08/10の最新情報
tags:
  - Deno
  - fresh
  - Hono
  - Vite
categories:
  - news
date: 2025-08-10
description: >
  `deno.json`でのパーミッションセットの定義について, FreshのViteプラグインが公開 (`@fresh/plugin-vite`), Hono v4.9.0 (`hono/deno` - プラグインの導入に伴う`toSSG()`における各種フックの非推奨化, `hono/client` - `parseResponse()`の追加, `hono/jwt` - `iss`の検証がサポート, など)
---

## `deno.json`でのパーミッションセットの定義について

まだDraft状態ですが、`deno.json`でのパーミッションセットの定義をサポートするPRが作成されています。

- [feat: permissions in the config file #30330](https://github.com/denoland/deno/pull/30330)

[以前に導入が検討されていた頃の仕様]({{< ref "articles/2024/12/29.md" >}})と比較して、以下のような変更点がありそうです (まだマージはされていないため、今後、仕様が変わる可能性があります):

1. `deno.json`においてパーミッションセットの一覧を定義するためのフィールド名が`permissionSets`から`permissions`に変わっています。
2. `bench`/`compile`/`test`という名前のパーミッションセットは特別扱いされ、パーミッションセットが省略された状態で`-P`(`--permission-set`)オプションが指定された際に、それぞれ`deno bench`/`deno compile`/`deno test`の実行時に自動で適用されるようです ([cli/args/mod.rs#L1172-L1188](https://github.com/denoland/deno/blob/b6edc8bcbe447e59d7f33566d29827c7acdcc3bb/cli/args/mod.rs#L1172-L1188))

`deno.json`で複数のパーミッションセットを定義することができます:

```json
{
  "permissions": {
    "default": {
      "read": ["data"],
      "net": true
    },
    "tool": {
      "read": ["src"],
      "write": ["generated"]
    }
  }
}
```

`-P`または`--permission-set`によって定義されたパーミッションセットを適用できます:

```shell
# `default`パーミッションセットを適用
$ deno run -P main.ts

# `tool`パーミッションセットを適用
$ deno run --permission-set=tool tools/codegen.ts
```

## FreshのViteプラグインが公開 (`@fresh/plugin-vite`)

直近で開発されていたFreshのViteプラグインが正式にマージされています:

- [feat: add vite plugin #3187](https://github.com/denoland/fresh/pull/3187)

[@fresh/plugin-vite](https://jsr.io/@fresh/plugin-vite)にてJSRパッケージが公開されており、使用例は[packages/plugin-vite/demo](https://github.com/denoland/fresh/tree/d026375c3e2876e2928ef6ad5192733481d7f642/packages/plugin-vite/demo)に存在します。

## Hono v4.9.0

[Hono v4.9.0](https://github.com/honojs/hono/releases/tag/v4.9.0)がリリースされています。

### `hono/deno`

[Hono v4.8.0]({{< ref "articles/2025/06/22.md" >}})における`toSSG()`へのプラグインサポートに伴い、`toSSG()`における`beforeRequestHook`/`afterResponseHook`/`afterGenerateHook`の3つのオプションが非推奨化されています。

また、`serveStatic()`においてパスの解決が`node:path`の`join()`によって行われるよう改善されています。

### `hono/client`

レスポンスを簡易的かつタイプセーフに取り扱うために`parseResponse()`が追加されています。

### `hono/jwt`

`jwt()`ミドルウェアに`verification`オプションが追加されており、任意で`iss`フィールドの検証がサポートされています。
