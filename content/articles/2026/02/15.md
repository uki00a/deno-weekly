---
title: 2026/02/09〜2026/02/15の最新情報
tags:
  - Deno
  - dnt
  - Cliffy
categories:
  - news
date: 2026-02-15
description: >
  Deno v2.6.9 (`deno doc` - Markdownのプレビューがサポート, `deno upgrade` - `--checksum`オプションが追加, `node:worker_threads` - `threadName`や`BroadcastChannel#unref()`などが実装, `node:sqlite` - `DatabaseSync#setAuthorizer()`が実装, など), `deno pack`コマンドについて, Cliffy v1
---

## Deno v2.6.9

[Deno v2.6.9](https://github.com/denoland/deno/releases/tag/v2.6.9)がリリースされています。

### `deno doc`

Markdownファイルのプレビューがサポートされています ([#32024](https://github.com/denoland/deno/pull/32024))

```shell
$ deno doc README.md
```

`deno doc`コマンドに`--agents`オプションの追加 ([#31987](https://github.com/denoland/deno/issues/31987)) が検討されており、それに向けた対応であると思われます。

`--agents`オプションの追加についてはまだマージはされていませんが、すでにPRも作成されています ([#32044](https://github.com/denoland/deno/pull/32044))

### `deno upgrade`

`--checksum`が追加されています ([#31804](https://github.com/denoland/deno/pull/31804))。ダウンロードされたアーカイブが改善されていないか検査できます。

```shell
$ deno upgrade --checksum 8a677a4b0cea1a25aaecfc70d6c6a288f9ad69af0a92e9e9d513cabaaf3c688f
```

チェックサムは[GitHub Release](https://github.com/denoland/deno/releases/tag/v2.6.9)ページの Assets として配置してあります。

### `deno compile`

`npm:`をエントリーポイントに指定した場合、デフォルトで`/tmp/deno_nm/yyyy-mm-dd`ディレクトリに`node_modules`を作成し、そこに依存パッケージをインストールしてコンパイルするよう挙動が修正されています ([#32084](https://github.com/denoland/deno/pull/32084))

### `node:worker_threads`

下記APIが実装されています:

- `threadName` ([#32072](https://github.com/denoland/deno/pull/32072))
- `Worker#cpuUsage()` ([#32050](https://github.com/denoland/deno/pull/32050))
- `BroadcastChannel#ref()` & `BroadcastChannel#unref()` ([#32036](https://github.com/denoland/deno/pull/32036))
- `Worker#[Symbol.asyncDispose]()` ([#32051](https://github.com/denoland/deno/pull/32051))

また、`MessageChannel`の一方の`MessagePort`が`close`されたら、もう一方の`MessagePort`でも`close`イベントが発火されるよう改善されています ([#32092](https://github.com/denoland/deno/pull/32092))

### `node:sqlite`

`DatabaseSync#setAuthorizer()`が実装されています ([#32009](https://github.com/denoland/deno/pull/32009))

### `node:child_process`

`ChildProcess`の`stdin`/`stdout`/`stderr`に`Readable`/`Writable`ではなく `Socket` (`node:net`) インスタンスが設定されるよう改善されています ([#31975](https://github.com/denoland/deno/pull/31975), [#32071](https://github.com/denoland/deno/pull/32071))

また、シグナルによってプロセスが停止した場合は `ChildProcess.exitCode`が`null`に設定されるよう挙動が修正されています ([#32081](https://github.com/denoland/deno/pull/32081))

### `node:zlib`

`ZstdCompress`/`ZstdDecompress`が実装されています ([#32025](https://github.com/denoland/deno/pull/32025))

### `node:tty`

`isatty()`に0, 1, または2以外の値が渡された際も適切に動作するよう実装が改善されています ([#31912](https://github.com/denoland/deno/pull/31912))

### `node:test`

`.only()`が使用された際に終了コードとして`1`が返されないよう挙動が修正されています ([#32043](https://github.com/denoland/deno/pull/32043))

### `require()`

`require()`によって読まれたESMモジュールから`npm:`や`jsr:`パッケージの読み込みがサポートされています ([#31974](https://github.com/denoland/deno/pull/31974))

### `--allow-import`

`--allow-import`のデフォルトの許可対象ホストに[`raw.esm.sh:443`](https://github.com/esm-dev/esm.sh/blob/ac4e88e3992350c65313f71f48802f9d36ce8a3b/README.md#escape-hatch-raw-source-files)が追加されています ([#32030](https://github.com/denoland/deno/pull/32030))

## `deno pack`コマンドについて

まだマージはされていませんが、`deno pack`コマンドを実装するPRが作成されています。

- [feat: add `deno pack` command to create npm tarballs #32139](https://github.com/denoland/deno/pull/32139)

[30189e1b9e4ee0a26c0a27f5070f41f44feed4d8](https://github.com/denoland/deno/tree/30189e1b9e4ee0a26c0a27f5070f41f44feed4d8)時点での実装によると、現在のプロジェクト内の各種パッケージに対して、TypeScriptファイルをJavaScript形式へトランスパイルや`.d.ts`ファイル、`package.json`の生成を行った上でtarballを生成してくれるようです。作成されたtarballは`npm publish`コマンドによってnpmレジストリへ公開することができます。

なお、もしDeno APIに依存しているコードがある場合は、自動的に[@deno/shim-deno](https://github.com/denoland/node_shims)を依存関係に追加してくれるようです。

[dnt](https://github.com/denoland/dnt)との兼ね合いが気になるところではありますが、複雑ではないユースケースにおいては`deno pack`によって`dnt`を代替できる可能性がありそうです。

## Cliffy v1

DenoのCLIフレームワークであるCliffyの[v1.0.0](https://github.com/c4spar/cliffy/releases/tag/v1.0.0)がリリースされています。

### `@cliffy/command`

`Command#argument()`の実装とコマンドライン引数への説明 (`description`) の指定のサポート ([#843](https://github.com/c4spar/cliffy/pull/843), [#844](https://github.com/c4spar/cliffy/pull/844)) や`generateShellCompletions()`の追加 ([#808](https://github.com/c4spar/cliffy/pull/808))などが行われています。
