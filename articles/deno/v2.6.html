<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Deno v2.6 | 週刊Deno</title><meta name=keywords content="Deno,jsr"><meta name=description content="Deno v2.6がリリース (`deno x`コマンドが追加, `deno approve-scripts`コマンドが追加, `deno audit` - `socket.dev`との統合がサポート, `--ignore-read`/`--ignore-env`オプションの追加, `deno publish` - 公開したくないパッケージの指定がサポート, `deno init` - `--empty`オプションが追加, `deno init --npm` - `--yes`オプションが追加, `deno install -g`の挙動が変更, `--lockfile-only`オプションが追加, `deno lint` - プラグインでファイルと環境変数の読み込みがサポート, `deno bundle` - Androidでの利用がサポート, `Deno.bundle()`の`Worker`での利用がサポート, `deno lsp` - `source.organizeImports`におけるバグ修正, `deno check` - typescript-go連携におけるバグ修正, Source Phase Importsがサポート, `BroadcastChannel`が安定化, Streamの移譲がサポート, Float16Arrayがサポート, Deno本体に`@types/node`がバンドル, `--require`オプションが実装, Subpath importsで`#/`から始まるマッピングがサポート, Windows向けのshimの生成が改善, `node:sqlite` - `DatabaseSync`に`aggregate`や`function`メソッドが追加, `node:child_process` - Advanced serializationがサポート, ソースマップサポートの改善, など)"><meta name=author content><link rel=canonical href=https://uki00a.github.io/deno-weekly/articles/deno/v2.6.html><link crossorigin=anonymous href=/deno-weekly/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/deno-weekly/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://uki00a.github.io/deno-weekly/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://uki00a.github.io/deno-weekly/favicon-32x32.png><link rel=apple-touch-icon href=https://uki00a.github.io/deno-weekly/apple-touch-icon.png><link rel=mask-icon href=https://uki00a.github.io/deno-weekly/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta property="twitter:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta name=twitter:site content="@uki00a"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MK2K2MRMBF"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MK2K2MRMBF",{anonymize_ip:!1})}</script><meta property="og:title" content="Deno v2.6"><meta property="og:description" content="Deno v2.6がリリース (`deno x`コマンドが追加, `deno approve-scripts`コマンドが追加, `deno audit` - `socket.dev`との統合がサポート, `--ignore-read`/`--ignore-env`オプションの追加, `deno publish` - 公開したくないパッケージの指定がサポート, `deno init` - `--empty`オプションが追加, `deno init --npm` - `--yes`オプションが追加, `deno install -g`の挙動が変更, `--lockfile-only`オプションが追加, `deno lint` - プラグインでファイルと環境変数の読み込みがサポート, `deno bundle` - Androidでの利用がサポート, `Deno.bundle()`の`Worker`での利用がサポート, `deno lsp` - `source.organizeImports`におけるバグ修正, `deno check` - typescript-go連携におけるバグ修正, Source Phase Importsがサポート, `BroadcastChannel`が安定化, Streamの移譲がサポート, Float16Arrayがサポート, Deno本体に`@types/node`がバンドル, `--require`オプションが実装, Subpath importsで`#/`から始まるマッピングがサポート, Windows向けのshimの生成が改善, `node:sqlite` - `DatabaseSync`に`aggregate`や`function`メソッドが追加, `node:child_process` - Advanced serializationがサポート, ソースマップサポートの改善, など)"><meta property="og:type" content="article"><meta property="og:url" content="https://uki00a.github.io/deno-weekly/articles/deno/v2.6.html"><meta property="article:section" content="articles"><meta property="article:published_time" content="2025-12-14T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-14T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Deno v2.6"><meta name=twitter:description content="Deno v2.6がリリース (`deno x`コマンドが追加, `deno approve-scripts`コマンドが追加, `deno audit` - `socket.dev`との統合がサポート, `--ignore-read`/`--ignore-env`オプションの追加, `deno publish` - 公開したくないパッケージの指定がサポート, `deno init` - `--empty`オプションが追加, `deno init --npm` - `--yes`オプションが追加, `deno install -g`の挙動が変更, `--lockfile-only`オプションが追加, `deno lint` - プラグインでファイルと環境変数の読み込みがサポート, `deno bundle` - Androidでの利用がサポート, `Deno.bundle()`の`Worker`での利用がサポート, `deno lsp` - `source.organizeImports`におけるバグ修正, `deno check` - typescript-go連携におけるバグ修正, Source Phase Importsがサポート, `BroadcastChannel`が安定化, Streamの移譲がサポート, Float16Arrayがサポート, Deno本体に`@types/node`がバンドル, `--require`オプションが実装, Subpath importsで`#/`から始まるマッピングがサポート, Windows向けのshimの生成が改善, `node:sqlite` - `DatabaseSync`に`aggregate`や`function`メソッドが追加, `node:child_process` - Advanced serializationがサポート, ソースマップサポートの改善, など)"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Deno v2.6","item":"https://uki00a.github.io/deno-weekly/articles/deno/v2.6.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Deno v2.6","name":"Deno v2.6","description":"Deno v2.6がリリース (`deno x`コマンドが追加, `deno approve-scripts`コマンドが追加, `deno audit` - `socket.dev`との統合がサポート, `--ignore-read`/`--ignore-env`オプションの追加, `deno publish` - 公開したくないパッケージの指定がサポート, `deno init` - `--empty`オプションが追加, `deno init --npm` - `--yes`オプションが追加, `deno install -g`の挙動が変更, `--lockfile-only`オプションが追加, `deno lint` - プラグインでファイルと環境変数の読み込みがサポート, `deno bundle` - Androidでの利用がサポート, `Deno.bundle()`の`Worker`での利用がサポート, `deno lsp` - `source.organizeImports`におけるバグ修正, `deno check` - typescript-go連携におけるバグ修正, Source Phase Importsがサポート, `BroadcastChannel`が安定化, Streamの移譲がサポート, Float16Arrayがサポート, Deno本体に`@types/node`がバンドル, `--require`オプションが実装, Subpath importsで`#/`から始まるマッピングがサポート, Windows向けのshimの生成が改善, `node:sqlite` - `DatabaseSync`に`aggregate`や`function`メソッドが追加, `node:child_process` - Advanced serializationがサポート, ソースマップサポートの改善, など)","keywords":["Deno","jsr"],"articleBody":"はじめに Deno v2.6がリリースされました。\nこの記事では主な変更点などについて紹介します。\ndeno x deno xコマンドが追加されています (#31138)\nこのコマンドを使うことで、npxのように指定したパッケージをインストールし、実行することができます。\n$ deno x cowsay@1.6.0 hi  ____  ----  \\  ^__^  \\  (oo)\\_______  (__)\\  )\\/\\  ||----w |  || || インストールされたパッケージは$DENO_DIR/deno_x_cacheに保存されます。$DENO_DIR/deno_x_cache//deno.lockを作成することで、パッケージの依存関係を固定してくれます。\nまた、パーミッションフラグの指定も可能です (デフォルトでは --allow-all が指定されます)\n$ deno x --ignore-env --allow-read cowsay@1.6.0 hi ネイティブバイナリーを実行する場合は--allow-runが要求されます。\n$ deno x --deny-run esbuild --version error: Requires run access to \"/path/to/.deno/esbuild@0.27.1/node_modules/esbuild/bin/esbuild\", run again with the --allow-run flag デフォルトではnpmパッケージが実行されますが、jsr:を指定することでjsrパッケージの実行も可能です。\n$ deno x --allow-read=deno.json jsr:@uki00a/deno-json-lint@0.3.0 引数なしで deno x を実行すると、プロジェクト内で認識されているコマンドの一覧を表示できます。\n$ deno x Available (local) commands:  esbuild   # コマンドが見つからない場合 $ deno x No local commands found deno x --install-aliasを実行すると、dxという名前のシンボリックリンクを作成してくれます。dxはdeno xへのエイリアスとして機能してくれます。\n$ dx --ignore-env -R cowsay@1.6.0 hi deno approve-scripts deno approve-scriptsコマンドが追加されています (#31472, #31493)\nこれはpnpmにおけるpnpm approve-buildsコマンドに相当する機能で、deno.jsonのallowScriptsフィールドを更新することで、ライフサイクルスクリプトの実行を許可するnpmパッケージを指定することができる機能です。\n# (1) ライフサイクルスクリプトを持つパッケージをインストールします $ deno install npm:better-sqlite3@12.2.0 Add npm:better-sqlite3@12.2.0 ╭ Warning │ │ Ignored build scripts for packages: │ npm:better-sqlite3@12.2.0 │ │ Run \"deno approve-scripts\" to run build scripts. ╰─  # (2) 対話的に特定パッケージに対するライフサイクルスクリプトの実行を許可できます $ deno approve-scripts ? Select which packages to approve lifecycle scripts for ( to select, ↑/↓/j/k to navigate, a to select all, i to invert selection, enter to accept,  to cancel) ❯ ○ npm:better-sqlite3@12.2.0  # (3) `deno.json`の`allowScripts`が更新されます $ cat deno.json | jq .allowScripts [  \"npm:better-sqlite3@12.2.0\" ] deno audit - socket.devとの統合 Deno v2.5.5で実装されたdeno auditコマンドで--socketオプションがサポートされています (#31106)\nこのオプションを指定するとsocket.devとの統合が有効化されます。具体的にはdeno auditでデフォルトで利用されるFull Audit エンドポイント (/-/npm/v1/security/audits) ではなく、@socketsecurity/bun-security-scannerでも使用されているfirewall-api.socket.devエンドポイントを使用してパッケージの検査が行われます。\nまた、SOCKET_API_KEY環境変数を指定した場合、それで設定されたAPIキーを使用してhttps://api.socket.dev/v0/purlエンドポイントによる検査が行われます (#31370)\nPermissions - --ignore-read/--ignore-envオプションの追加 --ignore-readオプション (#31363) と--ignore-envオプション (#31187) が実装されています。\nこれらのオプションはそれぞれ指定されたファイルまたは環境変数を存在しないものとして扱いたい場合に利用できます。\n--ignore-readオプションで無視されたファイルを読もうとすると、Deno.errors.NotFoundが発生します。\n$ cat main.js console.info(await Deno.readTextFile(\"./README.md\"));  $ file README.md README.md: ASCII text  $ deno run --ignore-read=README.md main.js error: Uncaught (in promise) NotFound: No such file or directory (os error 2) console.info(await Deno.readTextFile(\"./README.md\"));  ... --ignore-envによって指定された環境変数については常に未定義として扱われます。\n# `main.js` $ cat main.js console.info(\"HOME\", Deno.env.get(\"HOME\")); console.info(\"FOO\", Deno.env.get(\"FOO\"));  # (1) `HOME`環境変数のみを無視する $ FOO=1 deno run --allow-env --ignore-env=HOME main.js HOME undefined FOO 1  # (2) すべての環境変数を無視 $ FOO=1 deno run --ignore-env main.js HOME undefined FOO undefined これらのオプションについてはdeno.jsonのパーミッションセットの定義においてもサポートされています。\n{  \"permissions\": {  \"default\": {  \"env\": { \"ignore\": true }  }  } } deno publish - \"publish\": falseがサポート deno.jsonで\"publish\": falseの設定がサポートされています (#30852)\nこの設定を行っておくと、該当のパッケージがdeno publishによってjsrに公開されなくなります。ワークスペースを採用したプロジェクトにおいて、公開したくないパッケージに対してこの設定を行うことが想定されています。\ndeno init deno init --empty deno initコマンドに--emptyオプションが追加されています (#31516)\nこのオプションを指定するとdeno.jsonとmain.tsのみを生成してくれます。\n$ deno init --empty  $ ls deno.json main.ts deno init --npm --yes deno init --npmに--yesオプションが追加されています (#31499)\nこのオプションを指定すると確認プロンプト (⚠️ Do you fully trust package? Deno will invoke code from it with all permissions. Do you want to continue? [y/n]) がスキップされます。\ndeno install deno install -gにおける破壊的変更 deno install -gでインストールするスクリプトに対して引数を指定したい場合、--の指定が必須化されています (#31292)\n$ deno install -g jsr:@std/http/file-server -- --allow-read --allow-net この変更により、複数のスクリプトをまとめてインストールできるよう改善されています。\n$ deno install -g jsr:@std/http/file-server jsr:@uki00a/deno-json-lint --lockfile-only --lockfile-onlyオプションが追加されています (#31376)\nこのオプションが指定されると、npmパッケージのインストールはせずにdeno.lockの更新のみが行われます (\"nodeModulesDir\": \"auto\"が設定されていたとしてもnode_modulesが更新されません)\n$ deno install --lockfile-only npm:esbuild deno lint - プラグインでファイルと環境変数の読み込みがサポート プラグインで環境変数やファイルの読み込みがサポートされています (#31327)\n特にオプションを指定せずとも、あらかじめ--allow-env及び--allow-readが指定されている場合と同様に動作します。\ndeno bundle Androidにおける利用 (#31521) 及び Worker内でのDeno.bundle()の利用 (#31316) がサポートされています。\nまた、bun: specifierが検出された際に常にexternalモジュールとして扱われるように挙動が修正されています (#31411)\ndeno lsp におけるバグ修正 source.organizeImports source.organizeImportsコードアクションにおいてワークスペース内のパッケージに対するspecifierが書き換えられてしまう問題が修正されています (#31230)\nまた、vscode_denoにおいて Organize imports アクションが重複して表示される問題が修正されています (#31530)\ntextDocument/definition Denoのグローバルキャッシュを利用している場合、npmパッケージ内において定義先へのジャンプ (textDocument/definition) が動作しなかった問題が修正されています (#31377)\ndeno test - JUnitレポーターのバグ修正 JUnitレポーター (--reporter junit) においてANSIエスケープコードが取り除かれるよう修正されています (#30854)\ndeno check - typescript-go連携におけるバグ修正 typescript-goを使用して型チェックを実行 (--unstable-tsgo) する際に、.cssなどの非.js/.tsファイルへのimportでエラーが発生しないよう改善されています (#31478)\nSource Phase Imports Source Phase Importsが実装されています (#31486)\nこの機能を使うことで、例えば、以下のように.wasmモジュールをWebAssembly.Moduleとして読み込むことができます。\nimport source mathModule from \"https://raw.githubusercontent.com/denoland/deno/refs/tags/v2.6.0/tests/testdata/wasm/math.wasm\";  console.assert(mathModule instanceof WebAssembly.Module);  const instance = await WebAssembly.instantiate(mathModule); console.assert(instance.exports.add(1, 2) === 3); Web API BroadcastChannelが安定化 BroadcastChannelが安定化されました。今後は--unstable-broadcast-channelの指定なしで利用できます (#30770)\nStreamの移譲がサポート ReadableStream/WritableStream/TransformStreamの移譲がサポートされています (#31126)\nusing f = await Deno.open(\"README.md\"); const clone = structuredClone({  content: f.readable, }, { transfer: [f.readable] }); for await (const chunk of clone.content) {  // ... } Float16Array Float16Arrayがサポートされています (#31410)\nまた、ImageDataに対するFloat16Arrayのサポートも実施されています (#31394)\nその他の改善 Workerを作成し、その内部でfetch()を呼んでいるケースにおいて Too many open files エラーが起きてしまうことのある問題への修正が実施されています (#31375)\nconsole.dir()でconsole.group()によるインデントがサポートされています (#31412)\nまた、NodeListOf型に[Symbol.iterator]()メソッドの型定義が追加されています(#31384)\nNode.js互換性の改善 Deno本体に@types/nodeがバンドル Deno本体に@types/nodeがバンドルされました (#31502)\n今までは必要に応じて@types/nodeがダウンロードされていましたが、今後はデフォルトでDeno本体に内蔵された@types/nodeの定義が使用されます。\n--require --requireオプションが実装されています (#31201)\nNode.jsにおける同名オプションと同様に、エントリーポイントを実行する前に指定されたCommonJSモジュールを事前に読み込むことができます。\n# `main.js`の実行前に`setup.cjs`が実行されます $ deno run --require=setup.cjs main.js Subpath importsで#/から始まるマッピングがサポート Subpath importsで#/から始まるマッピングがサポートされています (#31520)\nNode.jsの最近の変更に追従しているようです (nodejs/node#60864)\nWindows向けのshimの生成が改善 Windowsにおいてnode_modules/.binにnpmと同様の形式 (cmd-shim) でshimを生成するよう改善されています (#31494)\nnode:sqlite 下記APIが追加されています。\n DatabaseSync#aggregate() (#31461) DatabaseSync#function() (#31386) DatabaseSync#[Symbol.dispose]() (#31311) StatementSync#setAllowUnknownNamedParameters() (#31202)  また、StatementSync#iterate()のバグが修正されています (#31361)。このメソッドを呼ぶ際に意図せず最後のクエリの実行結果が再利用されてしまっていたようです (#30144)。\nnode:fs/promises 以下の改善が実施されています。\n FileHandle#appendFile()が実装 (#31301) statfs()が公開 (#31528) FileHandle#readFile() - signalオプションがサポート (#31462) FileHandle#close() - リソースをgracefulに解放するよう改善されています (#31164)  node:child_process Advanced serialization (serialization: 'advanced') がサポートされています (#31380)\nnode:dns lookupService()が実装されています (#31310)\nnode:timers Node.jsとの互換性を改善するためにsetImmediate()が再実装されています (#30328)\nまた、Timeout#refresh()でメモリリークが発生しないようにする改善が実施されています (#31436)\nnode:crypto Cipherivにおいて自動的なパディング (Cipheriv#setAutoPadding()) が適切に動作するよう改善されています (#31389)\nnode:buffer Buffer.compare()及びBuffer#compare()の内部処理がRustで再実装され、パフォーマンスが改善されています (#31425)\nその他 ソースマップサポートの改善 Denoが//# sourceMappingURL=...コメントを検出した際に、指定されたソースマップの内容を適用した上でスタックトレースを表示してくれるよう改善されています (#31268)\nまた、process.sourceMapsEnabledが定義されるように改善されています (#31358)\n参考 この記事は以下のページを参考に記述されています。\n https://github.com/denoland/deno/releases/tag/v2.6.0 https://deno.com/blog/v2.6  ","wordCount":"604","inLanguage":"en","datePublished":"2025-12-14T00:00:00Z","dateModified":"2025-12-14T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://uki00a.github.io/deno-weekly/articles/deno/v2.6.html"},"publisher":{"@type":"Organization","name":"週刊Deno","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://uki00a.github.io/deno-weekly/ accesskey=h title="週刊Deno (Alt + H)">週刊Deno</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://uki00a.github.io/deno-weekly/tags.html title=タグ><span><i class="fa fa-heart"></i>タグ</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/categories.html title=カテゴリー><span><i class="fa fa-heart"></i>カテゴリー</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/gallery.html title=ギャラリー><span><i class="fa fa-road"></i>ギャラリー<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/index.xml title="RSS feed"><span><i class="fa fa-road"></i>RSS feed<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/about.html title=About><span><i class="fa fa-road"></i>About<span class=alert></span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Deno v2.6</h1><div class=post-description>Deno v2.6がリリース (`deno x`コマンドが追加, `deno approve-scripts`コマンドが追加, `deno audit` - `socket.dev`との統合がサポート, `--ignore-read`/`--ignore-env`オプションの追加, `deno publish` - 公開したくないパッケージの指定がサポート, `deno init` - `--empty`オプションが追加, `deno init --npm` - `--yes`オプションが追加, `deno install -g`の挙動が変更, `--lockfile-only`オプションが追加, `deno lint` - プラグインでファイルと環境変数の読み込みがサポート, `deno bundle` - Androidでの利用がサポート, `Deno.bundle()`の`Worker`での利用がサポート, `deno lsp` - `source.organizeImports`におけるバグ修正, `deno check` - typescript-go連携におけるバグ修正, Source Phase Importsがサポート, `BroadcastChannel`が安定化, Streamの移譲がサポート, Float16Arrayがサポート, Deno本体に`@types/node`がバンドル, `--require`オプションが実装, Subpath importsで`#/`から始まるマッピングがサポート, Windows向けのshimの生成が改善, `node:sqlite` - `DatabaseSync`に`aggregate`や`function`メソッドが追加, `node:child_process` - Advanced serializationがサポート, ソースマップサポートの改善, など)</div><div class=post-meta><span title="2025-12-14 00:00:00 +0000 UTC">December 14, 2025</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e3%81%af%e3%81%98%e3%82%81%e3%81%ab aria-label=はじめに>はじめに</a></li><li><a href=#deno-x aria-label="deno x"><code>deno x</code></a></li><li><a href=#deno-approve-scripts aria-label="deno approve-scripts"><code>deno approve-scripts</code></a></li><li><a href=#deno-audit---socketdev%e3%81%a8%e3%81%ae%e7%b5%b1%e5%90%88 aria-label="deno audit - socket.devとの統合"><code>deno audit</code> - <code>socket.dev</code>との統合</a></li><li><a href=#permissions-----ignore-read--ignore-env%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e8%bf%bd%e5%8a%a0 aria-label="Permissions - --ignore-read/--ignore-envオプションの追加">Permissions - <code>--ignore-read</code>/<code>--ignore-env</code>オプションの追加</a></li><li><a href=#deno-publish---publish-false%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="deno publish - &amp;quot;publish&amp;quot;: falseがサポート"><code>deno publish</code> - <code>"publish": false</code>がサポート</a></li><li><a href=#deno-init aria-label="deno init"><code>deno init</code></a><ul><li><a href=#deno-init---empty aria-label="deno init --empty"><code>deno init --empty</code></a></li><li><a href=#deno-init---npm---yes aria-label="deno init --npm --yes"><code>deno init --npm --yes</code></a></li></ul></li><li><a href=#deno-install aria-label="deno install"><code>deno install</code></a><ul><li><a href=#deno-install--g%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e7%a0%b4%e5%a3%8a%e7%9a%84%e5%a4%89%e6%9b%b4 aria-label="deno install -gにおける破壊的変更"><code>deno install -g</code>における破壊的変更</a></li><li><a href=#--lockfile-only aria-label=--lockfile-only><code>--lockfile-only</code></a></li></ul></li><li><a href=#deno-lint---%e3%83%97%e3%83%a9%e3%82%b0%e3%82%a4%e3%83%b3%e3%81%a7%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%81%a8%e7%92%b0%e5%a2%83%e5%a4%89%e6%95%b0%e3%81%ae%e8%aa%ad%e3%81%bf%e8%be%bc%e3%81%bf%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="deno lint - プラグインでファイルと環境変数の読み込みがサポート"><code>deno lint</code> - プラグインでファイルと環境変数の読み込みがサポート</a></li><li><a href=#deno-bundle aria-label="deno bundle"><code>deno bundle</code></a></li><li><a href=#deno-lsp-%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label="deno lsp におけるバグ修正"><code>deno lsp</code> におけるバグ修正</a><ul><li><a href=#sourceorganizeimports aria-label=source.organizeImports><code>source.organizeImports</code></a></li><li><a href=#textdocumentdefinition aria-label=textDocument/definition><code>textDocument/definition</code></a></li></ul></li><li><a href=#deno-test---junit%e3%83%ac%e3%83%9d%e3%83%bc%e3%82%bf%e3%83%bc%e3%81%ae%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label="deno test - JUnitレポーターのバグ修正"><code>deno test</code> - JUnitレポーターのバグ修正</a></li><li><a href=#deno-check---typescript-go%e9%80%a3%e6%90%ba%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label="deno check - typescript-go連携におけるバグ修正"><code>deno check</code> - <code>typescript-go</code>連携におけるバグ修正</a><ul><li><a href=#source-phase-imports aria-label="Source Phase Imports">Source Phase Imports</a></li><li><a href=#web-api aria-label="Web API">Web API</a></li><li><a href=#broadcastchannel%e3%81%8c%e5%ae%89%e5%ae%9a%e5%8c%96 aria-label=BroadcastChannelが安定化><code>BroadcastChannel</code>が安定化</a></li><li><a href=#stream%e3%81%ae%e7%a7%bb%e8%ad%b2%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=Streamの移譲がサポート>Streamの移譲がサポート</a></li><li><a href=#float16array aria-label=Float16Array>Float16Array</a></li><li><a href=#%e3%81%9d%e3%81%ae%e4%bb%96%e3%81%ae%e6%94%b9%e5%96%84 aria-label=その他の改善>その他の改善</a></li></ul></li><li><a href=#nodejs%e4%ba%92%e6%8f%9b%e6%80%a7%e3%81%ae%e6%94%b9%e5%96%84 aria-label=Node.js互換性の改善>Node.js互換性の改善</a><ul><li><a href=#deno%e6%9c%ac%e4%bd%93%e3%81%abtypesnode%e3%81%8c%e3%83%90%e3%83%b3%e3%83%89%e3%83%ab aria-label=Deno本体に@types/nodeがバンドル>Deno本体に<code>@types/node</code>がバンドル</a></li><li><a href=#--require aria-label=--require><code>--require</code></a></li><li><a href=#subpath-imports%e3%81%a7%e3%81%8b%e3%82%89%e5%a7%8b%e3%81%be%e3%82%8b%e3%83%9e%e3%83%83%e3%83%94%e3%83%b3%e3%82%b0%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="Subpath importsで#/から始まるマッピングがサポート">Subpath importsで<code>#/</code>から始まるマッピングがサポート</a></li><li><a href=#windows%e5%90%91%e3%81%91%e3%81%aeshim%e3%81%ae%e7%94%9f%e6%88%90%e3%81%8c%e6%94%b9%e5%96%84 aria-label=Windows向けのshimの生成が改善>Windows向けのshimの生成が改善</a></li><li><a href=#nodesqlite aria-label=node:sqlite><code>node:sqlite</code></a></li><li><a href=#nodefspromises aria-label=node:fs/promises><code>node:fs/promises</code></a></li><li><a href=#nodechild_process aria-label=node:child_process><code>node:child_process</code></a></li><li><a href=#nodedns aria-label=node:dns><code>node:dns</code></a></li><li><a href=#nodetimers aria-label=node:timers><code>node:timers</code></a></li><li><a href=#nodecrypto aria-label=node:crypto><code>node:crypto</code></a></li><li><a href=#nodebuffer aria-label=node:buffer><code>node:buffer</code></a></li></ul></li><li><a href=#%e3%81%9d%e3%81%ae%e4%bb%96 aria-label=その他>その他</a><ul><li><a href=#%e3%82%bd%e3%83%bc%e3%82%b9%e3%83%9e%e3%83%83%e3%83%97%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88%e3%81%ae%e6%94%b9%e5%96%84 aria-label=ソースマップサポートの改善>ソースマップサポートの改善</a></li></ul></li><li><a href=#%e5%8f%82%e8%80%83 aria-label=参考>参考</a></li></ul></div></details></div><div class=post-content><h2 id=はじめに>はじめに<a hidden class=anchor aria-hidden=true href=#はじめに>#</a></h2><p>Deno v2.6がリリースされました。</p><p>この記事では主な変更点などについて紹介します。</p><h2 id=deno-x><code>deno x</code><a hidden class=anchor aria-hidden=true href=#deno-x>#</a></h2><p><code>deno x</code>コマンドが追加されています (<a href=https://github.com/denoland/deno/pull/31138>#31138</a>)</p><p>このコマンドを使うことで、<code>npx</code>のように指定したパッケージをインストールし、実行することができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno x cowsay@1.6.0 hi
</span></span><span style=display:flex><span> ____
</span></span><span style=display:flex><span>&lt; hi &gt;
</span></span><span style=display:flex><span> ----
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>\ </span>  ^__^
</span></span><span style=display:flex><span>         <span style=color:#ae81ff>\ </span> <span style=color:#f92672>(</span>oo<span style=color:#f92672>)</span><span style=color:#ae81ff>\_</span>______
</span></span><span style=display:flex><span>            <span style=color:#f92672>(</span>__<span style=color:#f92672>)</span><span style=color:#ae81ff>\ </span>      <span style=color:#f92672>)</span><span style=color:#ae81ff>\/\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>                <span style=color:#f92672>||</span>----w |
</span></span><span style=display:flex><span>                <span style=color:#f92672>||</span>     <span style=color:#f92672>||</span>
</span></span></code></pre></div><p>インストールされたパッケージは<code>$DENO_DIR/deno_x_cache</code>に保存されます。<code>$DENO_DIR/deno_x_cache/&lt;package-dir>/deno.lock</code>を作成することで、パッケージの依存関係を固定してくれます。</p><p>また、パーミッションフラグの指定も可能です (デフォルトでは <code>--allow-all</code> が指定されます)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno x --ignore-env --allow-read cowsay@1.6.0 hi
</span></span></code></pre></div><p>ネイティブバイナリーを実行する場合は<code>--allow-run</code>が要求されます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno x --deny-run esbuild --version
</span></span><span style=display:flex><span>error: Requires run access to <span style=color:#e6db74>&#34;/path/to/.deno/esbuild@0.27.1/node_modules/esbuild/bin/esbuild&#34;</span>, run again with the --allow-run flag
</span></span></code></pre></div><p>デフォルトではnpmパッケージが実行されますが、<code>jsr:</code>を指定することでjsrパッケージの実行も可能です。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno x --allow-read<span style=color:#f92672>=</span>deno.json jsr:@uki00a/deno-json-lint@0.3.0
</span></span></code></pre></div><p>引数なしで <code>deno x</code> を実行すると、プロジェクト内で認識されているコマンドの一覧を表示できます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno x
</span></span><span style=display:flex><span>Available <span style=color:#f92672>(</span>local<span style=color:#f92672>)</span> commands:
</span></span><span style=display:flex><span>  esbuild
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># コマンドが見つからない場合</span>
</span></span><span style=display:flex><span>$ deno x
</span></span><span style=display:flex><span>No local commands found
</span></span></code></pre></div><p><code>deno x --install-alias</code>を実行すると、<code>dx</code>という名前のシンボリックリンクを作成してくれます。<code>dx</code>は<code>deno x</code>へのエイリアスとして機能してくれます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ dx --ignore-env -R cowsay@1.6.0 hi
</span></span></code></pre></div><h2 id=deno-approve-scripts><code>deno approve-scripts</code><a hidden class=anchor aria-hidden=true href=#deno-approve-scripts>#</a></h2><p><code>deno approve-scripts</code>コマンドが追加されています (<a href=https://github.com/denoland/deno/pull/31472>#31472</a>, <a href=https://github.com/denoland/deno/pull/31493>#31493</a>)</p><p>これはpnpmにおける<a href=https://github.com/pnpm/pnpm/releases/tag/v10.1.0>pnpm approve-builds</a>コマンドに相当する機能で、<code>deno.json</code>の<a href=https://uki00a.github.io/deno-weekly/articles/2025/11/16.html><code>allowScripts</code></a>フィールドを更新することで、ライフサイクルスクリプトの実行を許可するnpmパッケージを指定することができる機能です。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># (1) ライフサイクルスクリプトを持つパッケージをインストールします</span>
</span></span><span style=display:flex><span>$ deno install npm:better-sqlite3@12.2.0
</span></span><span style=display:flex><span>Add npm:better-sqlite3@12.2.0
</span></span><span style=display:flex><span>╭ Warning
</span></span><span style=display:flex><span>│
</span></span><span style=display:flex><span>│  Ignored build scripts <span style=color:#66d9ef>for</span> packages:
</span></span><span style=display:flex><span>│  npm:better-sqlite3@12.2.0
</span></span><span style=display:flex><span>│
</span></span><span style=display:flex><span>│  Run <span style=color:#e6db74>&#34;deno approve-scripts&#34;</span> to run build scripts.
</span></span><span style=display:flex><span>╰─
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># (2) 対話的に特定パッケージに対するライフサイクルスクリプトの実行を許可できます</span>
</span></span><span style=display:flex><span>$ deno approve-scripts
</span></span><span style=display:flex><span>? Select which packages to approve lifecycle scripts <span style=color:#66d9ef>for</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>&lt;space&gt; to <span style=color:#66d9ef>select</span>, ↑/↓/j/k to navigate, a to <span style=color:#66d9ef>select</span> all, i to invert selection, enter to accept, &lt;Ctrl-c&gt; to cancel<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>❯ ○ npm:better-sqlite3@12.2.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># (3) `deno.json`の`allowScripts`が更新されます</span>
</span></span><span style=display:flex><span>$ cat deno.json | jq .allowScripts
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;npm:better-sqlite3@12.2.0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>]</span>
</span></span></code></pre></div><h2 id=deno-audit---socketdevとの統合><code>deno audit</code> - <code>socket.dev</code>との統合<a hidden class=anchor aria-hidden=true href=#deno-audit---socketdevとの統合>#</a></h2><p><a href=https://uki00a.github.io/deno-weekly/articles/2025/11/02.html>Deno v2.5.5</a>で実装された<code>deno audit</code>コマンドで<code>--socket</code>オプションがサポートされています (<a href=https://github.com/denoland/deno/pull/31106>#31106</a>)</p><p>このオプションを指定すると<a href=https://socket.dev/>socket.dev</a>との統合が有効化されます。具体的には<code>deno audit</code>でデフォルトで利用される<a href=https://github.com/npm/npm-audit-report/blob/fbdb240694bd9a8d95e9386a157d471494a1426c/README.md#break-from-version-1>Full Audit エンドポイント</a> (<code>/-/npm/v1/security/audits</code>) ではなく、<a href=https://www.npmjs.com/package/@socketsecurity/bun-security-scanner><code>@socketsecurity/bun-security-scanner</code></a>でも使用されている<a href=https://github.com/SocketDev/bun-security-scanner/blob/037562d18ed7460a95f91f7a4806ad627756437f/src/modes/unauthenticated.ts#L10><code>firewall-api.socket.dev</code></a>エンドポイントを使用してパッケージの検査が行われます。</p><p>また、<code>SOCKET_API_KEY</code>環境変数を指定した場合、それで設定されたAPIキーを使用して<code>https://api.socket.dev/v0/purl</code>エンドポイントによる検査が行われます (<a href=https://github.com/denoland/deno/pull/31370>#31370</a>)</p><h2 id=permissions-----ignore-read--ignore-envオプションの追加>Permissions - <code>--ignore-read</code>/<code>--ignore-env</code>オプションの追加<a hidden class=anchor aria-hidden=true href=#permissions-----ignore-read--ignore-envオプションの追加>#</a></h2><p><code>--ignore-read</code>オプション (<a href=https://github.com/denoland/deno/pull/31363>#31363</a>) と<code>--ignore-env</code>オプション (<a href=https://github.com/denoland/deno/pull/31187>#31187</a>) が実装されています。</p><p>これらのオプションはそれぞれ指定されたファイルまたは環境変数を存在しないものとして扱いたい場合に利用できます。</p><p><code>--ignore-read</code>オプションで無視されたファイルを読もうとすると、<code>Deno.errors.NotFound</code>が発生します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat main.js
</span></span><span style=display:flex><span>console.info<span style=color:#f92672>(</span>await Deno.readTextFile<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;./README.md&#34;</span><span style=color:#f92672>))</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ file README.md
</span></span><span style=display:flex><span>README.md: ASCII text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ deno run --ignore-read<span style=color:#f92672>=</span>README.md main.js
</span></span><span style=display:flex><span>error: Uncaught <span style=color:#f92672>(</span>in promise<span style=color:#f92672>)</span> NotFound: No such file or directory <span style=color:#f92672>(</span>os error 2<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>console.info<span style=color:#f92672>(</span>await Deno.readTextFile<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;./README.md&#34;</span><span style=color:#f92672>))</span>;
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div><p><code>--ignore-env</code>によって指定された環境変数については常に未定義として扱われます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># `main.js`</span>
</span></span><span style=display:flex><span>$ cat main.js
</span></span><span style=display:flex><span>console.info<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;HOME&#34;</span>, Deno.env.get<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;HOME&#34;</span><span style=color:#f92672>))</span>;
</span></span><span style=display:flex><span>console.info<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;FOO&#34;</span>, Deno.env.get<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;FOO&#34;</span><span style=color:#f92672>))</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># (1) `HOME`環境変数のみを無視する</span>
</span></span><span style=display:flex><span>$ FOO<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> deno run --allow-env --ignore-env<span style=color:#f92672>=</span>HOME main.js
</span></span><span style=display:flex><span>HOME undefined
</span></span><span style=display:flex><span>FOO <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># (2) すべての環境変数を無視</span>
</span></span><span style=display:flex><span>$ FOO<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> deno run --ignore-env main.js 
</span></span><span style=display:flex><span>HOME undefined
</span></span><span style=display:flex><span>FOO undefined
</span></span></code></pre></div><p>これらのオプションについては<code>deno.json</code>のパーミッションセットの定義においてもサポートされています。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;permissions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;default&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;env&#34;</span>: { <span style=color:#f92672>&#34;ignore&#34;</span>: <span style=color:#66d9ef>true</span> }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=deno-publish---publish-falseがサポート><code>deno publish</code> - <code>"publish": false</code>がサポート<a hidden class=anchor aria-hidden=true href=#deno-publish---publish-falseがサポート>#</a></h2><p><code>deno.json</code>で<code>"publish": false</code>の設定がサポートされています (<a href=https://github.com/denoland/deno/pull/30852>#30852</a>)</p><p>この設定を行っておくと、該当のパッケージが<code>deno publish</code>によってjsrに公開されなくなります。<a href=https://uki00a.github.io/deno-weekly/articles/deno/v1.45.html>ワークスペース</a>を採用したプロジェクトにおいて、公開したくないパッケージに対してこの設定を行うことが想定されています。</p><h2 id=deno-init><code>deno init</code><a hidden class=anchor aria-hidden=true href=#deno-init>#</a></h2><h3 id=deno-init---empty><code>deno init --empty</code><a hidden class=anchor aria-hidden=true href=#deno-init---empty>#</a></h3><p><code>deno init</code>コマンドに<code>--empty</code>オプションが追加されています (<a href=https://github.com/denoland/deno/pull/31516>#31516</a>)</p><p>このオプションを指定すると<code>deno.json</code>と<code>main.ts</code>のみを生成してくれます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno init --empty
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>deno.json  main.ts
</span></span></code></pre></div><h3 id=deno-init---npm---yes><code>deno init --npm --yes</code><a hidden class=anchor aria-hidden=true href=#deno-init---npm---yes>#</a></h3><p><code>deno init --npm</code>に<code>--yes</code>オプションが追加されています (<a href=https://github.com/denoland/deno/pull/31499>#31499</a>)</p><p>このオプションを指定すると確認プロンプト (<code>⚠️ Do you fully trust &lt;package name> package? Deno will invoke code from it with all permissions. Do you want to continue? [y/n]</code>) がスキップされます。</p><h2 id=deno-install><code>deno install</code><a hidden class=anchor aria-hidden=true href=#deno-install>#</a></h2><h3 id=deno-install--gにおける破壊的変更><code>deno install -g</code>における破壊的変更<a hidden class=anchor aria-hidden=true href=#deno-install--gにおける破壊的変更>#</a></h3><p><code>deno install -g</code>でインストールするスクリプトに対して引数を指定したい場合、<code>--</code>の指定が必須化されています (<a href=https://github.com/denoland/deno/pull/31292>#31292</a>)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno install -g jsr:@std/http/file-server -- --allow-read --allow-net
</span></span></code></pre></div><p>この変更により、複数のスクリプトをまとめてインストールできるよう改善されています。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno install -g jsr:@std/http/file-server jsr:@uki00a/deno-json-lint 
</span></span></code></pre></div><h3 id=--lockfile-only><code>--lockfile-only</code><a hidden class=anchor aria-hidden=true href=#--lockfile-only>#</a></h3><p><code>--lockfile-only</code>オプションが追加されています (<a href=https://github.com/denoland/deno/pull/31376>#31376</a>)</p><p>このオプションが指定されると、npmパッケージのインストールはせずに<code>deno.lock</code>の更新のみが行われます (<code>"nodeModulesDir": "auto"</code>が設定されていたとしても<code>node_modules</code>が更新されません)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno install --lockfile-only npm:esbuild
</span></span></code></pre></div><h2 id=deno-lint---プラグインでファイルと環境変数の読み込みがサポート><code>deno lint</code> - プラグインでファイルと環境変数の読み込みがサポート<a hidden class=anchor aria-hidden=true href=#deno-lint---プラグインでファイルと環境変数の読み込みがサポート>#</a></h2><p><a href=https://uki00a.github.io/deno-weekly/articles/deno/v2.2.html>プラグイン</a>で環境変数やファイルの読み込みがサポートされています (<a href=https://github.com/denoland/deno/pull/31327>#31327</a>)</p><p>特にオプションを指定せずとも、あらかじめ<code>--allow-env</code>及び<code>--allow-read</code>が指定されている場合と同様に動作します。</p><h2 id=deno-bundle><code>deno bundle</code><a hidden class=anchor aria-hidden=true href=#deno-bundle>#</a></h2><p>Androidにおける利用 (<a href=https://github.com/denoland/deno/pull/31521>#31521</a>) 及び <code>Worker</code>内での<code>Deno.bundle()</code>の利用 (<a href=https://github.com/denoland/deno/pull/31316>#31316</a>) がサポートされています。</p><p>また、<code>bun:</code> specifierが検出された際に常にexternalモジュールとして扱われるように挙動が修正されています (<a href=https://github.com/denoland/deno/pull/31411>#31411</a>)</p><h2 id=deno-lsp-におけるバグ修正><code>deno lsp</code> におけるバグ修正<a hidden class=anchor aria-hidden=true href=#deno-lsp-におけるバグ修正>#</a></h2><h3 id=sourceorganizeimports><code>source.organizeImports</code><a hidden class=anchor aria-hidden=true href=#sourceorganizeimports>#</a></h3><p><a href=https://uki00a.github.io/deno-weekly/articles/2025/11/02.html><code>source.organizeImports</code></a>コードアクションにおいて<a href=https://uki00a.github.io/deno-weekly/articles/deno/v1.45.html>ワークスペース</a>内のパッケージに対するspecifierが書き換えられてしまう問題が修正されています (<a href=https://github.com/denoland/deno/pull/31230>#31230</a>)</p><p>また、<a href=https://github.com/denoland/vscode_deno>vscode_deno</a>において <em>Organize imports</em> アクションが重複して表示される問題が修正されています (<a href=https://github.com/denoland/deno/pull/31530>#31530</a>)</p><h3 id=textdocumentdefinition><code>textDocument/definition</code><a hidden class=anchor aria-hidden=true href=#textdocumentdefinition>#</a></h3><p>Denoのグローバルキャッシュを利用している場合、npmパッケージ内において定義先へのジャンプ (<code>textDocument/definition</code>) が動作しなかった問題が修正されています (<a href=https://github.com/denoland/deno/pull/31377>#31377</a>)</p><h2 id=deno-test---junitレポーターのバグ修正><code>deno test</code> - JUnitレポーターのバグ修正<a hidden class=anchor aria-hidden=true href=#deno-test---junitレポーターのバグ修正>#</a></h2><p>JUnitレポーター (<code>--reporter junit</code>) においてANSIエスケープコードが取り除かれるよう修正されています (<a href=https://github.com/denoland/deno/pull/30854>#30854</a>)</p><h2 id=deno-check---typescript-go連携におけるバグ修正><code>deno check</code> - <code>typescript-go</code>連携におけるバグ修正<a hidden class=anchor aria-hidden=true href=#deno-check---typescript-go連携におけるバグ修正>#</a></h2><p><code>typescript-go</code>を使用して型チェックを実行 (<a href=https://uki00a.github.io/deno-weekly/articles/2025/11/02.html><code>--unstable-tsgo</code></a>) する際に、<code>.css</code>などの非<code>.js</code>/<code>.ts</code>ファイルへのimportでエラーが発生しないよう改善されています (<a href=https://github.com/denoland/deno/pull/31478>#31478</a>)</p><h3 id=source-phase-imports>Source Phase Imports<a hidden class=anchor aria-hidden=true href=#source-phase-imports>#</a></h3><p><a href=https://github.com/tc39/proposal-source-phase-imports>Source Phase Imports</a>が実装されています (<a href=https://github.com/denoland/deno/pull/31486>#31486</a>)</p><p>この機能を使うことで、例えば、以下のように<code>.wasm</code>モジュールを<code>WebAssembly.Module</code>として読み込むことができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>source</span> <span style=color:#a6e22e>mathModule</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;https://raw.githubusercontent.com/denoland/deno/refs/tags/v2.6.0/tests/testdata/wasm/math.wasm&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>assert</span>(<span style=color:#a6e22e>mathModule</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>WebAssembly</span>.<span style=color:#a6e22e>Module</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>instance</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>WebAssembly</span>.<span style=color:#a6e22e>instantiate</span>(<span style=color:#a6e22e>mathModule</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>assert</span>(<span style=color:#a6e22e>instance</span>.<span style=color:#a6e22e>exports</span>.<span style=color:#a6e22e>add</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>) <span style=color:#f92672>===</span> <span style=color:#ae81ff>3</span>);
</span></span></code></pre></div><h3 id=web-api>Web API<a hidden class=anchor aria-hidden=true href=#web-api>#</a></h3><h3 id=broadcastchannelが安定化><code>BroadcastChannel</code>が安定化<a hidden class=anchor aria-hidden=true href=#broadcastchannelが安定化>#</a></h3><p><code>BroadcastChannel</code>が安定化されました。今後は<code>--unstable-broadcast-channel</code>の指定なしで利用できます (<a href=https://github.com/denoland/deno/pull/30770>#30770</a>)</p><h3 id=streamの移譲がサポート>Streamの移譲がサポート<a hidden class=anchor aria-hidden=true href=#streamの移譲がサポート>#</a></h3><p><code>ReadableStream</code>/<code>WritableStream</code>/<code>TransformStream</code>の<a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Transferable_objects>移譲</a>がサポートされています (<a href=https://github.com/denoland/deno/pull/31126>#31126</a>)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>using</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>open</span>(<span style=color:#e6db74>&#34;README.md&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>clone</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>content</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>readable</span>,
</span></span><span style=display:flex><span>}, { <span style=color:#a6e22e>transfer</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>readable</span>] });
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#66d9ef>await</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>chunk</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>clone</span>.<span style=color:#a6e22e>content</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=float16array>Float16Array<a hidden class=anchor aria-hidden=true href=#float16array>#</a></h3><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float16Array>Float16Array</a>がサポートされています (<a href=https://github.com/denoland/deno/pull/31410>#31410</a>)</p><p>また、<code>ImageData</code>に対する<code>Float16Array</code>のサポートも実施されています (<a href=https://github.com/denoland/deno/pull/31394>#31394</a>)</p><h3 id=その他の改善>その他の改善<a hidden class=anchor aria-hidden=true href=#その他の改善>#</a></h3><p><code>Worker</code>を作成し、その内部で<code>fetch()</code>を呼んでいるケースにおいて <em>Too many open files</em> エラーが起きてしまうことのある問題への修正が実施されています (<a href=https://github.com/denoland/deno/pull/31375>#31375</a>)</p><p><code>console.dir()</code>で<code>console.group()</code>によるインデントがサポートされています (<a href=https://github.com/denoland/deno/pull/31412>#31412</a>)</p><p>また、<code>NodeListOf</code>型に<code>[Symbol.iterator]()</code>メソッドの型定義が追加されています(<a href=https://github.com/denoland/deno/pull/31384>#31384</a>)</p><h2 id=nodejs互換性の改善>Node.js互換性の改善<a hidden class=anchor aria-hidden=true href=#nodejs互換性の改善>#</a></h2><h3 id=deno本体にtypesnodeがバンドル>Deno本体に<code>@types/node</code>がバンドル<a hidden class=anchor aria-hidden=true href=#deno本体にtypesnodeがバンドル>#</a></h3><p>Deno本体に<a href=https://www.npmjs.com/package/@types/node><code>@types/node</code></a>がバンドルされました (<a href=https://github.com/denoland/deno/pull/31502>#31502</a>)</p><p>今までは必要に応じて<code>@types/node</code>がダウンロードされていましたが、今後はデフォルトでDeno本体に内蔵された<code>@types/node</code>の定義が使用されます。</p><h3 id=--require><code>--require</code><a hidden class=anchor aria-hidden=true href=#--require>#</a></h3><p><code>--require</code>オプションが実装されています (<a href=https://github.com/denoland/deno/pull/31201>#31201</a>)</p><p>Node.jsにおける同名オプションと同様に、エントリーポイントを実行する前に指定されたCommonJSモジュールを事前に読み込むことができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># `main.js`の実行前に`setup.cjs`が実行されます</span>
</span></span><span style=display:flex><span>$ deno run --require<span style=color:#f92672>=</span>setup.cjs main.js
</span></span></code></pre></div><h3 id=subpath-importsでから始まるマッピングがサポート>Subpath importsで<code>#/</code>から始まるマッピングがサポート<a hidden class=anchor aria-hidden=true href=#subpath-importsでから始まるマッピングがサポート>#</a></h3><p><a href=https://github.com/nodejs/node/blob/4f24aff94ad9160bceaf9dcc9cf5235a65f01029/doc/api/packages.md#subpath-imports>Subpath imports</a>で<code>#/</code>から始まるマッピングがサポートされています (<a href=https://github.com/denoland/deno/pull/31520>#31520</a>)</p><p>Node.jsの最近の変更に追従しているようです (<a href=https://github.com/nodejs/node/pull/60864>nodejs/node#60864</a>)</p><h3 id=windows向けのshimの生成が改善>Windows向けのshimの生成が改善<a hidden class=anchor aria-hidden=true href=#windows向けのshimの生成が改善>#</a></h3><p>Windowsにおいて<code>node_modules/.bin</code>にnpmと同様の形式 (<a href=https://github.com/npm/cmd-shim>cmd-shim</a>) でshimを生成するよう改善されています (<a href=https://github.com/denoland/deno/pull/31494>#31494</a>)</p><h3 id=nodesqlite><code>node:sqlite</code><a hidden class=anchor aria-hidden=true href=#nodesqlite>#</a></h3><p>下記APIが追加されています。</p><ul><li><code>DatabaseSync#aggregate()</code> (<a href=https://github.com/denoland/deno/pull/31461>#31461</a>)</li><li><code>DatabaseSync#function()</code> (<a href=https://github.com/denoland/deno/pull/31386>#31386</a>)</li><li><code>DatabaseSync#[Symbol.dispose]()</code> (<a href=https://github.com/denoland/deno/pull/31311>#31311</a>)</li><li><code>StatementSync#setAllowUnknownNamedParameters()</code> (<a href=https://github.com/denoland/deno/pull/31202>#31202</a>)</li></ul><p>また、<code>StatementSync#iterate()</code>のバグが修正されています (<a href=https://github.com/denoland/deno/pull/31361>#31361</a>)。このメソッドを呼ぶ際に意図せず最後のクエリの実行結果が再利用されてしまっていたようです (<a href=https://github.com/denoland/deno/issues/30144>#30144</a>)。</p><h3 id=nodefspromises><code>node:fs/promises</code><a hidden class=anchor aria-hidden=true href=#nodefspromises>#</a></h3><p>以下の改善が実施されています。</p><ul><li><code>FileHandle#appendFile()</code>が実装 (<a href=https://github.com/denoland/deno/pull/31301>#31301</a>)</li><li><code>statfs()</code>が公開 (<a href=https://github.com/denoland/deno/pull/31528>#31528</a>)</li><li><code>FileHandle#readFile()</code> - <code>signal</code>オプションがサポート (<a href=https://github.com/denoland/deno/pull/31462>#31462</a>)</li><li><code>FileHandle#close()</code> - リソースをgracefulに解放するよう改善されています (<a href=https://github.com/denoland/deno/pull/31164>#31164</a>)</li></ul><h3 id=nodechild_process><code>node:child_process</code><a hidden class=anchor aria-hidden=true href=#nodechild_process>#</a></h3><p>Advanced serialization (<code>serialization: 'advanced'</code>) がサポートされています (<a href=https://github.com/denoland/deno/pull/31380>#31380</a>)</p><h3 id=nodedns><code>node:dns</code><a hidden class=anchor aria-hidden=true href=#nodedns>#</a></h3><p><code>lookupService()</code>が実装されています (<a href=https://github.com/denoland/deno/pull/31310>#31310</a>)</p><h3 id=nodetimers><code>node:timers</code><a hidden class=anchor aria-hidden=true href=#nodetimers>#</a></h3><p>Node.jsとの互換性を改善するために<code>setImmediate()</code>が再実装されています (<a href=https://github.com/denoland/deno/pull/30328>#30328</a>)</p><p>また、<code>Timeout#refresh()</code>でメモリリークが発生しないようにする改善が実施されています (<a href=https://github.com/denoland/deno/pull/31436>#31436</a>)</p><h3 id=nodecrypto><code>node:crypto</code><a hidden class=anchor aria-hidden=true href=#nodecrypto>#</a></h3><p><code>Cipheriv</code>において自動的なパディング (<code>Cipheriv#setAutoPadding()</code>) が適切に動作するよう改善されています (<a href=https://github.com/denoland/deno/pull/31389>#31389</a>)</p><h3 id=nodebuffer><code>node:buffer</code><a hidden class=anchor aria-hidden=true href=#nodebuffer>#</a></h3><p><code>Buffer.compare()</code>及び<code>Buffer#compare()</code>の内部処理がRustで再実装され、パフォーマンスが改善されています (<a href=https://github.com/denoland/deno/pull/31425>#31425</a>)</p><h2 id=その他>その他<a hidden class=anchor aria-hidden=true href=#その他>#</a></h2><h3 id=ソースマップサポートの改善>ソースマップサポートの改善<a hidden class=anchor aria-hidden=true href=#ソースマップサポートの改善>#</a></h3><p>Denoが<code>//# sourceMappingURL=...</code>コメントを検出した際に、指定されたソースマップの内容を適用した上でスタックトレースを表示してくれるよう改善されています (<a href=https://github.com/denoland/deno/pull/31268>#31268</a>)</p><p>また、<code>process.sourceMapsEnabled</code>が定義されるように改善されています (<a href=https://github.com/denoland/deno/pull/31358>#31358</a>)</p><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><p>この記事は以下のページを参考に記述されています。</p><ul><li><a href=https://github.com/denoland/deno/releases/tag/v2.6.0>https://github.com/denoland/deno/releases/tag/v2.6.0</a></li><li><a href=https://deno.com/blog/v2.6>https://deno.com/blog/v2.6</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://uki00a.github.io/deno-weekly/tags/deno.html>deno</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/jsr.html>jsr</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://uki00a.github.io/deno-weekly/>週刊Deno</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>