<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>2024/09/23〜2024/09/29の最新情報 | 週刊Deno</title><meta name=keywords content="Deno,deno_std,esm.sh,jsr,Vite,Next.js,Slack"><meta name=description content="Deno v2.0.0-rc.{5,6,7}がリリース (--allow-importの導入など), @deno/vite-plugin (Deno公式のViteプラグイン), deno_stdのリリース (@std/archiveの非推奨化, @std/ioで複数のAPIが非推奨化, など), @types/deno, Deno 2.0 rcでreactとnext.jsの設定を試す, Slack Platform（Deno）を活用したインシデント対応標準化の取り組み, rusty_v8の安定版がリリース"><meta name=author content><link rel=canonical href=https://uki00a.github.io/deno-weekly/articles/2024/09/29.html><link crossorigin=anonymous href=/deno-weekly/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/deno-weekly/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://uki00a.github.io/deno-weekly/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://uki00a.github.io/deno-weekly/favicon-32x32.png><link rel=apple-touch-icon href=https://uki00a.github.io/deno-weekly/apple-touch-icon.png><link rel=mask-icon href=https://uki00a.github.io/deno-weekly/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta property="twitter:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta name=twitter:site content="@uki00a"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MK2K2MRMBF"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MK2K2MRMBF",{anonymize_ip:!1})}</script><meta property="og:title" content="2024/09/23〜2024/09/29の最新情報"><meta property="og:description" content="Deno v2.0.0-rc.{5,6,7}がリリース (--allow-importの導入など), @deno/vite-plugin (Deno公式のViteプラグイン), deno_stdのリリース (@std/archiveの非推奨化, @std/ioで複数のAPIが非推奨化, など), @types/deno, Deno 2.0 rcでreactとnext.jsの設定を試す, Slack Platform（Deno）を活用したインシデント対応標準化の取り組み, rusty_v8の安定版がリリース"><meta property="og:type" content="article"><meta property="og:url" content="https://uki00a.github.io/deno-weekly/articles/2024/09/29.html"><meta property="article:section" content="articles"><meta property="article:published_time" content="2024-09-29T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="2024/09/23〜2024/09/29の最新情報"><meta name=twitter:description content="Deno v2.0.0-rc.{5,6,7}がリリース (--allow-importの導入など), @deno/vite-plugin (Deno公式のViteプラグイン), deno_stdのリリース (@std/archiveの非推奨化, @std/ioで複数のAPIが非推奨化, など), @types/deno, Deno 2.0 rcでreactとnext.jsの設定を試す, Slack Platform（Deno）を活用したインシデント対応標準化の取り組み, rusty_v8の安定版がリリース"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2024/09/23〜2024/09/29の最新情報","item":"https://uki00a.github.io/deno-weekly/articles/2024/09/29.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2024/09/23〜2024/09/29の最新情報","name":"2024\/09\/23〜2024\/09\/29の最新情報","description":"Deno v2.0.0-rc.{5,6,7}がリリース (--allow-importの導入など), @deno/vite-plugin (Deno公式のViteプラグイン), deno_stdのリリース (@std/archiveの非推奨化, @std/ioで複数のAPIが非推奨化, など), @types/deno, Deno 2.0 rcでreactとnext.jsの設定を試す, Slack Platform（Deno）を活用したインシデント対応標準化の取り組み, rusty_v8の安定版がリリース","keywords":["Deno","deno_std","esm.sh","jsr","Vite","Next.js","Slack"],"articleBody":"Deno v2.0.0-rc.5/v2.0.0-rc.6/v2.0.0-rc.7がリリース Denoのv2.0.0rc.5〜v2.0.0 rc.7がリリースされています:\n v2.0.0-rc.4からv2.0.0-rc.5までの差分 v2.0.0-rc.5からv2.0.0-rc.6までの差分 v2.0.0-rc.6からv2.0.0-rc.7までの差分  --allow-importの導入 --allow-importという新しいパーミッションフラグが導入されています (短縮形式は-I)\nDeno v2からリモートモジュールの読み込みを許可するホストに制限がかかるようです。必要に応じて--allow-importにリモートモジュールの読み込みを許可するホストを指定する必要があります。\nただし、デフォルトで以下のホストからのモジュールのimportが許可されるようなので、基本的なケースにおいては今まで通り利用できると思われます:\n deno.land jsr.io esm.sh raw.githubusercontent.com  例えば、unpkg.comからモジュールをimportしようとすると、上記のいずれのホストにも当てはまらないため、権限が要求されます:\nimport ky from \"https://unpkg.com/ky@1.7.2\";  const res = await ky.get(\"https://api.github.com/repos/uki00a/deno-weekly\").json(); この場合、以下のように権限が求められます:\n$ deno run --allow-net main.js ┏ ⚠️ Deno requests import access to \"unpkg.com:443\". ┠─ Requested by `import()` API. ┠─ Learn more at: https://docs.deno.com/go/--allow-import ┠─ Run again with --allow-import to bypass this prompt. ┗ Allow? [y/n/A] (y = yes, allow; n = no, deny; A = allow all import permissions)  --allow-importによってunpkg.comを明示的に許可すると、権限が求められなくなります:\n$ deno run --allow-net --allow-import=unpkg.com main.js ただし、--allow-importを明示した場合、デフォルトで許可されるdeno.landやjsr.ioなどのホストに対しても権限が必要となるため、必要に応じてそれらのホストも許可する必要がありそうです:\n# unpkg.comとjsr.ioからのimportのみを許可します $ deno run --allow-net --allow-import=unpkg.com,jsr.io main.js また、deno runの引数でリモートのURLが指定された場合、デフォルトでそのホストからのimportが許可されるようです。\n  feat: add --allow-import flag #25469  破壊的変更 deno.json deno.jsonのimportMapオプションでのリモートのImport mapsの指定が廃止されました。(もし需要があれば、今後、よりセキュアな方法によって再度サポートを導入することも考慮されているようです)\n--import-mapなどでは引き続きリモートのImport mapsが指定できるので、そちらへの移行が推奨されます。\n  BREAKING: remove support for remote import maps in deno.json #25836  Deno.UnsafeWindowSurface Deno.UnsafeWindowSurfaceのconstructorのシグネチャーが変更されています。引数として単一のoptions引数を受け取るように変更されており、必須のオプションとしてwidthとheightが追加されています。\nこの変更に合わせて、GPUCanvasConfigurationからwidthとheightプロパティーが削除されています。\n  BREAKING(webgpu/unstable): move width and height options to UnsafeWindowSurface constructor #24200  Deno.errors.BadResourceについて 今まで以下のエラーについてDeno.errors.BadResourceがthrowされていましたが、代わりにDeno.errors.Busyがthrowされるように挙動が変更されています:\n TCP stream is currently in use Listener is currently in use UNIX stream is currently in use (エラーメッセージもUnix socket is currently in useに変更されています)    BREAKING(ext/net): improved error code accuracy #25383  deno fmt HTML/CSS/YAMLサポートの安定化 Deno v1.46で導入されたdeno fmtのCSS/HTML/YAMLサポートが安定化されました。--unstable-cssなどのオプションやdeno.jsonでの\"unstable\": [\"fmt-html\"]の指定などをせずとも、これらの形式のファイルがフォーマットされます。\n  feat(fmt): stabilize CSS, HTML and YAML formatters #25753  deno fmt --check CSS/HTML/YAML形式のファイルに対してdeno fmt --checkを実行すると、常にエラーとして扱われてしまう問題も修正されています。\n  fix(fmt): –check was broken for CSS, YAML and HTML #25848  NunjucksとVentoのサポート deno fmtで.njkと.vto形式がサポートされています。これらの形式のファイルをフォーマットするには--unstable-componentの指定が必要です。\n  feat(fmt): support vto and njk extensions #25831  deno add deno addでnpmパッケージを追加する際に、バージョンが省略された場合はデフォルトでlatestタグに設定されたバージョンがインストールされるよう振る舞いが変更されています\n  fix(add/install): default to “latest” tag for npm packages in deno add npm:pkg #25858  deno compile RCバージョンでもdeno compileが動作するように改善されています。\n  fix(compile): support ‘deno compile’ in RC and LTS releases #25875  TypeScript compilerOptions.noImplicitOverride リモートモジュールに対してcompilerOptions.noImplicitOverrideが適用されないよう挙動が修正されています。\n  fix(check): ignore noImplicitOverrides in remote modules #25854  Node.js互換性の改善 --node-modules-dir --node-modules-dirオプションに値が指定されなかった場合、--node-modules-dirが無視されてしまっていた問題が修正されています。autoがデフォルト値として使われます。\n  fix(cli): Default to auto with –node-modules-dir flag #25772  静的解析が困難なCJSモジュールの取り扱いが改善 静的な解析が困難なCJSファイルのimport時にエラーが発生する問題が改善されています。\n主にRsbuildの動作に向けた対応のようです。\nまた、Denoの公式ドキュメントにCommonJSサポートに関する解説が追加されています。\n  fix(node): Don’t error out if we fail to statically analyze CJS re-export #25748  Conditional exportsサポートの改善 Conditional exportsで\"node\"に指定されたパスが解釈されるよう振る舞いが改善されています。\nこれがサポートされていなかったことで、nuxt buildによって生成されたサーバーをDenoで動かせない問題があったようです。\n  fix(node): Include “node” condition during CJS re-export analysis #25785  require(esm) ESM形式のモジュールをrequireしようとするとパニックすることがある問題が改善されています。\n  fix: panic when require(esm) #25769  process.stdin.pause create-viteがハングする問題を解消するため、process.stdin.pauseの振る舞いが修正されています。\n  fix(ext/node): fix process.stdin.pause() #25864  CLI サブコマンドよりも前の位置にDenoのCLI引数(--allow-netなど)が指定された際に、エラーが発生するように振る舞いが改善されています (今までは単純に無視されていたようです)\n$ deno --allow-read run main.js error: unexpected argument '--allow-read' found   tip: 'run --allow-read' exists  Usage: deno run [OPTIONS] [SCRIPT_ARG]...   fix: error out if a valid flag is passed before a subcommand #25830  --allow-allに関する振る舞いの変更 --allow-allとその他の--allow-*フラグが併用された際に、エラーが発生するように振る舞いが変更されています\n  fix(flags): –allow-all should conflict with lower permissions #25909  Web API globalThis.location globalThis.locationがconfigurable: trueに変更されています。主にVitest 2の動作に向けた対応のようです。\n  feat: make ‘globalThis.location’ a configurable property #25812  Web Crypto API SubtleCryptoのimportKeyとexportKeyでP521 EC鍵がサポートされています。\n  feat(ext/crypto): import and export p521 keys #25789  @deno/vite-plugin Deno公式からViteプラグインが公開されています:\n パッケージ: @deno/vite-plugin リポジトリ: denoland/deno-vite-plugin  npm:/jsr:/https:のサポートや、deno.jsonで定義されたImport mapsの解決などがサポートされているようです。\ndeno_stdのリリース deno_stdがリリースされています (release-2024.09.24)\n@std/archive@0.225.4 @std/archive@0.225.4がリリースされています。\n@std/archiveが非推奨化されており、今後は@std/tarへの移行が推奨されます。\n@std/io@0.224.9 @std/io@0.224.9がリリースされています。\n以下のAPIが非推奨化されており、@std/streamsへの移行が推奨されています:\n   非推奨化されたAPI 移行先     BufWriter Buffer (@std/streams/buffer)   BufReader Buffer (@std/streams/buffer)   StringWriter Buffer.writable (@std/streams/buffer)   StringReader Buffer (@std/streams/buffer)   LimitedReader LimitedBytesTransformStream (@std/streams/limited-bytes-transform-stream)   MultiReader mergeReadableStreams (@std/streams/merge-readable-streams)   readDelim ByteSliceStream (@std/streams/byte-slice-stream)   readLong -   readRange ByteSliceStream (@std/streams/byte-slice-stream)   readInt -   readShort -   sliceLongToBytes -   readStringDelim TextDelimiterStream (@std/streams/text-delimiter-stream)   copyN ByteSliceStream (@std/streams/byte-slice-stream)   readLines toLines (@std/streams/unstable-to-lines)    @std/collections@1.0.7 @std/collections@1.0.7がリリースされています。\n配列を引数として受け取る各種APIでIterableをサポートするための対応が行われています。現状では、Iterableのサポートはunstable-プレフィックスがついたモジュールから利用できます:\n sample (@std/collections/unstable-sample) withoutAll (@std/collections/unstable-without-all) chunk (@std/collections/unstable-chunk) sortBy (@std/collections/unstable-sort-by) takeWhile (@std/collections/unstable-take-while)  @std/http@1.0.7 @std/http@1.0.7がリリースされています。\n@std/http/unstable-routeのRoute.methodに配列で複数のメソッドを指定できるように改善されています。\n@std/expect@1.0.4 @std/expect@1.0.4がリリースされています。\nexpect.hasAssertions()が実装されています。\n@std/streams@1.0.6 @std/streams@1.0.6がリリースされています。\n新しいAPIとしてtoBytes (@std/streams/unstable-to-bytes)が追加されています。ReadableStreamを受け取り、そこから読み込まれたデータを結合して結果をPromiseとして返却してくれます。\n@std/assert@1.0.6 @std/assert@1.0.6がリリースされています。\n各種assert*関数でabstract classを引数として受け取れるように型定義が改善されています。\n@std/text@1.0.7 @std/text@1.0.7がリリースされています。\nlevenshteinDistance (@std/text/levenshtein-distance)においてU+FFFFよりも大きいコードポイントが適切に取り扱われない問題が修正されています。\n@types/deno DefinitelyTypedに@types/denoパッケージが追加されています:\n https://github.com/DefinitelyTyped/DefinitelyTyped/pull/70492  DenoのAPIに関する型定義が提供されるようです。\n  chore: add code generation for @types/deno #25545  Deno 2.0 rcでreactとnext.jsの設定を試す Deno v2.0.0-rc.4を使ってNext.jsを動作させる記事が公開されています:\n Deno 2.0 rcでreactとnext.jsの設定を試す  Slack Platform（Deno）を活用したインシデント対応標準化の取り組み Slackの開発プラットフォームとDenoの活用に関する記事が公開されています:\n Slack Platform（Deno）を活用したインシデント対応標準化の取り組み  rusty_v8の安定版がリリース deno_coreの内部で使用されているrusty_v8の安定バージョンが公開されたようです:\n Announcing Stable V8 Bindings for Rust  これに合わせてバージョニングに関する方針が変更されるようで、今後はChromeのバージョニングと同様の方式で運用が行われるようです。例えば、rusty_v8 v129.0.0ではChrome v129に合わせてV8のv12.9.a.bが使用されるようです。\n","wordCount":"495","inLanguage":"en","datePublished":"2024-09-29T00:00:00Z","dateModified":"2024-09-29T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://uki00a.github.io/deno-weekly/articles/2024/09/29.html"},"publisher":{"@type":"Organization","name":"週刊Deno","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://uki00a.github.io/deno-weekly/ accesskey=h title="週刊Deno (Alt + H)">週刊Deno</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://uki00a.github.io/deno-weekly/tags.html title=タグ><span><i class="fa fa-heart"></i>タグ</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/categories.html title=カテゴリー><span><i class="fa fa-heart"></i>カテゴリー</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/gallery.html title=ギャラリー><span><i class="fa fa-road"></i>ギャラリー<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/index.xml title="RSS feed"><span><i class="fa fa-road"></i>RSS feed<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/about.html title=About><span><i class="fa fa-road"></i>About<span class=alert></span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>2024/09/23〜2024/09/29の最新情報</h1><div class=post-description>Deno v2.0.0-rc.{5,6,7}がリリース (--allow-importの導入など), @deno/vite-plugin (Deno公式のViteプラグイン), deno_stdのリリース (@std/archiveの非推奨化, @std/ioで複数のAPIが非推奨化, など), @types/deno, Deno 2.0 rcでreactとnext.jsの設定を試す, Slack Platform（Deno）を活用したインシデント対応標準化の取り組み, rusty_v8の安定版がリリース</div><div class=post-meta><span title="2024-09-29 00:00:00 +0000 UTC">September 29, 2024</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#deno-v200-rc5v200-rc6v200-rc7%e3%81%8c%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9 aria-label="Deno v2.0.0-rc.5/v2.0.0-rc.6/v2.0.0-rc.7がリリース">Deno v2.0.0-rc.5/v2.0.0-rc.6/v2.0.0-rc.7がリリース</a><ul><li><a href=#--allow-import%e3%81%ae%e5%b0%8e%e5%85%a5 aria-label=--allow-importの導入><code>--allow-import</code>の導入</a></li><li><a href=#%e7%a0%b4%e5%a3%8a%e7%9a%84%e5%a4%89%e6%9b%b4 aria-label=破壊的変更>破壊的変更</a><ul><li><a href=#denojson aria-label=deno.json><code>deno.json</code></a></li><li><a href=#denounsafewindowsurface aria-label=Deno.UnsafeWindowSurface><code>Deno.UnsafeWindowSurface</code></a></li><li><a href=#denoerrorsbadresource%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6 aria-label=Deno.errors.BadResourceについて><code>Deno.errors.BadResource</code>について</a></li></ul></li><li><a href=#deno-fmt aria-label="deno fmt"><code>deno fmt</code></a><ul><li><a href=#htmlcssyaml%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88%e3%81%ae%e5%ae%89%e5%ae%9a%e5%8c%96 aria-label=HTML/CSS/YAMLサポートの安定化>HTML/CSS/YAMLサポートの安定化</a></li><li><a href=#deno-fmt---check aria-label="deno fmt --check"><code>deno fmt --check</code></a></li><li><a href=#nunjucks%e3%81%a8vento%e3%81%ae%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=NunjucksとVentoのサポート>NunjucksとVentoのサポート</a></li></ul></li><li><a href=#deno-add aria-label="deno add"><code>deno add</code></a></li><li><a href=#deno-compile aria-label="deno compile"><code>deno compile</code></a></li><li><a href=#typescript aria-label=TypeScript>TypeScript</a><ul><li><a href=#compileroptionsnoimplicitoverride aria-label=compilerOptions.noImplicitOverride><code>compilerOptions.noImplicitOverride</code></a></li></ul></li><li><a href=#nodejs%e4%ba%92%e6%8f%9b%e6%80%a7%e3%81%ae%e6%94%b9%e5%96%84 aria-label=Node.js互換性の改善>Node.js互換性の改善</a><ul><li><a href=#--node-modules-dir aria-label=--node-modules-dir><code>--node-modules-dir</code></a></li><li><a href=#%e9%9d%99%e7%9a%84%e8%a7%a3%e6%9e%90%e3%81%8c%e5%9b%b0%e9%9b%a3%e3%81%aacjs%e3%83%a2%e3%82%b8%e3%83%a5%e3%83%bc%e3%83%ab%e3%81%ae%e5%8f%96%e3%82%8a%e6%89%b1%e3%81%84%e3%81%8c%e6%94%b9%e5%96%84 aria-label=静的解析が困難なCJSモジュールの取り扱いが改善>静的解析が困難なCJSモジュールの取り扱いが改善</a></li><li><a href=#conditional-exports%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88%e3%81%ae%e6%94%b9%e5%96%84 aria-label="Conditional exportsサポートの改善">Conditional exportsサポートの改善</a></li><li><a href=#requireesm aria-label=require(esm)><code>require(esm)</code></a></li><li><a href=#processstdinpause aria-label=process.stdin.pause><code>process.stdin.pause</code></a></li></ul></li><li><a href=#cli aria-label=CLI>CLI</a></li><li><a href=#--allow-all%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e6%8c%af%e3%82%8b%e8%88%9e%e3%81%84%e3%81%ae%e5%a4%89%e6%9b%b4 aria-label=--allow-allに関する振る舞いの変更><code>--allow-all</code>に関する振る舞いの変更</a></li><li><a href=#web-api aria-label="Web API">Web API</a><ul><li><a href=#globalthislocation aria-label=globalThis.location><code>globalThis.location</code></a></li><li><a href=#web-crypto-api aria-label="Web Crypto API">Web Crypto API</a></li></ul></li></ul></li><li><a href=#denovite-plugin aria-label=@deno/vite-plugin><code>@deno/vite-plugin</code></a></li><li><a href=#deno_std%e3%81%ae%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9 aria-label=deno_stdのリリース><code>deno_std</code>のリリース</a><ul><li><a href=#stdarchive02254 aria-label=@std/archive@0.225.4><code>@std/archive@0.225.4</code></a></li><li><a href=#stdio02249 aria-label=@std/io@0.224.9><code>@std/io@0.224.9</code></a></li><li><a href=#stdcollections107 aria-label=@std/collections@1.0.7><code>@std/collections@1.0.7</code></a></li><li><a href=#stdhttp107 aria-label=@std/http@1.0.7><code>@std/http@1.0.7</code></a></li><li><a href=#stdexpect104 aria-label=@std/expect@1.0.4><code>@std/expect@1.0.4</code></a></li><li><a href=#stdstreams106 aria-label=@std/streams@1.0.6><code>@std/streams@1.0.6</code></a></li><li><a href=#stdassert106 aria-label=@std/assert@1.0.6><code>@std/assert@1.0.6</code></a></li><li><a href=#stdtext107 aria-label=@std/text@1.0.7><code>@std/text@1.0.7</code></a></li></ul></li><li><a href=#typesdeno aria-label=@types/deno><code>@types/deno</code></a></li><li><a href=#deno-20-rc%e3%81%a7react%e3%81%a8nextjs%e3%81%ae%e8%a8%ad%e5%ae%9a%e3%82%92%e8%a9%a6%e3%81%99 aria-label="Deno 2.0 rcでreactとnext.jsの設定を試す">Deno 2.0 rcでreactとnext.jsの設定を試す</a></li><li><a href=#slack-platformdeno%e3%82%92%e6%b4%bb%e7%94%a8%e3%81%97%e3%81%9f%e3%82%a4%e3%83%b3%e3%82%b7%e3%83%87%e3%83%b3%e3%83%88%e5%af%be%e5%bf%9c%e6%a8%99%e6%ba%96%e5%8c%96%e3%81%ae%e5%8f%96%e3%82%8a%e7%b5%84%e3%81%bf aria-label="Slack Platform（Deno）を活用したインシデント対応標準化の取り組み">Slack Platform（Deno）を活用したインシデント対応標準化の取り組み</a></li><li><a href=#rusty_v8%e3%81%ae%e5%ae%89%e5%ae%9a%e7%89%88%e3%81%8c%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9 aria-label=rusty_v8の安定版がリリース><code>rusty_v8</code>の安定版がリリース</a></li></ul></div></details></div><div class=post-content><h2 id=deno-v200-rc5v200-rc6v200-rc7がリリース>Deno v2.0.0-rc.5/v2.0.0-rc.6/v2.0.0-rc.7がリリース<a hidden class=anchor aria-hidden=true href=#deno-v200-rc5v200-rc6v200-rc7がリリース>#</a></h2><p>Denoのv2.0.0rc.5〜v2.0.0 rc.7がリリースされています:</p><ul><li><a href=https://github.com/denoland/deno/compare/dad5678baa0c96a40810f9af820145041fb8f98e...ba5b8d0213cde2585236098b00beb8a512889626><code>v2.0.0-rc.4</code>から<code>v2.0.0-rc.5</code>までの差分</a></li><li><a href=https://github.com/denoland/deno/compare/ba5b8d0213cde2585236098b00beb8a512889626...6be7d5139870ddbfef8f13dbe8cd4c59c34acc10><code>v2.0.0-rc.5</code>から<code>v2.0.0-rc.6</code>までの差分</a></li><li><a href=https://github.com/denoland/deno/compare/6be7d5139870ddbfef8f13dbe8cd4c59c34acc10...b694efb3849c4737e8ad617a9a48d5488e21d5da><code>v2.0.0-rc.6</code>から<code>v2.0.0-rc.7</code>までの差分</a></li></ul><h3 id=--allow-importの導入><code>--allow-import</code>の導入<a hidden class=anchor aria-hidden=true href=#--allow-importの導入>#</a></h3><p><code>--allow-import</code>という新しいパーミッションフラグが導入されています (短縮形式は<code>-I</code>)</p><p>Deno v2からリモートモジュールの読み込みを許可するホストに制限がかかるようです。必要に応じて<code>--allow-import</code>にリモートモジュールの読み込みを許可するホストを指定する必要があります。</p><p>ただし、デフォルトで以下のホストからのモジュールの<code>import</code>が許可されるようなので、基本的なケースにおいては今まで通り利用できると思われます:</p><ul><li><code>deno.land</code></li><li><a href=https://github.com/jsr-io/jsr><code>jsr.io</code></a></li><li><a href=https://github.com/esm-dev/esm.sh><code>esm.sh</code></a></li><li><code>raw.githubusercontent.com</code></li></ul><p>例えば、<a href=https://github.com/mjackson/unpkg>unpkg.com</a>からモジュールを<code>import</code>しようとすると、上記のいずれのホストにも当てはまらないため、権限が要求されます:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ky</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;https://unpkg.com/ky@1.7.2&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>ky</span>.<span style=color:#66d9ef>get</span>(<span style=color:#e6db74>&#34;https://api.github.com/repos/uki00a/deno-weekly&#34;</span>).<span style=color:#a6e22e>json</span>();
</span></span></code></pre></div><p>この場合、以下のように権限が求められます:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno run --allow-net main.js
</span></span><span style=display:flex><span>┏ ⚠️  Deno requests import access to <span style=color:#e6db74>&#34;unpkg.com:443&#34;</span>.
</span></span><span style=display:flex><span>┠─ Requested by <span style=color:#e6db74>`</span>import<span style=color:#f92672>()</span><span style=color:#e6db74>`</span> API.
</span></span><span style=display:flex><span>┠─ Learn more at: https://docs.deno.com/go/--allow-import
</span></span><span style=display:flex><span>┠─ Run again with --allow-import to bypass this prompt.
</span></span><span style=display:flex><span>┗ Allow? <span style=color:#f92672>[</span>y/n/A<span style=color:#f92672>]</span> <span style=color:#f92672>(</span>y <span style=color:#f92672>=</span> yes, allow; n <span style=color:#f92672>=</span> no, deny; A <span style=color:#f92672>=</span> allow all import permissions<span style=color:#f92672>)</span> &gt; 
</span></span></code></pre></div><p><code>--allow-import</code>によって<code>unpkg.com</code>を明示的に許可すると、権限が求められなくなります:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno run --allow-net --allow-import<span style=color:#f92672>=</span>unpkg.com main.js
</span></span></code></pre></div><p>ただし、<code>--allow-import</code>を明示した場合、デフォルトで許可される<code>deno.land</code>や<code>jsr.io</code>などのホストに対しても権限が必要となるため、必要に応じてそれらのホストも許可する必要がありそうです:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># unpkg.comとjsr.ioからのimportのみを許可します</span>
</span></span><span style=display:flex><span>$ deno run --allow-net --allow-import<span style=color:#f92672>=</span>unpkg.com,jsr.io main.js
</span></span></code></pre></div><p>また、<code>deno run</code>の引数でリモートのURLが指定された場合、デフォルトでそのホストからの<code>import</code>が許可されるようです。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25469>feat: add <code>--allow-import</code> flag #25469</a></li></ul><h3 id=破壊的変更>破壊的変更<a hidden class=anchor aria-hidden=true href=#破壊的変更>#</a></h3><h4 id=denojson><code>deno.json</code><a hidden class=anchor aria-hidden=true href=#denojson>#</a></h4><p><code>deno.json</code>の<code>importMap</code>オプションでのリモートのImport mapsの指定が廃止されました。(もし需要があれば、今後、よりセキュアな方法によって再度サポートを導入することも考慮されているようです)</p><p><code>--import-map</code>などでは引き続きリモートのImport mapsが指定できるので、そちらへの移行が推奨されます。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25836>BREAKING: remove support for remote import maps in deno.json #25836</a></li></ul><h4 id=denounsafewindowsurface><code>Deno.UnsafeWindowSurface</code><a hidden class=anchor aria-hidden=true href=#denounsafewindowsurface>#</a></h4><p><code>Deno.UnsafeWindowSurface</code>の<code>constructor</code>のシグネチャーが変更されています。引数として単一の<code>options</code>引数を受け取るように変更されており、必須のオプションとして<code>width</code>と<code>height</code>が追加されています。</p><p>この変更に合わせて、<a href=https://github.com/denoland/deno/blob/v1.46.3/cli/tsc/dts/lib.deno_webgpu.d.ts#L1785><code>GPUCanvasConfiguration</code></a>から<code>width</code>と<code>height</code>プロパティーが削除されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/24200>BREAKING(webgpu/unstable): move <code>width</code> and <code>height</code> options to <code>UnsafeWindowSurface</code> constructor #24200</a></li></ul><h4 id=denoerrorsbadresourceについて><code>Deno.errors.BadResource</code>について<a hidden class=anchor aria-hidden=true href=#denoerrorsbadresourceについて>#</a></h4><p>今まで以下のエラーについて<code>Deno.errors.BadResource</code>が<code>throw</code>されていましたが、代わりに<code>Deno.errors.Busy</code>が<code>throw</code>されるように挙動が変更されています:</p><ul><li><code>TCP stream is currently in use</code></li><li><code>Listener is currently in use</code></li><li><code>UNIX stream is currently in use</code> (エラーメッセージも<code>Unix socket is currently in use</code>に変更されています)</li></ul><hr><ul><li><a href=https://github.com/denoland/deno/pull/25383>BREAKING(ext/net): improved error code accuracy #25383</a></li></ul><h3 id=deno-fmt><code>deno fmt</code><a hidden class=anchor aria-hidden=true href=#deno-fmt>#</a></h3><h4 id=htmlcssyamlサポートの安定化>HTML/CSS/YAMLサポートの安定化<a hidden class=anchor aria-hidden=true href=#htmlcssyamlサポートの安定化>#</a></h4><p><a href=https://uki00a.github.io/deno-weekly/articles/deno/v1.46.html>Deno v1.46</a>で導入された<code>deno fmt</code>のCSS/HTML/YAMLサポートが安定化されました。<code>--unstable-css</code>などのオプションや<code>deno.json</code>での<code>"unstable": ["fmt-html"]</code>の指定などをせずとも、これらの形式のファイルがフォーマットされます。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25753>feat(fmt): stabilize CSS, HTML and YAML formatters #25753</a></li></ul><h4 id=deno-fmt---check><code>deno fmt --check</code><a hidden class=anchor aria-hidden=true href=#deno-fmt---check>#</a></h4><p>CSS/HTML/YAML形式のファイルに対して<code>deno fmt --check</code>を実行すると、常にエラーとして扱われてしまう問題も修正されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25848>fix(fmt): &ndash;check was broken for CSS, YAML and HTML #25848</a></li></ul><h4 id=nunjucksとventoのサポート>NunjucksとVentoのサポート<a hidden class=anchor aria-hidden=true href=#nunjucksとventoのサポート>#</a></h4><p><code>deno fmt</code>で<a href=https://github.com/mozilla/nunjucks><code>.njk</code></a>と<a href=https://github.com/ventojs/vento><code>.vto</code></a>形式がサポートされています。これらの形式のファイルをフォーマットするには<code>--unstable-component</code>の指定が必要です。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25831>feat(fmt): support vto and njk extensions #25831</a></li></ul><h3 id=deno-add><code>deno add</code><a hidden class=anchor aria-hidden=true href=#deno-add>#</a></h3><p><a href=https://uki00a.github.io/deno-weekly/articles/2024/03/10.html><code>deno add</code>でnpmパッケージを追加する</a>際に、バージョンが省略された場合はデフォルトで<a href=https://uki00a.github.io/deno-weekly/articles/deno/v1.46.html><code>latest</code>タグ</a>に設定されたバージョンがインストールされるよう振る舞いが変更されています</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25858>fix(add/install): default to &ldquo;latest&rdquo; tag for npm packages in <code>deno add npm:pkg</code> #25858</a></li></ul><h3 id=deno-compile><code>deno compile</code><a hidden class=anchor aria-hidden=true href=#deno-compile>#</a></h3><p>RCバージョンでも<code>deno compile</code>が動作するように改善されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25875>fix(compile): support &lsquo;deno compile&rsquo; in RC and LTS releases #25875</a></li></ul><h3 id=typescript>TypeScript<a hidden class=anchor aria-hidden=true href=#typescript>#</a></h3><h4 id=compileroptionsnoimplicitoverride><code>compilerOptions.noImplicitOverride</code><a hidden class=anchor aria-hidden=true href=#compileroptionsnoimplicitoverride>#</a></h4><p>リモートモジュールに対して<a href=https://uki00a.github.io/deno-weekly/articles/2024/09/22.html><code>compilerOptions.noImplicitOverride</code></a>が適用されないよう挙動が修正されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25854>fix(check): ignore noImplicitOverrides in remote modules #25854</a></li></ul><h3 id=nodejs互換性の改善>Node.js互換性の改善<a hidden class=anchor aria-hidden=true href=#nodejs互換性の改善>#</a></h3><h4 id=--node-modules-dir><code>--node-modules-dir</code><a hidden class=anchor aria-hidden=true href=#--node-modules-dir>#</a></h4><p><code>--node-modules-dir</code>オプションに値が指定されなかった場合、<code>--node-modules-dir</code>が無視されてしまっていた問題が修正されています。<code>auto</code>がデフォルト値として使われます。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25772>fix(cli): Default to auto with &ndash;node-modules-dir flag #25772</a></li></ul><h4 id=静的解析が困難なcjsモジュールの取り扱いが改善>静的解析が困難なCJSモジュールの取り扱いが改善<a hidden class=anchor aria-hidden=true href=#静的解析が困難なcjsモジュールの取り扱いが改善>#</a></h4><p>静的な解析が困難な<a href=https://uki00a.github.io/deno-weekly/articles/2024/09/08.html>CJSファイルの<code>import</code></a>時にエラーが発生する問題が改善されています。</p><p>主に<a href=https://github.com/web-infra-dev/rsbuild>Rsbuild</a>の動作に向けた対応のようです。</p><p>また、Denoの公式ドキュメントに<a href=https://github.com/denoland/docs/pull/896>CommonJSサポートに関する解説が追加</a>されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25748>fix(node): Don&rsquo;t error out if we fail to statically analyze CJS re-export #25748</a></li></ul><h4 id=conditional-exportsサポートの改善>Conditional exportsサポートの改善<a hidden class=anchor aria-hidden=true href=#conditional-exportsサポートの改善>#</a></h4><p><a href=https://github.com/nodejs/node/blob/v22.9.0/doc/api/packages.md#conditional-exports>Conditional exports</a>で<code>"node"</code>に指定されたパスが解釈されるよう振る舞いが改善されています。</p><p>これがサポートされていなかったことで、<code>nuxt build</code>によって生成されたサーバーをDenoで動かせない問題があったようです。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25785>fix(node): Include &ldquo;node&rdquo; condition during CJS re-export analysis #25785</a></li></ul><h4 id=requireesm><code>require(esm)</code><a hidden class=anchor aria-hidden=true href=#requireesm>#</a></h4><p><a href=https://uki00a.github.io/deno-weekly/articles/2024/09/15.html>ESM形式のモジュールを<code>require</code></a>しようとするとパニックすることがある問題が改善されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25769>fix: panic when require(esm) #25769</a></li></ul><h4 id=processstdinpause><code>process.stdin.pause</code><a hidden class=anchor aria-hidden=true href=#processstdinpause>#</a></h4><p><a href=https://www.npmjs.com/package/create-vite>create-vite</a>がハングする問題を解消するため、<code>process.stdin.pause</code>の振る舞いが修正されています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25864>fix(ext/node): fix process.stdin.pause() #25864</a></li></ul><h3 id=cli>CLI<a hidden class=anchor aria-hidden=true href=#cli>#</a></h3><p>サブコマンドよりも前の位置にDenoのCLI引数(<code>--allow-net</code>など)が指定された際に、エラーが発生するように振る舞いが改善されています (今までは単純に無視されていたようです)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ deno --allow-read run main.js
</span></span><span style=display:flex><span>error: unexpected argument <span style=color:#e6db74>&#39;--allow-read&#39;</span> found
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  tip: <span style=color:#e6db74>&#39;run --allow-read&#39;</span> exists
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Usage: deno run <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>SCRIPT_ARG<span style=color:#f92672>]</span>...
</span></span></code></pre></div><hr><ul><li><a href=https://github.com/denoland/deno/pull/25830>fix: error out if a valid flag is passed before a subcommand #25830</a></li></ul><h3 id=--allow-allに関する振る舞いの変更><code>--allow-all</code>に関する振る舞いの変更<a hidden class=anchor aria-hidden=true href=#--allow-allに関する振る舞いの変更>#</a></h3><p><code>--allow-all</code>とその他の<code>--allow-*</code>フラグが併用された際に、エラーが発生するように振る舞いが変更されています</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25909>fix(flags): &ndash;allow-all should conflict with lower permissions #25909</a></li></ul><h3 id=web-api>Web API<a hidden class=anchor aria-hidden=true href=#web-api>#</a></h3><h4 id=globalthislocation><code>globalThis.location</code><a hidden class=anchor aria-hidden=true href=#globalthislocation>#</a></h4><p><code>globalThis.location</code>が<code>configurable: true</code>に変更されています。主にVitest 2の動作に向けた対応のようです。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25812>feat: make &lsquo;globalThis.location&rsquo; a configurable property #25812</a></li></ul><h4 id=web-crypto-api>Web Crypto API<a hidden class=anchor aria-hidden=true href=#web-crypto-api>#</a></h4><p><code>SubtleCrypto</code>の<code>importKey</code>と<code>exportKey</code>でP521 EC鍵がサポートされています。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25789>feat(ext/crypto): import and export p521 keys #25789</a></li></ul><h2 id=denovite-plugin><code>@deno/vite-plugin</code><a hidden class=anchor aria-hidden=true href=#denovite-plugin>#</a></h2><p>Deno公式からViteプラグインが公開されています:</p><ul><li>パッケージ: <a href=https://www.npmjs.com/package/@deno/vite-plugin>@deno/vite-plugin</a></li><li>リポジトリ: <a href=https://github.com/denoland/deno-vite-plugin>denoland/deno-vite-plugin</a></li></ul><p><code>npm:</code>/<code>jsr:</code>/<code>https:</code>のサポートや、<code>deno.json</code>で定義されたImport mapsの解決などがサポートされているようです。</p><h2 id=deno_stdのリリース><code>deno_std</code>のリリース<a hidden class=anchor aria-hidden=true href=#deno_stdのリリース>#</a></h2><p><code>deno_std</code>がリリースされています (<a href=https://github.com/denoland/std/releases/tag/release-2024.09.24>release-2024.09.24</a>)</p><h3 id=stdarchive02254><code>@std/archive@0.225.4</code><a hidden class=anchor aria-hidden=true href=#stdarchive02254>#</a></h3><p><a href=https://jsr.io/@std/archive@0.225.4>@std/archive@0.225.4</a>がリリースされています。</p><p><code>@std/archive</code>が非推奨化されており、今後は<a href=https://uki00a.github.io/deno-weekly/articles/2024/09/08.html><code>@std/tar</code></a>への移行が推奨されます。</p><h3 id=stdio02249><code>@std/io@0.224.9</code><a hidden class=anchor aria-hidden=true href=#stdio02249>#</a></h3><p><a href=https://jsr.io/@std/io@0.224.9>@std/io@0.224.9</a>がリリースされています。</p><p>以下のAPIが非推奨化されており、<a href=https://jsr.io/@std/streams@1.0.6>@std/streams</a>への移行が推奨されています:</p><table><thead><tr><th style=text-align:center>非推奨化されたAPI</th><th style=text-align:center>移行先</th></tr></thead><tbody><tr><td style=text-align:center><code>BufWriter</code></td><td style=text-align:center><code>Buffer</code> (<code>@std/streams/buffer</code>)</td></tr><tr><td style=text-align:center><code>BufReader</code></td><td style=text-align:center><code>Buffer</code> (<code>@std/streams/buffer</code>)</td></tr><tr><td style=text-align:center><code>StringWriter</code></td><td style=text-align:center><code>Buffer.writable</code> (<code>@std/streams/buffer</code>)</td></tr><tr><td style=text-align:center><code>StringReader</code></td><td style=text-align:center><code>Buffer</code> (<code>@std/streams/buffer</code>)</td></tr><tr><td style=text-align:center><code>LimitedReader</code></td><td style=text-align:center><code>LimitedBytesTransformStream</code> (<code>@std/streams/limited-bytes-transform-stream</code>)</td></tr><tr><td style=text-align:center><code>MultiReader</code></td><td style=text-align:center><code>mergeReadableStreams</code> (<code>@std/streams/merge-readable-streams</code>)</td></tr><tr><td style=text-align:center><code>readDelim</code></td><td style=text-align:center><code>ByteSliceStream</code> (<code>@std/streams/byte-slice-stream</code>)</td></tr><tr><td style=text-align:center><code>readLong</code></td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>readRange</code></td><td style=text-align:center><code>ByteSliceStream</code> (<code>@std/streams/byte-slice-stream</code>)</td></tr><tr><td style=text-align:center><code>readInt</code></td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>readShort</code></td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>sliceLongToBytes</code></td><td style=text-align:center>-</td></tr><tr><td style=text-align:center><code>readStringDelim</code></td><td style=text-align:center><code>TextDelimiterStream</code> (<code>@std/streams/text-delimiter-stream</code>)</td></tr><tr><td style=text-align:center><code>copyN</code></td><td style=text-align:center><code>ByteSliceStream</code> (<code>@std/streams/byte-slice-stream</code>)</td></tr><tr><td style=text-align:center><code>readLines</code></td><td style=text-align:center><code>toLines</code> (<code>@std/streams/unstable-to-lines</code>)</td></tr></tbody></table><h3 id=stdcollections107><code>@std/collections@1.0.7</code><a hidden class=anchor aria-hidden=true href=#stdcollections107>#</a></h3><p><a href=https://jsr.io/@std/collections@1.0.7>@std/collections@1.0.7</a>がリリースされています。</p><p>配列を引数として受け取る各種APIで<code>Iterable</code>をサポートするための対応が行われています。現状では、<code>Iterable</code>のサポートは<code>unstable-</code>プレフィックスがついたモジュールから利用できます:</p><ul><li><code>sample</code> (<code>@std/collections/unstable-sample</code>)</li><li><code>withoutAll</code> (<code>@std/collections/unstable-without-all</code>)</li><li><code>chunk</code> (<code>@std/collections/unstable-chunk</code>)</li><li><code>sortBy</code> (<code>@std/collections/unstable-sort-by</code>)</li><li><code>takeWhile</code> (<code>@std/collections/unstable-take-while</code>)</li></ul><h3 id=stdhttp107><code>@std/http@1.0.7</code><a hidden class=anchor aria-hidden=true href=#stdhttp107>#</a></h3><p><a href=https://jsr.io/@std/http@1.0.7>@std/http@1.0.7</a>がリリースされています。</p><p><a href=https://uki00a.github.io/deno-weekly/articles/2024/08/11.html>@std/http/unstable-route</a>の<code>Route.method</code>に配列で複数のメソッドを指定できるように改善されています。</p><h3 id=stdexpect104><code>@std/expect@1.0.4</code><a hidden class=anchor aria-hidden=true href=#stdexpect104>#</a></h3><p><a href=https://jsr.io/@std/expect@1.0.4>@std/expect@1.0.4</a>がリリースされています。</p><p><a href=https://github.com/jestjs/jest/blob/v29.7.0/docs/ExpectAPI.md#expecthasassertions>expect.hasAssertions()</a>が実装されています。</p><h3 id=stdstreams106><code>@std/streams@1.0.6</code><a hidden class=anchor aria-hidden=true href=#stdstreams106>#</a></h3><p><a href=https://jsr.io/@std/streams@1.0.6>@std/streams@1.0.6</a>がリリースされています。</p><p>新しいAPIとして<code>toBytes</code> (<code>@std/streams/unstable-to-bytes</code>)が追加されています。<code>ReadableStream&lt;Uint8Array></code>を受け取り、そこから読み込まれたデータを結合して結果を<code>Promise&lt;Uint8Array></code>として返却してくれます。</p><h3 id=stdassert106><code>@std/assert@1.0.6</code><a hidden class=anchor aria-hidden=true href=#stdassert106>#</a></h3><p><a href=https://jsr.io/@std/assert@1.0.6>@std/assert@1.0.6</a>がリリースされています。</p><p>各種<code>assert*</code>関数で<code>abstract class</code>を引数として受け取れるように型定義が改善されています。</p><h3 id=stdtext107><code>@std/text@1.0.7</code><a hidden class=anchor aria-hidden=true href=#stdtext107>#</a></h3><p><a href=https://jsr.io/@std/text@1.0.7>@std/text@1.0.7</a>がリリースされています。</p><p><code>levenshteinDistance</code> (<code>@std/text/levenshtein-distance</code>)においてU+FFFFよりも大きいコードポイントが適切に取り扱われない問題が修正されています。</p><h2 id=typesdeno><code>@types/deno</code><a hidden class=anchor aria-hidden=true href=#typesdeno>#</a></h2><p>DefinitelyTypedに<a href=https://www.npmjs.com/package/@types/deno><code>@types/deno</code></a>パッケージが追加されています:</p><ul><li><a href=https://github.com/DefinitelyTyped/DefinitelyTyped/pull/70492>https://github.com/DefinitelyTyped/DefinitelyTyped/pull/70492</a></li></ul><p>DenoのAPIに関する型定義が提供されるようです。</p><hr><ul><li><a href=https://github.com/denoland/deno/pull/25545>chore: add code generation for @types/deno #25545</a></li></ul><h2 id=deno-20-rcでreactとnextjsの設定を試す>Deno 2.0 rcでreactとnext.jsの設定を試す<a hidden class=anchor aria-hidden=true href=#deno-20-rcでreactとnextjsの設定を試す>#</a></h2><p><a href=https://uki00a.github.io/deno-weekly/articles/2024/09/22.html>Deno v2.0.0-rc.4</a>を使ってNext.jsを動作させる記事が公開されています:</p><ul><li><a href=https://zenn.dev/yabuki/articles/2024-09-22-deno20-with-react-nextjs>Deno 2.0 rcでreactとnext.jsの設定を試す</a></li></ul><h2 id=slack-platformdenoを活用したインシデント対応標準化の取り組み>Slack Platform（Deno）を活用したインシデント対応標準化の取り組み<a hidden class=anchor aria-hidden=true href=#slack-platformdenoを活用したインシデント対応標準化の取り組み>#</a></h2><p><a href=https://uki00a.github.io/deno-weekly/articles/2021/11/21.html>Slackの開発プラットフォーム</a>とDenoの活用に関する記事が公開されています:</p><ul><li><a href=https://zenn.dev/monicle/articles/b3173ccbaa41a1>Slack Platform（Deno）を活用したインシデント対応標準化の取り組み</a></li></ul><h2 id=rusty_v8の安定版がリリース><code>rusty_v8</code>の安定版がリリース<a hidden class=anchor aria-hidden=true href=#rusty_v8の安定版がリリース>#</a></h2><p><a href=https://github.com/denoland/deno_core>deno_core</a>の内部で使用されている<code>rusty_v8</code>の安定バージョンが公開されたようです:</p><ul><li><a href=https://deno.com/blog/rusty-v8-stabilized>Announcing Stable V8 Bindings for Rust</a></li></ul><p>これに合わせて<a href=https://github.com/denoland/rusty_v8/tree/v129.0.0#versioning>バージョニングに関する方針</a>が変更されるようで、今後はChromeのバージョニングと同様の方式で運用が行われるようです。例えば、<a href=https://github.com/denoland/rusty_v8/releases/tag/v129.0.0>rusty_v8 v129.0.0</a>ではChrome v129に合わせてV8の<code>v12.9.a.b</code>が使用されるようです。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://uki00a.github.io/deno-weekly/tags/deno.html>deno</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno_std.html>deno_std</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/esm.sh.html>esm.sh</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/jsr.html>jsr</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/vite.html>Vite</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/next.js.html>Next.js</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/slack.html>Slack</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://uki00a.github.io/deno-weekly/>週刊Deno</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>