<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>2024/01/01〜2024/01/07の最新情報 | 週刊Deno</title><meta name=keywords content="Deno,Deno KV,deno_std,Deno Deploy"><meta name=description content="Deno v1.39.2 (BYONMとImport Mapsの併用がサポート, deno lspでV8インスペクターへの接続がサポート, など), deno_std v0.211.0 (std/httpなどから非推奨APIが削除, std/semverの一部APIの非推奨化など), WASMやBlobなどのimportについて, unstable APIの型チェックに関する挙動の変更について, 「RustでWebバックエンドを書き始めてから1年くらい経った」"><meta name=author content><link rel=canonical href=https://uki00a.github.io/deno-weekly/articles/2024/01/07.html><link crossorigin=anonymous href=/deno-weekly/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/deno-weekly/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://uki00a.github.io/deno-weekly/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://uki00a.github.io/deno-weekly/favicon-32x32.png><link rel=apple-touch-icon href=https://uki00a.github.io/deno-weekly/apple-touch-icon.png><link rel=mask-icon href=https://uki00a.github.io/deno-weekly/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta property="twitter:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta name=twitter:site content="@uki00a"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MK2K2MRMBF"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MK2K2MRMBF",{anonymize_ip:!1})}</script><meta property="og:title" content="2024/01/01〜2024/01/07の最新情報"><meta property="og:description" content="Deno v1.39.2 (BYONMとImport Mapsの併用がサポート, deno lspでV8インスペクターへの接続がサポート, など), deno_std v0.211.0 (std/httpなどから非推奨APIが削除, std/semverの一部APIの非推奨化など), WASMやBlobなどのimportについて, unstable APIの型チェックに関する挙動の変更について, 「RustでWebバックエンドを書き始めてから1年くらい経った」"><meta property="og:type" content="article"><meta property="og:url" content="https://uki00a.github.io/deno-weekly/articles/2024/01/07.html"><meta property="article:section" content="articles"><meta property="article:published_time" content="2024-01-07T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-07T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="2024/01/01〜2024/01/07の最新情報"><meta name=twitter:description content="Deno v1.39.2 (BYONMとImport Mapsの併用がサポート, deno lspでV8インスペクターへの接続がサポート, など), deno_std v0.211.0 (std/httpなどから非推奨APIが削除, std/semverの一部APIの非推奨化など), WASMやBlobなどのimportについて, unstable APIの型チェックに関する挙動の変更について, 「RustでWebバックエンドを書き始めてから1年くらい経った」"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2024/01/01〜2024/01/07の最新情報","item":"https://uki00a.github.io/deno-weekly/articles/2024/01/07.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2024/01/01〜2024/01/07の最新情報","name":"2024\/01\/01〜2024\/01\/07の最新情報","description":"Deno v1.39.2 (BYONMとImport Mapsの併用がサポート, deno lspでV8インスペクターへの接続がサポート, など), deno_std v0.211.0 (std/httpなどから非推奨APIが削除, std/semverの一部APIの非推奨化など), WASMやBlobなどのimportについて, unstable APIの型チェックに関する挙動の変更について, 「RustでWebバックエンドを書き始めてから1年くらい経った」","keywords":["Deno","Deno KV","deno_std","Deno Deploy"],"articleBody":"Deno v1.39.2 Deno v1.39.2がリリースされました。\nNode.js互換性 BYONMとImport Mapsを併用できるようになりました。\n また、import.meta.resolve()でnpm:URLがサポートされています。\nimport.meta.resolve(\"npm:express\"); // = \"npm:express\"  Node.jsの組み込みパッケージに関しても様々な改善が行われており、試せてはいないのですが、next buildが動作するようになったようです。\n node:dgram: Socketのunref/refが実装 node:http: ClientRequest#setNoDelayが実装 node:crypto: aes-192-ecbとaes-256-ecbがサポート node:process: process.abort()が実装 node:os: os.machine()が実装 node:os: os.cpus()の互換性の向上 (今まではダミーの値が返されていました。) node:test: TestContext#testで2段階以上のネストがサポートされました。  deno lsp V8インスペクターへの接続がサポートされています。\nvscode_deno v3.31.0で\"deno.internalInspect\"オプションが追加されており、これにtrueなどを設定すると有効化されるようです。\nDebugger listening on ws://127.0.0.1:9222/ws/ Visit chrome://inspect to connect to the debugger.  compilerOptions.jsxImportSourceで指定されたモジュールをdeno lspが自動でキャッシュするように挙動が改善されました。\n Test code lensでDeno.test.only/Deno.test.ignoreを使用して定義されたテストケースが検出されるように改善されました。\ndeno check deno checkコマンドでdeno.jsonのexcludeの内容が反映されるように改善されました。\nDeno KV DBがクローズされたらウォッチャー(Deno.Kv#watch)も自動で停止するように挙動が改善されています。\nObject.groupBy 戻り値の型がRecordからPartialに変更されました。\ndeno_std v0.211.0 deno_std v0.211.0がリリースされました。\n非推奨API・モジュールの削除 std/collections group_by.tsが削除されています。 (Object.groupByへの移行が推奨されます)\nstd/crypto keystack.tsが削除されています。(std/crypto/unstable_keystack.tsへの移行が推奨されます)\nstd/front_matter 以下の非推奨APIが削除されています。\n 各ファイルからFormatが削除されています。(\"yaml\"や\"toml\"などの文字列リテラルの使用が推奨されます。) {any,json,toml,yaml}.tsからdefault export(代わりにextractという名前でnamed importができます)とtest()(代わりにtest.tsから読み込めます)が削除されています。  std/http 以下のモジュールとAPIが削除されています\n http_status.tsが削除されています。 (std/http/status.tsへの移行が推奨されます。) status.tsのStatusが削除されています。 (STATUS_CODEへの移行が推奨されます。) std/http/util.tsが削除されています。  std/path  posix.tsが削除されています。(std/path/posix/mod.tsへの移行が推奨されます。) win32.tsが削除されています。(std/path/windows/mod.tsへの移行が推奨されます。)  std トップレベルのstd/types.d.tsが削除されています。\n今のところはstd/io/types.d.tsへの移行が推奨されます。ただし、std/io/types.d.tsも非推奨化されており、こちらも将来的に削除されることが計画されているようです。\n非推奨化 std/log string形式のBaseHandler.formatterが非推奨化されています。(関数形式の値は引き続き利用できます。)\nstd/semver  compare_build.tsが非推奨化されました。 test_comparator.tsが非推奨化されました。(compareの使用が推奨されます。) cmp.tsが非推奨化されました。(compareの使用が推奨推奨されます。) formatのstyle引数が非推奨化されました。(SemVerのプロパティを直接参照することが推奨されるようです。) rsortがreverseSortにリネームされています。  std/cli/spinner.ts 表示するメッセージを動的に切り替えられるようにするため、Spinner.messageがpublicプロパティに変更されました。\nstd/semver  SemVerのprereleaseとbuildプロパティがオプショナルに変更されています。 rangeMaxの戻り値がSemVer | undefinedからSemVerに変更されています。  std/expect 以下のAPIのJestとの互換性が改善されています。\n expect().toEqual()でオブジェクト同士を比較する際に、値にundefinedが設定されているキーが比較対象から除外されるように変更されました。 expect().toStrictEqual()でオブジェクト同士を比較する際に、参照ではなく各プロパティの内容もきちんと比較されるように変更されました。(assertEqualsと同様の振る舞いをします)  WASMやBlobなどのimportについて Deno公式のYoutubeチャンネルで公開されている動画でWASMやBlobなどのimportのサポートが開発中であると発表されています。\n  deno_coreで開発が進められているようです。\n feat: Allow embedders to load custom module types (#402)\n unstable APIの型チェックに関する挙動の変更について 現状、deno checkコマンドなどでunstable APIを利用したコードの型チェックをする場合、--unstableオプションが指定されていなければ、型エラーが発生します。\nこの挙動を変更して、--unstableオプションが指定されていない状態であっても、型チェック時は常にunstable APIを有効化することが検討されているようです。\n feat: remove conditional unstable type-checking (#21825)\n 現在のunstable APIに関する型チェックの挙動は生産性に対して悪影響があることが考えられるということで、この変更が検討されたようです。\n今のところ、この変更はDeno v1.40で導入されることが計画されているようです。\nRustでWebバックエンドを書き始めてから1年くらい経った 「RustでWebバックエンドを書き始めてから1年くらい経った」という記事が公開されています。\n https://zenn.dev/magurotuna/articles/rust-at-work  Deno Deployやその内部構成などについて解説されています。\n","wordCount":"144","inLanguage":"en","datePublished":"2024-01-07T00:00:00Z","dateModified":"2024-01-07T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://uki00a.github.io/deno-weekly/articles/2024/01/07.html"},"publisher":{"@type":"Organization","name":"週刊Deno","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://uki00a.github.io/deno-weekly/ accesskey=h title="週刊Deno (Alt + H)">週刊Deno</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://uki00a.github.io/deno-weekly/tags.html title=タグ><span><i class="fa fa-heart"></i>タグ</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/categories.html title=カテゴリー><span><i class="fa fa-heart"></i>カテゴリー</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/gallery.html title=ギャラリー><span><i class="fa fa-road"></i>ギャラリー<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/index.xml title="RSS feed"><span><i class="fa fa-road"></i>RSS feed<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/about.html title=About><span><i class="fa fa-road"></i>About<span class=alert></span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>2024/01/01〜2024/01/07の最新情報</h1><div class=post-description>Deno v1.39.2 (BYONMとImport Mapsの併用がサポート, deno lspでV8インスペクターへの接続がサポート, など), deno_std v0.211.0 (std/httpなどから非推奨APIが削除, std/semverの一部APIの非推奨化など), WASMやBlobなどのimportについて, unstable APIの型チェックに関する挙動の変更について, 「RustでWebバックエンドを書き始めてから1年くらい経った」</div><div class=post-meta><span title="2024-01-07 00:00:00 +0000 UTC">January 7, 2024</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#deno-v1392 aria-label="Deno v1.39.2">Deno v1.39.2</a><ul><li><a href=#nodejs%e4%ba%92%e6%8f%9b%e6%80%a7 aria-label=Node.js互換性>Node.js互換性</a></li><li><a href=#deno-lsp aria-label="deno lsp"><code>deno lsp</code></a></li><li><a href=#deno-check aria-label="deno check"><code>deno check</code></a></li><li><a href=#deno-kv aria-label="Deno KV">Deno KV</a></li><li><a href=#objectgroupby aria-label=Object.groupBy><code>Object.groupBy</code></a></li></ul></li><li><a href=#deno_std-v02110 aria-label="deno_std v0.211.0">deno_std v0.211.0</a><ul><li><a href=#%e9%9d%9e%e6%8e%a8%e5%a5%a8api%e3%83%a2%e3%82%b8%e3%83%a5%e3%83%bc%e3%83%ab%e3%81%ae%e5%89%8a%e9%99%a4 aria-label=非推奨API・モジュールの削除>非推奨API・モジュールの削除</a><ul><li><a href=#stdcollections aria-label=std/collections><code>std/collections</code></a></li><li><a href=#stdcrypto aria-label=std/crypto><code>std/crypto</code></a></li><li><a href=#stdfront_matter aria-label=std/front_matter><code>std/front_matter</code></a></li><li><a href=#stdhttp aria-label=std/http><code>std/http</code></a></li><li><a href=#stdpath aria-label=std/path><code>std/path</code></a></li><li><a href=#std aria-label=std><code>std</code></a></li></ul></li><li><a href=#%e9%9d%9e%e6%8e%a8%e5%a5%a8%e5%8c%96 aria-label=非推奨化>非推奨化</a><ul><li><a href=#stdlog aria-label=std/log><code>std/log</code></a></li><li><a href=#stdsemver aria-label=std/semver><code>std/semver</code></a></li></ul></li><li><a href=#stdclispinnerts aria-label=std/cli/spinner.ts><code>std/cli/spinner.ts</code></a></li><li><a href=#stdsemver-1 aria-label=std/semver><code>std/semver</code></a></li><li><a href=#stdexpect aria-label=std/expect><code>std/expect</code></a></li></ul></li><li><a href=#wasm%e3%82%84blob%e3%81%aa%e3%81%a9%e3%81%aeimport%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6 aria-label=WASMやBlobなどのimportについて>WASMやBlobなどの<code>import</code>について</a></li><li><a href=#unstable-api%e3%81%ae%e5%9e%8b%e3%83%81%e3%82%a7%e3%83%83%e3%82%af%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e6%8c%99%e5%8b%95%e3%81%ae%e5%a4%89%e6%9b%b4%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6 aria-label="unstable APIの型チェックに関する挙動の変更について">unstable APIの型チェックに関する挙動の変更について</a></li><li><a href=#rust%e3%81%a7web%e3%83%90%e3%83%83%e3%82%af%e3%82%a8%e3%83%b3%e3%83%89%e3%82%92%e6%9b%b8%e3%81%8d%e5%a7%8b%e3%82%81%e3%81%a6%e3%81%8b%e3%82%891%e5%b9%b4%e3%81%8f%e3%82%89%e3%81%84%e7%b5%8c%e3%81%a3%e3%81%9f aria-label=RustでWebバックエンドを書き始めてから1年くらい経った>RustでWebバックエンドを書き始めてから1年くらい経った</a></li></ul></div></details></div><div class=post-content><h2 id=deno-v1392>Deno v1.39.2<a hidden class=anchor aria-hidden=true href=#deno-v1392>#</a></h2><p><a href=https://github.com/denoland/deno/releases/tag/v1.39.2>Deno v1.39.2</a>がリリースされました。</p><h3 id=nodejs互換性>Node.js互換性<a hidden class=anchor aria-hidden=true href=#nodejs互換性>#</a></h3><p><a href=(https://uki00a.github.io/deno-weekly/articles/deno/v1.38.html)>BYONM</a>とImport Mapsを併用できるようになりました。</p><hr><p>また、<code>import.meta.resolve()</code>で<code>npm:</code>URLがサポートされています。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>resolve</span>(<span style=color:#e6db74>&#34;npm:express&#34;</span>); <span style=color:#75715e>// =&gt; &#34;npm:express&#34;
</span></span></span></code></pre></div><hr><p>Node.jsの組み込みパッケージに関しても様々な改善が行われており、試せてはいないのですが、<code>next build</code>が動作するようになったようです。</p><ul><li><code>node:dgram</code>: <code>Socket</code>の<code>unref</code>/<code>ref</code>が実装</li><li><code>node:http</code>: <code>ClientRequest#setNoDelay</code>が実装</li><li><code>node:crypto</code>: <code>aes-192-ecb</code>と<code>aes-256-ecb</code>がサポート</li><li><code>node:process</code>: <code>process.abort()</code>が実装</li><li><code>node:os</code>: <code>os.machine()</code>が実装</li><li><code>node:os</code>: <code>os.cpus()</code>の互換性の向上 (今まではダミーの値が返されていました。)</li><li><code>node:test</code>: <code>TestContext#test</code>で2段階以上のネストがサポートされました。</li></ul><h3 id=deno-lsp><code>deno lsp</code><a hidden class=anchor aria-hidden=true href=#deno-lsp>#</a></h3><p>V8インスペクターへの接続がサポートされています。</p><p><a href=https://github.com/denoland/vscode_deno/releases/tag/3.31.0>vscode_deno v3.31.0</a>で<code>"deno.internalInspect"</code>オプションが追加されており、これに<code>true</code>などを設定すると有効化されるようです。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Debugger listening on ws://127.0.0.1:9222/ws/&lt;id&gt;
</span></span><span style=display:flex><span>Visit chrome://inspect to connect to the debugger.
</span></span></code></pre></div><hr><p><code>compilerOptions.jsxImportSource</code>で指定されたモジュールを<code>deno lsp</code>が自動でキャッシュするように挙動が改善されました。</p><hr><p>Test code lensで<code>Deno.test.only</code>/<code>Deno.test.ignore</code>を使用して定義されたテストケースが検出されるように改善されました。</p><h3 id=deno-check><code>deno check</code><a hidden class=anchor aria-hidden=true href=#deno-check>#</a></h3><p><code>deno check</code>コマンドで<code>deno.json</code>の<code>exclude</code>の内容が反映されるように改善されました。</p><h3 id=deno-kv>Deno KV<a hidden class=anchor aria-hidden=true href=#deno-kv>#</a></h3><p>DBがクローズされたらウォッチャー(<code>Deno.Kv#watch</code>)も自動で停止するように挙動が改善されています。</p><h3 id=objectgroupby><code>Object.groupBy</code><a hidden class=anchor aria-hidden=true href=#objectgroupby>#</a></h3><p>戻り値の型が<code>Record&lt;Key, Item[]></code>から<code>Partial&lt;Record&lt;Key, Item[]>></code>に変更されました。</p><h2 id=deno_std-v02110>deno_std v0.211.0<a hidden class=anchor aria-hidden=true href=#deno_std-v02110>#</a></h2><p><a href=https://github.com/denoland/deno_std/releases/tag/0.211.0>deno_std v0.211.0</a>がリリースされました。</p><h3 id=非推奨apiモジュールの削除>非推奨API・モジュールの削除<a hidden class=anchor aria-hidden=true href=#非推奨apiモジュールの削除>#</a></h3><h4 id=stdcollections><code>std/collections</code><a hidden class=anchor aria-hidden=true href=#stdcollections>#</a></h4><p><code>group_by.ts</code>が削除されています。 (<code>Object.groupBy</code>への移行が推奨されます)</p><h4 id=stdcrypto><code>std/crypto</code><a hidden class=anchor aria-hidden=true href=#stdcrypto>#</a></h4><p><code>keystack.ts</code>が削除されています。(<a href=https://deno.land/std@0.211.0/crypto/unstable_keystack.ts>std/crypto/unstable_keystack.ts</a>への移行が推奨されます)</p><h4 id=stdfront_matter><code>std/front_matter</code><a hidden class=anchor aria-hidden=true href=#stdfront_matter>#</a></h4><p>以下の非推奨APIが削除されています。</p><ul><li>各ファイルから<code>Format</code>が削除されています。(<code>"yaml"</code>や<code>"toml"</code>などの文字列リテラルの使用が推奨されます。)</li><li><code>{any,json,toml,yaml}.ts</code>からdefault export(代わりに<code>extract</code>という名前でnamed importができます)と<code>test()</code>(代わりに<code>test.ts</code>から読み込めます)が削除されています。</li></ul><h4 id=stdhttp><code>std/http</code><a hidden class=anchor aria-hidden=true href=#stdhttp>#</a></h4><p>以下のモジュールとAPIが削除されています</p><ul><li><code>http_status.ts</code>が削除されています。 (<a href=https://deno.land/std@0.211.0/http/status.ts>std/http/status.ts</a>への移行が推奨されます。)</li><li><code>status.ts</code>の<code>Status</code>が削除されています。 (<a href="https://deno.land/std@0.211.0/http/status.ts?s=STATUS_CODE"><code>STATUS_CODE</code></a>への移行が推奨されます。)</li><li><code>std/http/util.ts</code>が削除されています。</li></ul><h4 id=stdpath><code>std/path</code><a hidden class=anchor aria-hidden=true href=#stdpath>#</a></h4><ul><li><code>posix.ts</code>が削除されています。(<a href=https://deno.land/std@0.211.0/path/posix/mod.ts>std/path/posix/mod.ts</a>への移行が推奨されます。)</li><li><code>win32.ts</code>が削除されています。(<a href=https://deno.land/std@0.211.0/path/windows/mod.ts>std/path/windows/mod.ts</a>への移行が推奨されます。)</li></ul><h4 id=std><code>std</code><a hidden class=anchor aria-hidden=true href=#std>#</a></h4><p>トップレベルの<code>std/types.d.ts</code>が削除されています。</p><p>今のところは<a href=https://deno.land/std@0.211.0/io/types.d.ts>std/io/types.d.ts</a>への移行が推奨されます。ただし、<code>std/io/types.d.ts</code>も非推奨化されており、こちらも将来的に削除されることが計画されているようです。</p><h3 id=非推奨化>非推奨化<a hidden class=anchor aria-hidden=true href=#非推奨化>#</a></h3><h4 id=stdlog><code>std/log</code><a hidden class=anchor aria-hidden=true href=#stdlog>#</a></h4><p><code>string</code>形式の<a href="https://deno.land/std@0.211.0/log/handlers.ts?s=BaseHandler"><code>BaseHandler.formatter</code></a>が非推奨化されています。(関数形式の値は引き続き利用できます。)</p><h4 id=stdsemver><code>std/semver</code><a hidden class=anchor aria-hidden=true href=#stdsemver>#</a></h4><ul><li><code>compare_build.ts</code>が非推奨化されました。</li><li><code>test_comparator.ts</code>が非推奨化されました。(<a href=https://deno.land/std@0.211.0/semver/compare.ts><code>compare</code></a>の使用が推奨されます。)</li><li><code>cmp.ts</code>が非推奨化されました。(<a href=https://deno.land/std@0.211.0/semver/compare.ts><code>compare</code></a>の使用が推奨推奨されます。)</li><li><a href="https://deno.land/std@0.211.0/semver/format.ts?s=format"><code>format</code></a>の<code>style</code>引数が非推奨化されました。(<a href="https://deno.land/std@0.211.0/semver/types.ts?s=SemVer"><code>SemVer</code></a>のプロパティを直接参照することが推奨されるようです。)</li><li><a href=https://deno.land/std@0.211.0/semver/rsort.ts><code>rsort</code></a>が<a href=https://deno.land/std@0.211.0/semver/reverse_sort.ts><code>reverseSort</code></a>にリネームされています。</li></ul><h3 id=stdclispinnerts><code>std/cli/spinner.ts</code><a hidden class=anchor aria-hidden=true href=#stdclispinnerts>#</a></h3><p>表示するメッセージを動的に切り替えられるようにするため、<a href="https://deno.land/std@0.211.0/cli/spinner.ts?s=Spinner"><code>Spinner.message</code></a>が<code>public</code>プロパティに変更されました。</p><h3 id=stdsemver-1><code>std/semver</code><a hidden class=anchor aria-hidden=true href=#stdsemver-1>#</a></h3><ul><li><a href="https://deno.land/std@0.211.0/semver/types.ts?s=SemVer"><code>SemVer</code></a>の<code>prerelease</code>と<code>build</code>プロパティがオプショナルに変更されています。</li><li><a href=https://deno.land/std@0.211.0/semver/range_max.ts><code>rangeMax</code></a>の戻り値が<code>SemVer | undefined</code>から<code>SemVer</code>に変更されています。</li></ul><h3 id=stdexpect><code>std/expect</code><a hidden class=anchor aria-hidden=true href=#stdexpect>#</a></h3><p>以下のAPIのJestとの互換性が改善されています。</p><ul><li><code>expect().toEqual()</code>でオブジェクト同士を比較する際に、値に<code>undefined</code>が設定されているキーが比較対象から除外されるように変更されました。</li><li><code>expect().toStrictEqual()</code>でオブジェクト同士を比較する際に、参照ではなく各プロパティの内容もきちんと比較されるように変更されました。(<a href=https://deno.land/std@0.211.0/assert/assert_equals.ts>assertEquals</a>と同様の振る舞いをします)</li></ul><h2 id=wasmやblobなどのimportについて>WASMやBlobなどの<code>import</code>について<a hidden class=anchor aria-hidden=true href=#wasmやblobなどのimportについて>#</a></h2><p>Deno公式のYoutubeチャンネルで公開されている動画でWASMやBlobなどの<code>import</code>のサポートが開発中であると発表されています。</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/5nv2zhic6Jk style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p><code>deno_core</code>で開発が進められているようです。</p><blockquote><p><a href=https://github.com/denoland/deno_core/pull/402>feat: Allow embedders to load custom module types (#402)</a></p></blockquote><h2 id=unstable-apiの型チェックに関する挙動の変更について>unstable APIの型チェックに関する挙動の変更について<a hidden class=anchor aria-hidden=true href=#unstable-apiの型チェックに関する挙動の変更について>#</a></h2><p>現状、<code>deno check</code>コマンドなどでunstable APIを利用したコードの型チェックをする場合、<code>--unstable</code>オプションが指定されていなければ、型エラーが発生します。</p><p>この挙動を変更して、<code>--unstable</code>オプションが指定されていない状態であっても、型チェック時は常にunstable APIを有効化することが検討されているようです。</p><blockquote><p><a href=https://github.com/denoland/deno/pull/21825>feat: remove conditional unstable type-checking (#21825)</a></p></blockquote><p>現在のunstable APIに関する型チェックの挙動は生産性に対して悪影響があることが考えられるということで、この変更が検討されたようです。</p><p>今のところ、この変更はDeno v1.40で導入されることが計画されているようです。</p><h2 id=rustでwebバックエンドを書き始めてから1年くらい経った>RustでWebバックエンドを書き始めてから1年くらい経った<a hidden class=anchor aria-hidden=true href=#rustでwebバックエンドを書き始めてから1年くらい経った>#</a></h2><p>「<em>RustでWebバックエンドを書き始めてから1年くらい経った</em>」という記事が公開されています。</p><ul><li><a href=https://zenn.dev/magurotuna/articles/rust-at-work>https://zenn.dev/magurotuna/articles/rust-at-work</a></li></ul><p>Deno Deployやその内部構成などについて解説されています。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://uki00a.github.io/deno-weekly/tags/deno.html>deno</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno-kv.html>Deno KV</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno_std.html>deno_std</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno-deploy.html>Deno Deploy</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://uki00a.github.io/deno-weekly/>週刊Deno</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>