<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>2025/05/12〜2025/05/18の最新情報 | 週刊Deno</title><meta name=keywords content="Deno,deno_std,Deno Deploy,fresh,denoland/setup-deno,Prisma"><meta name=description content="Deno v2.3.2 & v2.3.3がリリース (`deno lint`のプラグインでコメントがサポート, `deno coverage --html`でOS設定に基づいたテーマの切り替えがサポート, `deno jupyter`で複数カーネルの管理がサポート, `deno check` - Ambient moduleの取り扱いの改善や`deno.lock`の書き込みタイミングの変更など, `deno fmt` - Tagged templateリテラル中の構文エラーの取り扱いが改善, `deno lsp`で巨大なファイルの取り扱いが改善, `DENO_USE_CGROUPS`環境変数が導入, OpenTelemetry - `boot_failure`及び`uncaught_exception`イベントが追加, `Deno.serve()` - `DENO_UNSTABLE_CONTROL_SOCK` (unconfigured jsruntime)に対する通知がサポート, `Deno.createHttpClient()` - UNIXソケットによるプロキシーのサポート, TypeScriptコードでExplicit Resource Managementがネイティブでサポート, Node.js互換性の改善により`create-vue`などが動作するように), An Update on Fresh (Fresh v2のリリース計画や変更点について), deno_stdのリリース (`@std/collections@1.1.0` - 各種APIでのIterable引数のサポートが安定化, など), denoland/setup-deno v2.0.3 (DENO_DIRのキャッシュがサポート, LTSバージョンがサポート), Prisma v6.8.0 (`prisma-client-js`からDenoのサポートが削除され、`prisma-client`へ移行)
"><meta name=author content><link rel=canonical href=https://uki00a.github.io/deno-weekly/articles/2025/05/18.html><link crossorigin=anonymous href=/deno-weekly/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/deno-weekly/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://uki00a.github.io/deno-weekly/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://uki00a.github.io/deno-weekly/favicon-32x32.png><link rel=apple-touch-icon href=https://uki00a.github.io/deno-weekly/apple-touch-icon.png><link rel=mask-icon href=https://uki00a.github.io/deno-weekly/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta property="twitter:image" content="https://raw.githubusercontent.com/uki00a/blog/master/src/assets/avatar.png"><meta name=twitter:site content="@uki00a"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MK2K2MRMBF"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-MK2K2MRMBF",{anonymize_ip:!1})}</script><meta property="og:title" content="2025/05/12〜2025/05/18の最新情報"><meta property="og:description" content="Deno v2.3.2 & v2.3.3がリリース (`deno lint`のプラグインでコメントがサポート, `deno coverage --html`でOS設定に基づいたテーマの切り替えがサポート, `deno jupyter`で複数カーネルの管理がサポート, `deno check` - Ambient moduleの取り扱いの改善や`deno.lock`の書き込みタイミングの変更など, `deno fmt` - Tagged templateリテラル中の構文エラーの取り扱いが改善, `deno lsp`で巨大なファイルの取り扱いが改善, `DENO_USE_CGROUPS`環境変数が導入, OpenTelemetry - `boot_failure`及び`uncaught_exception`イベントが追加, `Deno.serve()` - `DENO_UNSTABLE_CONTROL_SOCK` (unconfigured jsruntime)に対する通知がサポート, `Deno.createHttpClient()` - UNIXソケットによるプロキシーのサポート, TypeScriptコードでExplicit Resource Managementがネイティブでサポート, Node.js互換性の改善により`create-vue`などが動作するように), An Update on Fresh (Fresh v2のリリース計画や変更点について), deno_stdのリリース (`@std/collections@1.1.0` - 各種APIでのIterable引数のサポートが安定化, など), denoland/setup-deno v2.0.3 (DENO_DIRのキャッシュがサポート, LTSバージョンがサポート), Prisma v6.8.0 (`prisma-client-js`からDenoのサポートが削除され、`prisma-client`へ移行)
"><meta property="og:type" content="article"><meta property="og:url" content="https://uki00a.github.io/deno-weekly/articles/2025/05/18.html"><meta property="article:section" content="articles"><meta property="article:published_time" content="2025-05-18T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-18T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="2025/05/12〜2025/05/18の最新情報"><meta name=twitter:description content="Deno v2.3.2 & v2.3.3がリリース (`deno lint`のプラグインでコメントがサポート, `deno coverage --html`でOS設定に基づいたテーマの切り替えがサポート, `deno jupyter`で複数カーネルの管理がサポート, `deno check` - Ambient moduleの取り扱いの改善や`deno.lock`の書き込みタイミングの変更など, `deno fmt` - Tagged templateリテラル中の構文エラーの取り扱いが改善, `deno lsp`で巨大なファイルの取り扱いが改善, `DENO_USE_CGROUPS`環境変数が導入, OpenTelemetry - `boot_failure`及び`uncaught_exception`イベントが追加, `Deno.serve()` - `DENO_UNSTABLE_CONTROL_SOCK` (unconfigured jsruntime)に対する通知がサポート, `Deno.createHttpClient()` - UNIXソケットによるプロキシーのサポート, TypeScriptコードでExplicit Resource Managementがネイティブでサポート, Node.js互換性の改善により`create-vue`などが動作するように), An Update on Fresh (Fresh v2のリリース計画や変更点について), deno_stdのリリース (`@std/collections@1.1.0` - 各種APIでのIterable引数のサポートが安定化, など), denoland/setup-deno v2.0.3 (DENO_DIRのキャッシュがサポート, LTSバージョンがサポート), Prisma v6.8.0 (`prisma-client-js`からDenoのサポートが削除され、`prisma-client`へ移行)
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"2025/05/12〜2025/05/18の最新情報","item":"https://uki00a.github.io/deno-weekly/articles/2025/05/18.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2025/05/12〜2025/05/18の最新情報","name":"2025\/05\/12〜2025\/05\/18の最新情報","description":"Deno v2.3.2 \u0026 v2.3.3がリリース (`deno lint`のプラグインでコメントがサポート, `deno coverage --html`でOS設定に基づいたテーマの切り替えがサポート, `deno jupyter`で複数カーネルの管理がサポート, `deno check` - Ambient moduleの取り扱いの改善や`deno.lock`の書き込みタイミングの変更など, `deno fmt` - Tagged templateリテラル中の構文エラーの取り扱いが改善, `deno lsp`で巨大なファイルの取り扱いが改善, `DENO_USE_CGROUPS`環境変数が導入, OpenTelemetry - `boot_failure`及び`uncaught_exception`イベントが追加, `Deno.serve()` - `DENO_UNSTABLE_CONTROL_SOCK` (unconfigured jsruntime)に対する通知がサポート, `Deno.createHttpClient()` - UNIXソケットによるプロキシーのサポート, TypeScriptコードでExplicit Resource Managementがネイティブでサポート, Node.js互換性の改善により`create-vue`などが動作するように), An Update on Fresh (Fresh v2のリリース計画や変更点について), deno_stdのリリース (`@std/collections@1.1.0` - 各種APIでのIterable引数のサポートが安定化, など), denoland/setup-deno v2.0.3 (DENO_DIRのキャッシュがサポート, LTSバージョンがサポート), Prisma v6.8.0 (`prisma-client-js`からDenoのサポートが削除され、`prisma-client`へ移行)\n","keywords":["Deno","deno_std","Deno Deploy","fresh","denoland/setup-deno","Prisma"],"articleBody":"Deno v2.3.2 \u0026 v2.3.3 Deno v2.3.2とDeno v2.3.3がリリースされています。\n https://github.com/denoland/deno/blob/395878c5fb72d87a44f7c88ce9f391acc31feab3/Releases.md#233--20250516  deno lint deno lintプラグインでコメントの取得がサポートされています (#29189)\nSourceCodeクラス (RuleContext.sourceCodeからアクセス可能) にgetAllComments()/getCommentsBefore()/getCommentsAfter()/getCommentsInside()メソッドが追加されています。\nまた、Programにもcommentsプロパティーが追加されています。\ndeno coverage deno coverage --htmlで生成されるHTMLレポートで、OS設定に基づいてlightとdarkテーマが切り替わるように改善されています (#29267)\ndeno jupyter - 複数カーネルの管理がサポート deno jupyterコマンドで複数のカーネルをインストール・管理するための機能が導入されています (#29249)\n--nameオプション deno jupyterコマンドに--nameオプションが追加されています。\n--installオプションとともに--nameオプションが指定されると、カーネルがインストールされる際のディレクトリ名を変更できます (デフォルトはLinuxだと~/.local/share/jupyter/kernels/denoで、--name deno-canaryを指定すると~/.local/share/jupyter/kernels/deno-canaryにインストールされます)\n--installが省略された場合、--nameオプションによって指定された名前でkernel.jsonがインストールされているか確認できます。\ndeno jupyter --install --display  deno jupyter --installに--displayオプションが追加されています。\nこのオプションを指定することで、kernel.jsonのdisplay_nameをカスタマイズできます (デフォルトはDeno)\ndeno jupyter --install --force deno jupyter --installに--forceオプションが追加されています。\nこのオプションを指定すると、カーネルがすでにインストール済みである際も強制的にカーネルを再インストールしてくれます。\ndeno check Ambient moduleに関する挙動の改善 Ambient moduleによって型が定義されたパスに対して発生する型エラーが無視されるよう挙動が変更されています (#29135)\n例えば、Ambient moduleによって*.svgに対する型定義が定義されていたら、*.svgに対するimportによって型エラーが起きぬように改善されています。\ndeno.lock deno.lockを更新タイミングが型チェックの実行前から実行後へ変更されています (#29265) 型チェックの実行時にはじめて@types/nodeが必要となるケースがあるため挙動が変更されたようです。\nまた、deno.lockにすでに@types/nodeが書き込まれている場合、@types/node@*が書き込まれないよう改善されています (#29270)\ndeno fmt Tagged template内のHTML/CSS/SQLで構文エラーがあった際の挙動の改善 Tagged template内のHTML/CSS/SQLに構文エラーが存在した場合、エラーが発生するよう改善されています (#29259)\nfmt.useTabs fmt.useTabs: trueが設定されている場合、fmt.indentWidthが無視されるよう修正されています (#29205)\ndeno lsp deno/taskDefinitions deno/taskDefinitionsで各タスクのdescriptionが返却されるよう改善されています (#29244)\n巨大なファイルの取り扱いの改善 巨大なファイルのフォーマットで時間がかかることがある問題への改善が実施されています (#29162)\nまた、巨大なJSONファイルがimportされている際のメモリ使用量の改善が実施されています (#29192) 10MB以上のJSONファイルは{}型として取り扱うよう修正されているようです。\n診断の改善 deno jupyterにおけるトップレベルのfor awaitへの警告が無効化されています (#29114)\nまた、型定義が見つからないnpmパッケージに対してno-export-npmが返されないよう修正されています (#29180)\nQuickfix $node_modulesに対するQuickfixが表示されないよう改善されています (#29194)\ndeno cache deno cacheコマンドで--env-fileがサポートされています (DENO_AUTH_TOKENSの設定などが想定されている模様です) (#29160)\nCLI DENO_USE_CGROUPS環境変数が導入 Linux向けにDENO_USE_CGROUPSという環境変数が導入されています (#29078)\nこの環境変数が設定されると、システムのメモリ容量ではなく、cgroupのメモリ制限を考慮して Isolate のヒープ領域が確保されるよう挙動が変更されるようです。\n今まで、Denoはシステムの最大メモリ容量を元に Isolate のヒープ領域を設定しており、Dockerなどのようにcgroupによってメモリ使用量が制限されている環境において、OOMによってプロセスが意図せず停止させられてしまうことがあった課題の解消が目的のようです (#29077)\n--allow-importのバグ修正 --allow-importに不正な形式の値を指定すると、プロセスがパニックする問題が修正されています (#29118)\nDENO_TRUST_PROXY_HEADERS環境変数が導入 DENO_TRUST_PROXY_HEADERSという環境変数が追加されています (#29296)\nx-deno-client-addressヘッダーについての詳細についてはわかっていないのですが、この環境変数に1が設定されると、Denoが受け取るHTTPリクエストからx-deno-client-addressヘッダーが削除されるようです。\nOpenTelemetry boot_failure及びuncaught_exceptionイベントが追加 以下のイベントが新しく実装されています (#29287)\n   イベント 送信タイミング     boot_failure Denoの起動に失敗したとき   uncaught_exception 未捕捉の例外が検出されたとき    --env-fileのサポート OTEL_DENOやOTEL_EXPORTER_OTLP_PROTOCOLなどの各種OpenTelemetry関連の環境変数を--env-fileオプション経由で指定できるよう改善されています (#29240)\nWorkerとの併用 OpenTelemetryが有効化された状態でWorkerを作成するとプロセスがパニックする問題が修正されています (#29248)\nDeno.serve() DENO_SERVE_ADDRESS=duplicate, DENO_SERVE_ADDRESSでduplicate,という形式がサポートされています (#29109)\nDeno.serve()のオプションとして指定されたアドレスに加え、duplicate,の後に指定されたアドレスでもサーバーが起動されるようです:\n// main.mjs Deno.serve({  port: 3000,  hostname: \"localhost\", }, req = new Response(\"OK\")); $ DENO_SERVE_ADDRESS=duplicate,tcp:127.0.0.1:8000 deno run --allow-net main.mjs  $ curl http://localhost:3000 OK  $ curl http://localhost:8000 OK DENO_UNSTABLE_CONTROL_SOCKに対する通知 Deno.serve()によってサーバーが起動された際に、DENO_UNSTABLE_CONTROL_SOCKが指定された状態で起動されたDenoプロセス (unconfigured jsruntime)が通知を受け取れるよう、該当のソケットへServingという通知を送信する機能が導入されています (#29173, #29184)\nDeno.createHttpClient() - UNIXソケットによるプロキシーのサポート Deno.createHttpClientでproxy.transport: \"unix\"がサポートされています (#29154)\nFFI関連の型定義の改善 FFI関連の型定義において、Uint8ArrayからUint8Arrayを使用するように変更されています (#29127)\nDeno.Commandのバグ修正 Deno.Commandにsignalオプションが指定され かつ サブプロセスがすぐに終了した場合、該当のAbortSignalがabortされた際にエラーが発生することがある問題が修正されています (#29193)\ncreateImageBitmap()のバグ修正 createImageBitmap()にBlobが与えられた際に、typeプロパティーの値を考慮しないよう修正されています (#28741)\nprecompiled JSX transform のバグ修正 precompiled JSX transform (compilerOptions.jsx: \"precompile\")が有効化された際に、props.childrenに与えられた文字列がエスケープされるよう改善されています (#29200)\nconst thisStringShouldBeEscaped = \"...\"; p{thisStringShouldBeEscaped}p   fix(precompile): jsx child expression string literal not escaped (denoland/deno_ast#304)  TypeScript Explicit Resource Managementのネイティブサポート Deno v2.2.10でJavaScriptに対するExplicit Resource Managementのネイティブサポートが提供されました。\nこのリリースではTypeScriptコードにおいてもswcによるトランスパイルに依存せずV8によるExplicit Resource Managementのネイティブサポートが利用されるよう改善されています (#29282)\n  Explicit resource management still not working natively due to SWC transpilation (denoland/deno#29031)  型定義の追加 以下のAPIに対する型定義が追加されています (#29186)\n Promise.try() RegExp.escape() Atomics.pause()  Node.js互換性の改善 @types/node Denoにおいてデフォルトで使用される@types/nodeのバージョンが22.11.0から22.15.14へ更新されています (#28407)\nnode:dns lookup()にutil.promisify()を適用した状態でall: trueオプションを設定して呼んだ際に、TypeErrorが発生する問題が修正されています (#29167)\nnode:process process.stdout.getColorDepthが実装されています (#29176) この改善により、create-vueが動作するようです。\nまた、loadEnvFile()がnamed importで読み込めるように改善されています (#29237))\nnode:http ServerResponse.reqが実装されています (#29211)\nまた、request()でsocketPathオプションがサポートされています (#29182)\nnode:https request()及びAgentでkey/cert/caオプションがサポートされています (#28937)\nnode:tls Server#unrefがサポートされています (#29279)\nconnect()でrejectUnauthorizedオプションがサポートされています (#29245)\nまた、connect()でhostオプションのデフォルト値としてlocalhostが使われるよう修正されています (#29231)\nnode:test TestContextのskip()及びtodo()メソッドが実装されています (#29222)\nnode:assert CallTrackerが実装されました (#29226)\nnode:sqlite WindowsでDatabaseSync#closeを読んでも適切にファイルが閉じられない事がある問題が修正されています (#29210)\nnode:dgram 以下のAPIが実装されています:\n Socket#addMembership/dropMembership (#29207) Socket#setBroadcast (#29195) Socket#setMulticastLoopback (#29241) Socket#setMulticastTTL (#29232)  今回の改善により、multicast-dnsが動作するようです。\nnode:buffer Buffer.compare()に不正な入力が与えられた際にTypeErrorではなくERR_INVALID_ARG_TYPEが発生するよう改善されています (#29275)\nV8 137 v8 137へのアップデートが実施されています (#29166)\n  feat: upgrade V8 to 137 (denoland/deno_core#1111)  An Update on Fresh Deno公式ブログでFresh v2に関する記事が公開されています:\n An Update on Fresh  Fresh v2において予定されている変更内容やFresh v2のリリースに関連したDeno本体やDeno Deployへの改善 (今後、発表予定とのことですが、Deno Deployにおいてビルドステップに関する改善などが行われているそうです) などについて解説されています。\nまた、Fresh v2の正式なリリース時期についても言及されており、2025年9月ごろでのリリースが計画されているようです。現在はプラグインシステムやバンドラーとの統合に関する改善などを中心に進められているそうです。\ndeno_stdのリリース deno_stdのリリースが実施されています (release-2025.05.13)\n@std/collections@1.1.0 @std/collections@1.1.0がリリースされています。\nIterableサポートの安定化 以下のunstableモジュールでサポートされていたIterableサポートが安定化されています (#6644)\n @std/collections/unstable-chunk @std/collections/unstable-drop-while @std/collections/unstable-drop-last-while @std/collections/unstable-intersect @std/collections/unstable-sample @std/collections/unstable-sliding-windows @std/collections/unstable-sort-by @std/collections/unstable-take-last-while @std/collections/unstable-take-while @std/collections/unstable-without-all  これらの@std/collections/unstable-*モジュールは現在は削除され、unstable-*プレフィックスがついていない対応するモジュールにマージされています (例: @std/collections/unstable-chunkで提供されていたIterableのサポートは、@std/collections/chunkにマージされています)\n@std/collections/unstable-cycleの追加 @std/collections/unstable-cycleという新規モジュールが追加されています (#6386)\n@std/async@1.0.13 @std/async@1.0.13がリリースされています。\n@std/async/abortable abortable()にrejectされたPromiseとabort済みのAbortSignalを渡すと、unhandledrejectionが発生する問題が修正されています (#6312)\n@std/bytes@1.0.6 @std/bytes@1.0.6がリリースされています。\n@std/bytes/concat concat()にreadonlyな配列を渡せるよう型定義が改善されています (#6639)\n@std/data-structures@1.0.8 @std/data-structures@1.0.8がリリースされています。\n@std/data-structures/unstable-binary-search-tree @std/data-structures/unstable-binary-search-treeモジュールが追加されています (#6544)\n@std/data-structures/binary-search-treeのBinarySearchTreeクラスが提供する各種メソッドに加え、ceiling()/floor()/higher()/lower()メソッドが提供されます。\n@std/dotenv@0.225.4 @std/dotenv@0.225.4がリリースされています。\nload()でURLがサポート load()/loadSync()のenvPathオプションでURLオブジェクトによるパスの指定がサポートされています (#6621)\n@std/expect@1.0.16/@std/testing@1.0.12 @std/expect@1.0.16と@std/testing@1.0.12がリリースされています。\nexpect.hasAssertions()及びexpect.assertions()の改善 expect.hasAssertions()とexpect.assertions()の挙動が改善されています (#6646)\nexpect.hasAssertions()がit()の中以外から呼ばれた際に、適切にエラーが発生するよう改善されています。\nまた、expect.hasAssertions()またはexpect.assertions()が失敗した場合、他のテストケースもその影響を受けてしまう問題が修正されています。\n@std/http@1.0.16 @std/http@1.0.16がリリースされています。\n@std/http@/file-server ブラウザーのキャッシュが適切に動作するよう、Dateヘッダーに該当のファイルのアクセス日時を設定しないよう修正されています (#6610)\n@std/toml@1.0.6 @std/toml@1.0.6がリリースされています。\n@std/toml/stringify stringify()においてJavaScriptのNaNがnanとしてフォーマットされるよう修正されています (#6638)\ndenoland/setup-deno v2.0.3 DENO_DIRのキャッシュがサポート ダウンロードされた依存関係などのキャッシュがサポートされています:\n feat: add built-in caching via inputs #89 feat: include a hash of deno.lock files in the cache key automatically #98  cache: trueオプションによって有効化できます。 また、cache-hashオプションによってキャッシュキーの一部として利用されるハッシュ値をカスタマイズできます。(デフォルトは${{ hashFiles('**/deno.lock') }})\nLTSバージョンのサポート deno-versionでltsを指定すると、DenoのLTSバージョンがダウンロードされます (#97)\nPrisma v6.8.0 Prisma v6.8.0がリリースされています。\nこのリリースではprisma-client-jsからDenoのサポートが削除され、prisma-clientジェネレーターへの移行が行われており、DenoからPrismaを利用する際の設定方法などが変更されているようです。\n","wordCount":"432","inLanguage":"en","datePublished":"2025-05-18T00:00:00Z","dateModified":"2025-05-18T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://uki00a.github.io/deno-weekly/articles/2025/05/18.html"},"publisher":{"@type":"Organization","name":"週刊Deno","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/uki00a/blog/master/src/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://uki00a.github.io/deno-weekly/ accesskey=h title="週刊Deno (Alt + H)">週刊Deno</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://uki00a.github.io/deno-weekly/tags.html title=タグ><span><i class="fa fa-heart"></i>タグ</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/categories.html title=カテゴリー><span><i class="fa fa-heart"></i>カテゴリー</span></a></li><li><a href=https://uki00a.github.io/deno-weekly/gallery.html title=ギャラリー><span><i class="fa fa-road"></i>ギャラリー<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/index.xml title="RSS feed"><span><i class="fa fa-road"></i>RSS feed<span class=alert></span></span></a></li><li><a href=https://uki00a.github.io/deno-weekly/about.html title=About><span><i class="fa fa-road"></i>About<span class=alert></span></span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>2025/05/12〜2025/05/18の最新情報</h1><div class=post-description>Deno v2.3.2 & v2.3.3がリリース (`deno lint`のプラグインでコメントがサポート, `deno coverage --html`でOS設定に基づいたテーマの切り替えがサポート, `deno jupyter`で複数カーネルの管理がサポート, `deno check` - Ambient moduleの取り扱いの改善や`deno.lock`の書き込みタイミングの変更など, `deno fmt` - Tagged templateリテラル中の構文エラーの取り扱いが改善, `deno lsp`で巨大なファイルの取り扱いが改善, `DENO_USE_CGROUPS`環境変数が導入, OpenTelemetry - `boot_failure`及び`uncaught_exception`イベントが追加, `Deno.serve()` - `DENO_UNSTABLE_CONTROL_SOCK` (unconfigured jsruntime)に対する通知がサポート, `Deno.createHttpClient()` - UNIXソケットによるプロキシーのサポート, TypeScriptコードでExplicit Resource Managementがネイティブでサポート, Node.js互換性の改善により`create-vue`などが動作するように), An Update on Fresh (Fresh v2のリリース計画や変更点について), deno_stdのリリース (`@std/collections@1.1.0` - 各種APIでのIterable引数のサポートが安定化, など), denoland/setup-deno v2.0.3 (DENO_DIRのキャッシュがサポート, LTSバージョンがサポート), Prisma v6.8.0 (`prisma-client-js`からDenoのサポートが削除され、`prisma-client`へ移行)</div><div class=post-meta><span title="2025-05-18 00:00:00 +0000 UTC">May 18, 2025</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#deno-v232--v233 aria-label="Deno v2.3.2 &amp;amp; v2.3.3">Deno v2.3.2 & v2.3.3</a><ul><li><a href=#deno-lint aria-label="deno lint"><code>deno lint</code></a></li><li><a href=#deno-coverage aria-label="deno coverage"><code>deno coverage</code></a></li><li><a href=#deno-jupyter---%e8%a4%87%e6%95%b0%e3%82%ab%e3%83%bc%e3%83%8d%e3%83%ab%e3%81%ae%e7%ae%a1%e7%90%86%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="deno jupyter - 複数カーネルの管理がサポート"><code>deno jupyter</code> - 複数カーネルの管理がサポート</a><ul><li><a href=#--name%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3 aria-label=--nameオプション><code>--name</code>オプション</a></li><li><a href=#deno-jupyter---install---display-name aria-label="deno jupyter --install --display &amp;lt;name&amp;gt;"><code>deno jupyter --install --display &lt;name></code></a></li><li><a href=#deno-jupyter---install---force aria-label="deno jupyter --install --force"><code>deno jupyter --install --force</code></a></li></ul></li><li><a href=#deno-check aria-label="deno check"><code>deno check</code></a><ul><li><a href=#ambient-module%e3%81%ab%e9%96%a2%e3%81%99%e3%82%8b%e6%8c%99%e5%8b%95%e3%81%ae%e6%94%b9%e5%96%84 aria-label="Ambient moduleに関する挙動の改善">Ambient moduleに関する挙動の改善</a></li><li><a href=#denolock aria-label=deno.lock><code>deno.lock</code></a></li></ul></li><li><a href=#deno-fmt aria-label="deno fmt"><code>deno fmt</code></a><ul><li><a href=#tagged-template%e5%86%85%e3%81%aehtmlcsssql%e3%81%a7%e6%a7%8b%e6%96%87%e3%82%a8%e3%83%a9%e3%83%bc%e3%81%8c%e3%81%82%e3%81%a3%e3%81%9f%e9%9a%9b%e3%81%ae%e6%8c%99%e5%8b%95%e3%81%ae%e6%94%b9%e5%96%84 aria-label="Tagged template内のHTML/CSS/SQLで構文エラーがあった際の挙動の改善">Tagged template内のHTML/CSS/SQLで構文エラーがあった際の挙動の改善</a></li><li><a href=#fmtusetabs aria-label=fmt.useTabs><code>fmt.useTabs</code></a></li></ul></li><li><a href=#deno-lsp aria-label="deno lsp"><code>deno lsp</code></a><ul><li><a href=#denotaskdefinitions aria-label=deno/taskDefinitions><code>deno/taskDefinitions</code></a></li><li><a href=#%e5%b7%a8%e5%a4%a7%e3%81%aa%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%81%ae%e5%8f%96%e3%82%8a%e6%89%b1%e3%81%84%e3%81%ae%e6%94%b9%e5%96%84 aria-label=巨大なファイルの取り扱いの改善>巨大なファイルの取り扱いの改善</a></li><li><a href=#%e8%a8%ba%e6%96%ad%e3%81%ae%e6%94%b9%e5%96%84 aria-label=診断の改善>診断の改善</a></li><li><a href=#quickfix aria-label=Quickfix>Quickfix</a></li></ul></li><li><a href=#deno-cache aria-label="deno cache"><code>deno cache</code></a></li><li><a href=#cli aria-label=CLI>CLI</a><ul><li><a href=#deno_use_cgroups%e7%92%b0%e5%a2%83%e5%a4%89%e6%95%b0%e3%81%8c%e5%b0%8e%e5%85%a5 aria-label=DENO_USE_CGROUPS環境変数が導入><code>DENO_USE_CGROUPS</code>環境変数が導入</a></li><li><a href=#--allow-import%e3%81%ae%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label=--allow-importのバグ修正><code>--allow-import</code>のバグ修正</a></li><li><a href=#deno_trust_proxy_headers%e7%92%b0%e5%a2%83%e5%a4%89%e6%95%b0%e3%81%8c%e5%b0%8e%e5%85%a5 aria-label=DENO_TRUST_PROXY_HEADERS環境変数が導入><code>DENO_TRUST_PROXY_HEADERS</code>環境変数が導入</a></li></ul></li><li><a href=#opentelemetry aria-label=OpenTelemetry>OpenTelemetry</a><ul><li><a href=#boot_failure%e5%8f%8a%e3%81%b3uncaught_exception%e3%82%a4%e3%83%99%e3%83%b3%e3%83%88%e3%81%8c%e8%bf%bd%e5%8a%a0 aria-label=boot_failure及びuncaught_exceptionイベントが追加><code>boot_failure</code>及び<code>uncaught_exception</code>イベントが追加</a></li><li><a href=#--env-file%e3%81%ae%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=--env-fileのサポート><code>--env-file</code>のサポート</a></li><li><a href=#worker%e3%81%a8%e3%81%ae%e4%bd%b5%e7%94%a8 aria-label=Workerとの併用><code>Worker</code>との併用</a></li></ul></li><li><a href=#denoserve aria-label=Deno.serve()><code>Deno.serve()</code></a><ul><li><a href=#deno_serve_addressduplicateaddress aria-label="DENO_SERVE_ADDRESS=duplicate,&amp;lt;address&amp;gt;"><code>DENO_SERVE_ADDRESS=duplicate,&lt;address></code></a></li><li><a href=#deno_unstable_control_sock%e3%81%ab%e5%af%be%e3%81%99%e3%82%8b%e9%80%9a%e7%9f%a5 aria-label=DENO_UNSTABLE_CONTROL_SOCKに対する通知><code>DENO_UNSTABLE_CONTROL_SOCK</code>に対する通知</a></li></ul></li><li><a href=#denocreatehttpclient---unix%e3%82%bd%e3%82%b1%e3%83%83%e3%83%88%e3%81%ab%e3%82%88%e3%82%8b%e3%83%97%e3%83%ad%e3%82%ad%e3%82%b7%e3%83%bc%e3%81%ae%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="Deno.createHttpClient() - UNIXソケットによるプロキシーのサポート"><code>Deno.createHttpClient()</code> - UNIXソケットによるプロキシーのサポート</a></li><li><a href=#ffi%e9%96%a2%e9%80%a3%e3%81%ae%e5%9e%8b%e5%ae%9a%e7%be%a9%e3%81%ae%e6%94%b9%e5%96%84 aria-label=FFI関連の型定義の改善>FFI関連の型定義の改善</a></li><li><a href=#denocommand%e3%81%ae%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label=Deno.Commandのバグ修正><code>Deno.Command</code>のバグ修正</a></li><li><a href=#createimagebitmap%e3%81%ae%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label=createImageBitmap()のバグ修正><code>createImageBitmap()</code>のバグ修正</a></li><li><a href=#_precompiled-jsx-transform_-%e3%81%ae%e3%83%90%e3%82%b0%e4%bf%ae%e6%ad%a3 aria-label="precompiled JSX transform のバグ修正"><em>precompiled JSX transform</em> のバグ修正</a></li><li><a href=#typescript aria-label=TypeScript>TypeScript</a><ul><li><a href=#explicit-resource-management%e3%81%ae%e3%83%8d%e3%82%a4%e3%83%86%e3%82%a3%e3%83%96%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label="Explicit Resource Managementのネイティブサポート">Explicit Resource Managementのネイティブサポート</a></li><li><a href=#%e5%9e%8b%e5%ae%9a%e7%be%a9%e3%81%ae%e8%bf%bd%e5%8a%a0 aria-label=型定義の追加>型定義の追加</a></li></ul></li><li><a href=#nodejs%e4%ba%92%e6%8f%9b%e6%80%a7%e3%81%ae%e6%94%b9%e5%96%84 aria-label=Node.js互換性の改善>Node.js互換性の改善</a><ul><li><a href=#typesnode aria-label=@types/node><code>@types/node</code></a></li><li><a href=#nodedns aria-label=node:dns><code>node:dns</code></a></li><li><a href=#nodeprocess aria-label=node:process><code>node:process</code></a></li><li><a href=#nodehttp aria-label=node:http><code>node:http</code></a></li><li><a href=#nodehttps aria-label=node:https><code>node:https</code></a></li><li><a href=#nodetls aria-label=node:tls><code>node:tls</code></a></li><li><a href=#nodetest aria-label=node:test><code>node:test</code></a></li><li><a href=#nodeassert aria-label=node:assert><code>node:assert</code></a></li><li><a href=#nodesqlite aria-label=node:sqlite><code>node:sqlite</code></a></li><li><a href=#nodedgram aria-label=node:dgram><code>node:dgram</code></a></li><li><a href=#nodebuffer aria-label=node:buffer><code>node:buffer</code></a></li></ul></li><li><a href=#v8-137 aria-label="V8 137">V8 137</a></li></ul></li><li><a href=#an-update-on-fresh aria-label="An Update on Fresh">An Update on Fresh</a></li><li><a href=#deno_std%e3%81%ae%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9 aria-label=deno_stdのリリース><code>deno_std</code>のリリース</a><ul><li><a href=#stdcollections110 aria-label=@std/collections@1.1.0><code>@std/collections@1.1.0</code></a><ul><li><a href=#iterable%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88%e3%81%ae%e5%ae%89%e5%ae%9a%e5%8c%96 aria-label=Iterableサポートの安定化><code>Iterable</code>サポートの安定化</a></li><li><a href=#stdcollectionsunstable-cycle%e3%81%ae%e8%bf%bd%e5%8a%a0 aria-label=@std/collections/unstable-cycleの追加><code>@std/collections/unstable-cycle</code>の追加</a></li></ul></li><li><a href=#stdasync1013 aria-label=@std/async@1.0.13><code>@std/async@1.0.13</code></a><ul><li><a href=#stdasyncabortable aria-label=@std/async/abortable><code>@std/async/abortable</code></a></li></ul></li><li><a href=#stdbytes106 aria-label=@std/bytes@1.0.6><code>@std/bytes@1.0.6</code></a><ul><li><a href=#stdbytesconcat aria-label=@std/bytes/concat><code>@std/bytes/concat</code></a></li></ul></li><li><a href=#stddata-structures108 aria-label=@std/data-structures@1.0.8><code>@std/data-structures@1.0.8</code></a><ul><li><a href=#stddata-structuresunstable-binary-search-tree aria-label=@std/data-structures/unstable-binary-search-tree><code>@std/data-structures/unstable-binary-search-tree</code></a></li></ul></li><li><a href=#stddotenv02254 aria-label=@std/dotenv@0.225.4><code>@std/dotenv@0.225.4</code></a><ul><li><a href=#load%e3%81%a7url%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=load()でURLがサポート><code>load()</code>で<code>URL</code>がサポート</a></li></ul></li><li><a href=#stdexpect1016stdtesting1012 aria-label=@std/expect@1.0.16/@std/testing@1.0.12><code>@std/expect@1.0.16</code>/<code>@std/testing@1.0.12</code></a><ul><li><a href=#expecthasassertions%e5%8f%8a%e3%81%b3expectassertions%e3%81%ae%e6%94%b9%e5%96%84 aria-label=expect.hasAssertions()及びexpect.assertions()の改善><code>expect.hasAssertions()</code>及び<code>expect.assertions()</code>の改善</a></li></ul></li><li><a href=#stdhttp1016 aria-label=@std/http@1.0.16><code>@std/http@1.0.16</code></a><ul><li><a href=#stdhttpfile-server aria-label=@std/http@/file-server><code>@std/http@/file-server</code></a></li></ul></li><li><a href=#stdtoml106 aria-label=@std/toml@1.0.6><code>@std/toml@1.0.6</code></a><ul><li><a href=#stdtomlstringify aria-label=@std/toml/stringify><code>@std/toml/stringify</code></a></li></ul></li></ul></li><li><a href=#denolandsetup-deno-v203 aria-label="denoland/setup-deno v2.0.3">denoland/setup-deno v2.0.3</a><ul><li><a href=#deno_dir%e3%81%ae%e3%82%ad%e3%83%a3%e3%83%83%e3%82%b7%e3%83%a5%e3%81%8c%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=DENO_DIRのキャッシュがサポート><code>DENO_DIR</code>のキャッシュがサポート</a></li><li><a href=#lts%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%ae%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88 aria-label=LTSバージョンのサポート>LTSバージョンのサポート</a></li></ul></li><li><a href=#prisma-v680 aria-label="Prisma v6.8.0">Prisma v6.8.0</a></li></ul></div></details></div><div class=post-content><h2 id=deno-v232--v233>Deno v2.3.2 & v2.3.3<a hidden class=anchor aria-hidden=true href=#deno-v232--v233>#</a></h2><p><a href=https://github.com/denoland/deno/releases/tag/v2.3.2>Deno v2.3.2</a>と<a href=https://github.com/denoland/deno/releases/tag/v2.3.3>Deno v2.3.3</a>がリリースされています。</p><ul><li><a href=https://github.com/denoland/deno/blob/395878c5fb72d87a44f7c88ce9f391acc31feab3/Releases.md#233--20250516>https://github.com/denoland/deno/blob/395878c5fb72d87a44f7c88ce9f391acc31feab3/Releases.md#233--20250516</a></li></ul><h3 id=deno-lint><code>deno lint</code><a hidden class=anchor aria-hidden=true href=#deno-lint>#</a></h3><p><code>deno lint</code>プラグインでコメントの取得がサポートされています (<a href=https://github.com/denoland/deno/pull/29189>#29189</a>)</p><p><code>SourceCode</code>クラス (<code>RuleContext.sourceCode</code>からアクセス可能) に<code>getAllComments()</code>/<code>getCommentsBefore()</code>/<code>getCommentsAfter()</code>/<code>getCommentsInside()</code>メソッドが追加されています。</p><p>また、<code>Program</code>にも<code>comments</code>プロパティーが追加されています。</p><h3 id=deno-coverage><code>deno coverage</code><a hidden class=anchor aria-hidden=true href=#deno-coverage>#</a></h3><p><code>deno coverage --html</code>で生成されるHTMLレポートで、OS設定に基づいて<code>light</code>と<code>dark</code>テーマが切り替わるように改善されています (<a href=https://github.com/denoland/deno/pull/29267>#29267</a>)</p><h3 id=deno-jupyter---複数カーネルの管理がサポート><code>deno jupyter</code> - 複数カーネルの管理がサポート<a hidden class=anchor aria-hidden=true href=#deno-jupyter---複数カーネルの管理がサポート>#</a></h3><p><code>deno jupyter</code>コマンドで複数のカーネルをインストール・管理するための機能が導入されています (<a href=https://github.com/denoland/deno/pull/29249>#29249</a>)</p><h4 id=--nameオプション><code>--name</code>オプション<a hidden class=anchor aria-hidden=true href=#--nameオプション>#</a></h4><p><code>deno jupyter</code>コマンドに<code>--name</code>オプションが追加されています。</p><p><code>--install</code>オプションとともに<code>--name</code>オプションが指定されると、カーネルがインストールされる際のディレクトリ名を変更できます (デフォルトはLinuxだと<code>~/.local/share/jupyter/kernels/deno</code>で、<code>--name deno-canary</code>を指定すると<code>~/.local/share/jupyter/kernels/deno-canary</code>にインストールされます)</p><p><code>--install</code>が省略された場合、<code>--name</code>オプションによって指定された名前で<code>kernel.json</code>がインストールされているか確認できます。</p><h4 id=deno-jupyter---install---display-name><code>deno jupyter --install --display &lt;name></code><a hidden class=anchor aria-hidden=true href=#deno-jupyter---install---display-name>#</a></h4><p><code>deno jupyter --install</code>に<code>--display</code>オプションが追加されています。</p><p>このオプションを指定することで、<code>kernel.json</code>の<code>display_name</code>をカスタマイズできます (デフォルトは<code>Deno</code>)</p><h4 id=deno-jupyter---install---force><code>deno jupyter --install --force</code><a hidden class=anchor aria-hidden=true href=#deno-jupyter---install---force>#</a></h4><p><code>deno jupyter --install</code>に<code>--force</code>オプションが追加されています。</p><p>このオプションを指定すると、カーネルがすでにインストール済みである際も強制的にカーネルを再インストールしてくれます。</p><h3 id=deno-check><code>deno check</code><a hidden class=anchor aria-hidden=true href=#deno-check>#</a></h3><h4 id=ambient-moduleに関する挙動の改善>Ambient moduleに関する挙動の改善<a hidden class=anchor aria-hidden=true href=#ambient-moduleに関する挙動の改善>#</a></h4><p>Ambient moduleによって型が定義されたパスに対して発生する型エラーが無視されるよう挙動が変更されています (<a href=https://github.com/denoland/deno/pull/29135>#29135</a>)</p><p>例えば、Ambient moduleによって<code>*.svg</code>に対する型定義が定義されていたら、<code>*.svg</code>に対する<code>import</code>によって型エラーが起きぬように改善されています。</p><h4 id=denolock><code>deno.lock</code><a hidden class=anchor aria-hidden=true href=#denolock>#</a></h4><p><code>deno.lock</code>を更新タイミングが型チェックの実行前から実行後へ変更されています (<a href=https://github.com/denoland/deno/pull/29265>#29265</a>)
型チェックの実行時にはじめて<code>@types/node</code>が必要となるケースがあるため挙動が変更されたようです。</p><p>また、<code>deno.lock</code>にすでに<code>@types/node</code>が書き込まれている場合、<code>@types/node@*</code>が書き込まれないよう改善されています (<a href=https://github.com/denoland/deno/pull/29270>#29270</a>)</p><h3 id=deno-fmt><code>deno fmt</code><a hidden class=anchor aria-hidden=true href=#deno-fmt>#</a></h3><h4 id=tagged-template内のhtmlcsssqlで構文エラーがあった際の挙動の改善>Tagged template内のHTML/CSS/SQLで構文エラーがあった際の挙動の改善<a hidden class=anchor aria-hidden=true href=#tagged-template内のhtmlcsssqlで構文エラーがあった際の挙動の改善>#</a></h4><p><a href=https://uki00a.github.io/deno-weekly/articles/deno/v2.3.html>Tagged template内のHTML/CSS/SQL</a>に構文エラーが存在した場合、エラーが発生するよう改善されています (<a href=https://github.com/denoland/deno/pull/29259>#29259</a>)</p><h4 id=fmtusetabs><code>fmt.useTabs</code><a hidden class=anchor aria-hidden=true href=#fmtusetabs>#</a></h4><p><code>fmt.useTabs: true</code>が設定されている場合、<code>fmt.indentWidth</code>が無視されるよう修正されています (<a href=https://github.com/denoland/deno/pull/29205>#29205</a>)</p><h3 id=deno-lsp><code>deno lsp</code><a hidden class=anchor aria-hidden=true href=#deno-lsp>#</a></h3><h4 id=denotaskdefinitions><code>deno/taskDefinitions</code><a hidden class=anchor aria-hidden=true href=#denotaskdefinitions>#</a></h4><p><code>deno/taskDefinitions</code>で各タスクの<code>description</code>が返却されるよう改善されています (<a href=https://github.com/denoland/deno/pull/29244>#29244</a>)</p><h4 id=巨大なファイルの取り扱いの改善>巨大なファイルの取り扱いの改善<a hidden class=anchor aria-hidden=true href=#巨大なファイルの取り扱いの改善>#</a></h4><p>巨大なファイルのフォーマットで時間がかかることがある問題への改善が実施されています (<a href=https://github.com/denoland/deno/pull/29162>#29162</a>)</p><p>また、巨大なJSONファイルが<code>import</code>されている際のメモリ使用量の改善が実施されています (<a href=https://github.com/denoland/deno/pull/29192>#29192</a>)
10MB以上のJSONファイルは<code>{}</code>型として取り扱うよう修正されているようです。</p><h4 id=診断の改善>診断の改善<a hidden class=anchor aria-hidden=true href=#診断の改善>#</a></h4><p><code>deno jupyter</code>におけるトップレベルの<code>for await</code>への警告が無効化されています (<a href=https://github.com/denoland/deno/pull/29114>#29114</a>)</p><p>また、型定義が見つからないnpmパッケージに対して<code>no-export-npm</code>が返されないよう修正されています (<a href=https://github.com/denoland/deno/pull/29180>#29180</a>)</p><h4 id=quickfix>Quickfix<a hidden class=anchor aria-hidden=true href=#quickfix>#</a></h4><p><code>$node_modules</code>に対するQuickfixが表示されないよう改善されています (<a href=https://github.com/denoland/deno/pull/29194>#29194</a>)</p><h3 id=deno-cache><code>deno cache</code><a hidden class=anchor aria-hidden=true href=#deno-cache>#</a></h3><p><code>deno cache</code>コマンドで<code>--env-file</code>がサポートされています (<code>DENO_AUTH_TOKENS</code>の設定などが想定されている模様です) (<a href=https://github.com/denoland/deno/pull/29160>#29160</a>)</p><h3 id=cli>CLI<a hidden class=anchor aria-hidden=true href=#cli>#</a></h3><h4 id=deno_use_cgroups環境変数が導入><code>DENO_USE_CGROUPS</code>環境変数が導入<a hidden class=anchor aria-hidden=true href=#deno_use_cgroups環境変数が導入>#</a></h4><p>Linux向けに<code>DENO_USE_CGROUPS</code>という環境変数が導入されています (<a href=https://github.com/denoland/deno/pull/29078>#29078</a>)</p><p>この環境変数が設定されると、システムのメモリ容量ではなく、cgroupのメモリ制限を考慮して <em>Isolate</em> のヒープ領域が確保されるよう挙動が変更されるようです。</p><p>今まで、Denoはシステムの最大メモリ容量を元に <em>Isolate</em> のヒープ領域を設定しており、Dockerなどのようにcgroupによってメモリ使用量が制限されている環境において、OOMによってプロセスが意図せず停止させられてしまうことがあった課題の解消が目的のようです (<a href=https://github.com/denoland/deno/issues/29077>#29077</a>)</p><h4 id=--allow-importのバグ修正><code>--allow-import</code>のバグ修正<a hidden class=anchor aria-hidden=true href=#--allow-importのバグ修正>#</a></h4><p><a href=https://uki00a.github.io/deno-weekly/articles/2024/09/29.html><code>--allow-import</code></a>に不正な形式の値を指定すると、プロセスがパニックする問題が修正されています (<a href=https://github.com/denoland/deno/pull/29118>#29118</a>)</p><h4 id=deno_trust_proxy_headers環境変数が導入><code>DENO_TRUST_PROXY_HEADERS</code>環境変数が導入<a hidden class=anchor aria-hidden=true href=#deno_trust_proxy_headers環境変数が導入>#</a></h4><p><code>DENO_TRUST_PROXY_HEADERS</code>という環境変数が追加されています (<a href=https://github.com/denoland/deno/pull/29296>#29296</a>)</p><p><code>x-deno-client-address</code>ヘッダーについての詳細についてはわかっていないのですが、この環境変数に<code>1</code>が設定されると、Denoが受け取るHTTPリクエストから<code>x-deno-client-address</code>ヘッダーが削除されるようです。</p><h3 id=opentelemetry>OpenTelemetry<a hidden class=anchor aria-hidden=true href=#opentelemetry>#</a></h3><h4 id=boot_failure及びuncaught_exceptionイベントが追加><code>boot_failure</code>及び<code>uncaught_exception</code>イベントが追加<a hidden class=anchor aria-hidden=true href=#boot_failure及びuncaught_exceptionイベントが追加>#</a></h4><p>以下のイベントが新しく実装されています (<a href=https://github.com/denoland/deno/pull/29287>#29287</a>)</p><table><thead><tr><th style=text-align:center>イベント</th><th style=text-align:center>送信タイミング</th></tr></thead><tbody><tr><td style=text-align:center><code>boot_failure</code></td><td style=text-align:center>Denoの起動に失敗したとき</td></tr><tr><td style=text-align:center><code>uncaught_exception</code></td><td style=text-align:center>未捕捉の例外が検出されたとき</td></tr></tbody></table><h4 id=--env-fileのサポート><code>--env-file</code>のサポート<a hidden class=anchor aria-hidden=true href=#--env-fileのサポート>#</a></h4><p><code>OTEL_DENO</code>や<code>OTEL_EXPORTER_OTLP_PROTOCOL</code>などの各種OpenTelemetry関連の環境変数を<code>--env-file</code>オプション経由で指定できるよう改善されています (<a href=https://github.com/denoland/deno/pull/29240>#29240</a>)</p><h4 id=workerとの併用><code>Worker</code>との併用<a hidden class=anchor aria-hidden=true href=#workerとの併用>#</a></h4><p>OpenTelemetryが有効化された状態で<code>Worker</code>を作成するとプロセスがパニックする問題が修正されています (<a href=https://github.com/denoland/deno/pull/29248>#29248</a>)</p><h3 id=denoserve><code>Deno.serve()</code><a hidden class=anchor aria-hidden=true href=#denoserve>#</a></h3><h4 id=deno_serve_addressduplicateaddress><code>DENO_SERVE_ADDRESS=duplicate,&lt;address></code><a hidden class=anchor aria-hidden=true href=#deno_serve_addressduplicateaddress>#</a></h4><p><a href=https://uki00a.github.io/deno-weekly/articles/deno/v2.3.html><code>DENO_SERVE_ADDRESS</code></a>で<code>duplicate,&lt;address></code>という形式がサポートされています (<a href=https://github.com/denoland/deno/pull/29109>#29109</a>)</p><p><code>Deno.serve()</code>のオプションとして指定されたアドレスに加え、<code>duplicate,</code>の後に指定されたアドレスでもサーバーが起動されるようです:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#75715e>// main.mjs 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Deno</span>.<span style=color:#a6e22e>serve</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>port</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3000</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hostname</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;localhost&#34;</span>,
</span></span><span style=display:flex><span>}, <span style=color:#a6e22e>req</span> =&gt; <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Response</span>(<span style=color:#e6db74>&#34;OK&#34;</span>));
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ DENO_SERVE_ADDRESS<span style=color:#f92672>=</span>duplicate,tcp:127.0.0.1:8000 deno run --allow-net main.mjs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ curl http://localhost:3000
</span></span><span style=display:flex><span>OK 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ curl http://localhost:8000
</span></span><span style=display:flex><span>OK
</span></span></code></pre></div><h4 id=deno_unstable_control_sockに対する通知><code>DENO_UNSTABLE_CONTROL_SOCK</code>に対する通知<a hidden class=anchor aria-hidden=true href=#deno_unstable_control_sockに対する通知>#</a></h4><p><code>Deno.serve()</code>によってサーバーが起動された際に、<a href=https://github.com/denoland/deno/commit/bc1ced82609a425af42410ed01cd5c4e53ee32ec><code>DENO_UNSTABLE_CONTROL_SOCK</code></a>が指定された状態で起動されたDenoプロセス (<em>unconfigured jsruntime</em>)が通知を受け取れるよう、該当のソケットへ<code>Serving</code>という通知を送信する機能が導入されています (<a href=https://github.com/denoland/deno/pull/29173>#29173</a>, <a href=https://github.com/denoland/deno/pull/29184>#29184</a>)</p><h3 id=denocreatehttpclient---unixソケットによるプロキシーのサポート><code>Deno.createHttpClient()</code> - UNIXソケットによるプロキシーのサポート<a hidden class=anchor aria-hidden=true href=#denocreatehttpclient---unixソケットによるプロキシーのサポート>#</a></h3><p><code>Deno.createHttpClient</code>で<code>proxy.transport: "unix"</code>がサポートされています (<a href=https://github.com/denoland/deno/pull/29154>#29154</a>)</p><h3 id=ffi関連の型定義の改善>FFI関連の型定義の改善<a hidden class=anchor aria-hidden=true href=#ffi関連の型定義の改善>#</a></h3><p>FFI関連の型定義において、<code>Uint8Array</code>から<code>Uint8Array&lt;ArrayBuffer></code>を使用するように変更されています (<a href=https://github.com/denoland/deno/pull/29127>#29127</a>)</p><h3 id=denocommandのバグ修正><code>Deno.Command</code>のバグ修正<a hidden class=anchor aria-hidden=true href=#denocommandのバグ修正>#</a></h3><p><code>Deno.Command</code>に<code>signal</code>オプションが指定され かつ サブプロセスがすぐに終了した場合、該当の<code>AbortSignal</code>が<code>abort</code>された際にエラーが発生することがある問題が修正されています (<a href=https://github.com/denoland/deno/pull/29193>#29193</a>)</p><h3 id=createimagebitmapのバグ修正><code>createImageBitmap()</code>のバグ修正<a hidden class=anchor aria-hidden=true href=#createimagebitmapのバグ修正>#</a></h3><p><code>createImageBitmap()</code>に<code>Blob</code>が与えられた際に、<code>type</code>プロパティーの値を考慮しないよう修正されています (<a href=https://github.com/denoland/deno/pull/28741>#28741</a>)</p><h3 id=_precompiled-jsx-transform_-のバグ修正><em>precompiled JSX transform</em> のバグ修正<a hidden class=anchor aria-hidden=true href=#_precompiled-jsx-transform_-のバグ修正>#</a></h3><p><em>precompiled JSX transform</em> (<code>compilerOptions.jsx: "precompile"</code>)が有効化された際に、<code>props.children</code>に与えられた文字列がエスケープされるよう改善されています (<a href=https://github.com/denoland/deno/pull/29200>#29200</a>)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thisStringShouldBeEscaped</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;...&#34;</span>;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>p</span>&gt;{<span style=color:#a6e22e>thisStringShouldBeEscaped</span>}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span></code></pre></div><hr><ul><li><a href=https://github.com/denoland/deno_ast/pull/304>fix(precompile): jsx child expression string literal not escaped (denoland/deno_ast#304)</a></li></ul><h3 id=typescript>TypeScript<a hidden class=anchor aria-hidden=true href=#typescript>#</a></h3><h4 id=explicit-resource-managementのネイティブサポート>Explicit Resource Managementのネイティブサポート<a hidden class=anchor aria-hidden=true href=#explicit-resource-managementのネイティブサポート>#</a></h4><p><a href=(https://uki00a.github.io/deno-weekly/articles/2025/04/20.html)>Deno v2.2.10</a>でJavaScriptに対する<a href=https://github.com/tc39/proposal-explicit-resource-management>Explicit Resource Management</a>のネイティブサポートが提供されました。</p><p>このリリースではTypeScriptコードにおいてもswcによるトランスパイルに依存せずV8によるExplicit Resource Managementのネイティブサポートが利用されるよう改善されています (<a href=https://github.com/denoland/deno/pull/29282>#29282</a>)</p><hr><ul><li><a href=https://github.com/denoland/deno/issues/29031>Explicit resource management still not working natively due to SWC transpilation (denoland/deno#29031)</a></li></ul><h4 id=型定義の追加>型定義の追加<a hidden class=anchor aria-hidden=true href=#型定義の追加>#</a></h4><p>以下のAPIに対する型定義が追加されています (<a href=https://github.com/denoland/deno/pull/29186>#29186</a>)</p><ul><li><a href=https://github.com/tc39/proposal-promise-try><code>Promise.try()</code></a></li><li><code>RegExp.escape()</code></li><li><code>Atomics.pause()</code></li></ul><h3 id=nodejs互換性の改善>Node.js互換性の改善<a hidden class=anchor aria-hidden=true href=#nodejs互換性の改善>#</a></h3><h4 id=typesnode><code>@types/node</code><a hidden class=anchor aria-hidden=true href=#typesnode>#</a></h4><p>Denoにおいてデフォルトで使用される<code>@types/node</code>のバージョンが<code>22.11.0</code>から<code>22.15.14</code>へ更新されています (<a href=https://github.com/denoland/deno/pull/28407>#28407</a>)</p><h4 id=nodedns><code>node:dns</code><a hidden class=anchor aria-hidden=true href=#nodedns>#</a></h4><p><code>lookup()</code>に<code>util.promisify()</code>を適用した状態で<code>all: true</code>オプションを設定して呼んだ際に、<code>TypeError</code>が発生する問題が修正されています (<a href=https://github.com/denoland/deno/pull/29167>#29167</a>)</p><h4 id=nodeprocess><code>node:process</code><a hidden class=anchor aria-hidden=true href=#nodeprocess>#</a></h4><p><code>process.stdout.getColorDepth</code>が実装されています (<a href=https://github.com/denoland/deno/pull/29176>#29176</a>)
この改善により、<a href=https://github.com/vuejs/create-vue>create-vue</a>が動作するようです。</p><p>また、<code>loadEnvFile()</code>が<code>named import</code>で読み込めるように改善されています (<a href=https://github.com/denoland/deno/pull/29237>#29237)</a>)</p><h4 id=nodehttp><code>node:http</code><a hidden class=anchor aria-hidden=true href=#nodehttp>#</a></h4><p><code>ServerResponse.req</code>が実装されています (<a href=https://github.com/denoland/deno/pull/29211>#29211</a>)</p><p>また、<code>request()</code>で<code>socketPath</code>オプションがサポートされています (<a href=https://github.com/denoland/deno/pull/29182>#29182</a>)</p><h4 id=nodehttps><code>node:https</code><a hidden class=anchor aria-hidden=true href=#nodehttps>#</a></h4><p><code>request()</code>及び<code>Agent</code>で<code>key</code>/<code>cert</code>/<code>ca</code>オプションがサポートされています (<a href=https://github.com/denoland/deno/pull/28937>#28937</a>)</p><h4 id=nodetls><code>node:tls</code><a hidden class=anchor aria-hidden=true href=#nodetls>#</a></h4><p><code>Server#unref</code>がサポートされています (<a href=https://github.com/denoland/deno/pull/29279>#29279</a>)</p><p><code>connect()</code>で<code>rejectUnauthorized</code>オプションがサポートされています (<a href=https://github.com/denoland/deno/pull/29245>#29245</a>)</p><p>また、<code>connect()</code>で<code>host</code>オプションのデフォルト値として<code>localhost</code>が使われるよう修正されています (<a href=https://github.com/denoland/deno/pull/29231>#29231</a>)</p><h4 id=nodetest><code>node:test</code><a hidden class=anchor aria-hidden=true href=#nodetest>#</a></h4><p><code>TestContext</code>の<code>skip()</code>及び<code>todo()</code>メソッドが実装されています (<a href=https://github.com/denoland/deno/pull/29222>#29222</a>)</p><h4 id=nodeassert><code>node:assert</code><a hidden class=anchor aria-hidden=true href=#nodeassert>#</a></h4><p><code>CallTracker</code>が実装されました (<a href=https://github.com/denoland/deno/pull/29226>#29226</a>)</p><h4 id=nodesqlite><code>node:sqlite</code><a hidden class=anchor aria-hidden=true href=#nodesqlite>#</a></h4><p>Windowsで<code>DatabaseSync#close</code>を読んでも適切にファイルが閉じられない事がある問題が修正されています (<a href=https://github.com/denoland/deno/pull/29210>#29210</a>)</p><h4 id=nodedgram><code>node:dgram</code><a hidden class=anchor aria-hidden=true href=#nodedgram>#</a></h4><p>以下のAPIが実装されています:</p><ul><li><code>Socket#addMembership</code>/<code>dropMembership</code> (<a href=https://github.com/denoland/deno/pull/29207>#29207</a>)</li><li><code>Socket#setBroadcast</code> (<a href=https://github.com/denoland/deno/pull/29195>#29195</a>)</li><li><code>Socket#setMulticastLoopback</code> (<a href=https://github.com/denoland/deno/pull/29241>#29241</a>)</li><li><code>Socket#setMulticastTTL</code> (<a href=https://github.com/denoland/deno/pull/29232>#29232</a>)</li></ul><p>今回の改善により、<a href=https://github.com/mafintosh/multicast-dns>multicast-dns</a>が動作するようです。</p><h4 id=nodebuffer><code>node:buffer</code><a hidden class=anchor aria-hidden=true href=#nodebuffer>#</a></h4><p><code>Buffer.compare()</code>に不正な入力が与えられた際に<code>TypeError</code>ではなく<code>ERR_INVALID_ARG_TYPE</code>が発生するよう改善されています (<a href=https://github.com/denoland/deno/pull/29275>#29275</a>)</p><h3 id=v8-137>V8 137<a hidden class=anchor aria-hidden=true href=#v8-137>#</a></h3><p>v8 137へのアップデートが実施されています (<a href=https://github.com/denoland/deno/pull/29166>#29166</a>)</p><hr><ul><li><a href=https://github.com/denoland/deno_core/pull/1111>feat: upgrade V8 to 137 (denoland/deno_core#1111)</a></li></ul><h2 id=an-update-on-fresh>An Update on Fresh<a hidden class=anchor aria-hidden=true href=#an-update-on-fresh>#</a></h2><p>Deno公式ブログでFresh v2に関する記事が公開されています:</p><ul><li><a href=https://deno.com/blog/an-update-on-fresh>An Update on Fresh</a></li></ul><p>Fresh v2において予定されている変更内容やFresh v2のリリースに関連したDeno本体やDeno Deployへの改善 (今後、発表予定とのことですが、Deno Deployにおいてビルドステップに関する改善などが行われているそうです) などについて解説されています。</p><p>また、Fresh v2の正式なリリース時期についても言及されており、2025年9月ごろでのリリースが計画されているようです。現在はプラグインシステムやバンドラーとの統合に関する改善などを中心に進められているそうです。</p><h2 id=deno_stdのリリース><code>deno_std</code>のリリース<a hidden class=anchor aria-hidden=true href=#deno_stdのリリース>#</a></h2><p><code>deno_std</code>のリリースが実施されています (<a href=https://github.com/denoland/std/releases/tag/release-2025.05.13>release-2025.05.13</a>)</p><h3 id=stdcollections110><code>@std/collections@1.1.0</code><a hidden class=anchor aria-hidden=true href=#stdcollections110>#</a></h3><p><a href=https://jsr.io/@std/collections@1.1.0>@std/collections@1.1.0</a>がリリースされています。</p><h4 id=iterableサポートの安定化><code>Iterable</code>サポートの安定化<a hidden class=anchor aria-hidden=true href=#iterableサポートの安定化>#</a></h4><p>以下の<a href=https://uki00a.github.io/deno-weekly/articles/2024/09/29.html>unstableモジュールでサポートされていた<code>Iterable</code>サポート</a>が安定化されています (<a href=https://github.com/denoland/std/pull/6644>#6644</a>)</p><ul><li><code>@std/collections/unstable-chunk</code></li><li><code>@std/collections/unstable-drop-while</code></li><li><code>@std/collections/unstable-drop-last-while</code></li><li><code>@std/collections/unstable-intersect</code></li><li><code>@std/collections/unstable-sample</code></li><li><code>@std/collections/unstable-sliding-windows</code></li><li><code>@std/collections/unstable-sort-by</code></li><li><code>@std/collections/unstable-take-last-while</code></li><li><code>@std/collections/unstable-take-while</code></li><li><code>@std/collections/unstable-without-all</code></li></ul><p>これらの<code>@std/collections/unstable-*</code>モジュールは現在は削除され、<code>unstable-*</code>プレフィックスがついていない対応するモジュールにマージされています (例: <code>@std/collections/unstable-chunk</code>で提供されていた<code>Iterable</code>のサポートは、<code>@std/collections/chunk</code>にマージされています)</p><h4 id=stdcollectionsunstable-cycleの追加><code>@std/collections/unstable-cycle</code>の追加<a hidden class=anchor aria-hidden=true href=#stdcollectionsunstable-cycleの追加>#</a></h4><p><code>@std/collections/unstable-cycle</code>という新規モジュールが追加されています (<a href=https://github.com/denoland/std/pull/6386>#6386</a>)</p><h3 id=stdasync1013><code>@std/async@1.0.13</code><a hidden class=anchor aria-hidden=true href=#stdasync1013>#</a></h3><p><a href=https://jsr.io/@std/async@1.0.13>@std/async@1.0.13</a>がリリースされています。</p><h4 id=stdasyncabortable><code>@std/async/abortable</code><a hidden class=anchor aria-hidden=true href=#stdasyncabortable>#</a></h4><p><code>abortable()</code>に<em>reject</em>された<code>Promise</code>と<em>abort</em>済みの<strong>AbortSignal</strong>を渡すと、<code>unhandledrejection</code>が発生する問題が修正されています (<a href=https://github.com/denoland/std/pull/6312>#6312</a>)</p><h3 id=stdbytes106><code>@std/bytes@1.0.6</code><a hidden class=anchor aria-hidden=true href=#stdbytes106>#</a></h3><p><a href=https://jsr.io/@std/bytes@1.0.6>@std/bytes@1.0.6</a>がリリースされています。</p><h4 id=stdbytesconcat><code>@std/bytes/concat</code><a hidden class=anchor aria-hidden=true href=#stdbytesconcat>#</a></h4><p><code>concat()</code>に<code>readonly</code>な配列を渡せるよう型定義が改善されています (<a href=https://github.com/denoland/std/pull/6639>#6639</a>)</p><h3 id=stddata-structures108><code>@std/data-structures@1.0.8</code><a hidden class=anchor aria-hidden=true href=#stddata-structures108>#</a></h3><p><a href=https://jsr.io/@std/data-structures@1.0.8>@std/data-structures@1.0.8</a>がリリースされています。</p><h4 id=stddata-structuresunstable-binary-search-tree><code>@std/data-structures/unstable-binary-search-tree</code><a hidden class=anchor aria-hidden=true href=#stddata-structuresunstable-binary-search-tree>#</a></h4><p><code>@std/data-structures/unstable-binary-search-tree</code>モジュールが追加されています (<a href=https://github.com/denoland/std/pull/6544>#6544</a>)</p><p><code>@std/data-structures/binary-search-tree</code>の<code>BinarySearchTree</code>クラスが提供する各種メソッドに加え、<code>ceiling()</code>/<code>floor()</code>/<code>higher()</code>/<code>lower()</code>メソッドが提供されます。</p><h3 id=stddotenv02254><code>@std/dotenv@0.225.4</code><a hidden class=anchor aria-hidden=true href=#stddotenv02254>#</a></h3><p><a href=https://jsr.io/@std/dotenv@0.225.4>@std/dotenv@0.225.4</a>がリリースされています。</p><h4 id=loadでurlがサポート><code>load()</code>で<code>URL</code>がサポート<a hidden class=anchor aria-hidden=true href=#loadでurlがサポート>#</a></h4><p><code>load()</code>/<code>loadSync()</code>の<code>envPath</code>オプションで<code>URL</code>オブジェクトによるパスの指定がサポートされています (<a href=https://github.com/denoland/std/pull/6621>#6621</a>)</p><h3 id=stdexpect1016stdtesting1012><code>@std/expect@1.0.16</code>/<code>@std/testing@1.0.12</code><a hidden class=anchor aria-hidden=true href=#stdexpect1016stdtesting1012>#</a></h3><p><a href=https://jsr.io/@std/expect@1.0.16>@std/expect@1.0.16</a>と<a href=https://jsr.io/@std/testing@1.0.12>@std/testing@1.0.12</a>がリリースされています。</p><h4 id=expecthasassertions及びexpectassertionsの改善><code>expect.hasAssertions()</code>及び<code>expect.assertions()</code>の改善<a hidden class=anchor aria-hidden=true href=#expecthasassertions及びexpectassertionsの改善>#</a></h4><p><code>expect.hasAssertions()</code>と<code>expect.assertions()</code>の挙動が改善されています (<a href=https://github.com/denoland/std/pull/6646>#6646</a>)</p><p><code>expect.hasAssertions()</code>が<code>it()</code>の中以外から呼ばれた際に、適切にエラーが発生するよう改善されています。</p><p>また、<code>expect.hasAssertions()</code>または<code>expect.assertions()</code>が失敗した場合、他のテストケースもその影響を受けてしまう問題が修正されています。</p><h3 id=stdhttp1016><code>@std/http@1.0.16</code><a hidden class=anchor aria-hidden=true href=#stdhttp1016>#</a></h3><p><a href=https://jsr.io/@std/http@1.0.16>@std/http@1.0.16</a>がリリースされています。</p><h4 id=stdhttpfile-server><code>@std/http@/file-server</code><a hidden class=anchor aria-hidden=true href=#stdhttpfile-server>#</a></h4><p>ブラウザーのキャッシュが適切に動作するよう、<code>Date</code>ヘッダーに該当のファイルのアクセス日時を設定しないよう修正されています (<a href=https://github.com/denoland/std/pull/6610>#6610</a>)</p><h3 id=stdtoml106><code>@std/toml@1.0.6</code><a hidden class=anchor aria-hidden=true href=#stdtoml106>#</a></h3><p><a href=https://jsr.io/@std/toml@1.0.6>@std/toml@1.0.6</a>がリリースされています。</p><h4 id=stdtomlstringify><code>@std/toml/stringify</code><a hidden class=anchor aria-hidden=true href=#stdtomlstringify>#</a></h4><p><code>stringify()</code>においてJavaScriptの<code>NaN</code>が<code>nan</code>としてフォーマットされるよう修正されています (<a href=https://github.com/denoland/std/pull/6638>#6638</a>)</p><h2 id=denolandsetup-deno-v203>denoland/setup-deno v2.0.3<a hidden class=anchor aria-hidden=true href=#denolandsetup-deno-v203>#</a></h2><h3 id=deno_dirのキャッシュがサポート><code>DENO_DIR</code>のキャッシュがサポート<a hidden class=anchor aria-hidden=true href=#deno_dirのキャッシュがサポート>#</a></h3><p>ダウンロードされた依存関係などのキャッシュがサポートされています:</p><ul><li><a href=https://github.com/denoland/setup-deno/pull/89>feat: add built-in caching via inputs #89</a></li><li><a href=https://github.com/denoland/setup-deno/pull/98>feat: include a hash of deno.lock files in the cache key automatically #98</a></li></ul><p><code>cache: true</code>オプションによって有効化できます。
また、<code>cache-hash</code>オプションによってキャッシュキーの一部として利用されるハッシュ値をカスタマイズできます。(デフォルトは<code>${{ hashFiles('**/deno.lock') }}</code>)</p><h3 id=ltsバージョンのサポート>LTSバージョンのサポート<a hidden class=anchor aria-hidden=true href=#ltsバージョンのサポート>#</a></h3><p><code>deno-version</code>で<code>lts</code>を指定すると、DenoのLTSバージョンがダウンロードされます (<a href=https://github.com/denoland/setup-deno/pull/97>#97</a>)</p><h2 id=prisma-v680>Prisma v6.8.0<a hidden class=anchor aria-hidden=true href=#prisma-v680>#</a></h2><p><a href=https://github.com/prisma/prisma/releases/tag/6.8.0>Prisma v6.8.0</a>がリリースされています。</p><p>このリリースでは<a href=https://github.com/prisma/prisma-client-js>prisma-client-js</a>からDenoのサポートが削除され、<a href=https://github.com/prisma/docs/blob/efc71d366c80cfaf866e3544aded5ce3e75f4f57/content/200-orm/100-prisma-schema/10-overview/03-generators.mdx#prisma-client-early-access>prisma-client</a>ジェネレーターへの移行が行われており、DenoからPrismaを利用する際の設定方法などが変更されているようです。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://uki00a.github.io/deno-weekly/tags/deno.html>deno</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno_std.html>deno_std</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/deno-deploy.html>Deno Deploy</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/fresh.html>fresh</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/denoland/setup-deno.html>denoland/setup-deno</a></li><li><a href=https://uki00a.github.io/deno-weekly/tags/prisma.html>Prisma</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://uki00a.github.io/deno-weekly/>週刊Deno</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>