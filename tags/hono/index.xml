<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Hono on 週刊Deno</title><link>https://uki00a.github.io/deno-weekly/tags/hono.html</link><description>Recent content in Hono on 週刊Deno</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sun, 28 Aug 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://uki00a.github.io/deno-weekly/tags/hono/index.xml" rel="self" type="application/rss+xml"/><item><title>2021/08/22〜2022/08/28の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2022/08/28.html</link><pubDate>Sun, 28 Aug 2022 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2022/08/28.html</guid><description>Deno v1.25.0 Deno v1.25.0がリリースされました。
以下の記事に変更点をまとめたため、詳しくはそちらを参照いただければと思います。
Deno v1.25 deno_std v0.153.0 deno_std v0.153.0がリリースされました。
std/encoding/csv: parse()が同期的に動作するように (破壊的変更) parse()の引数からBufReaderが削除されています
これに伴い、parse()の戻り値がstring[][] | Record&amp;lt;string, unknown&amp;gt;[]に変更されています。
import { parse } from &amp;#34;https://deno.land/std@0.153.0/encoding/csv.ts&amp;#34;; const records = parse(`id,name 1,foo 2,bar`); console.log(records); // Output: [ [ &amp;#34;id&amp;#34;, &amp;#34;name&amp;#34; ], [ &amp;#34;1&amp;#34;, &amp;#34;foo&amp;#34; ], [ &amp;#34;2&amp;#34;, &amp;#34;bar&amp;#34; ] ] std/http/cookie_mapモジュールが追加 MapライクなAPIをベースにCookieを管理するためのユーティリティモジュールが追加されました。
CookieMapはリクエスト及びレスポンスに関するCookieの管理に利用することができます。
import { CookieMap, mergeHeaders } from &amp;#34;https://deno.land/std@0.153.0/http/cookie_map.ts&amp;#34;; const req = new Request(&amp;#34;http://localhost:3000&amp;#34;, { headers: { cookie: &amp;#34;foo=bar; hoge=piyo;&amp;#34; }, }); const cookies = new CookieMap(req); cookies.</description></item><item><title>2021/07/04〜2022/07/10の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2022/07/10.html</link><pubDate>Sun, 10 Jul 2022 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2022/07/10.html</guid><description>Deno v1.23.3 Deno v1.23.3がリリースされました。
このリリースでは、deno testなどの引数にfile:形式でディレクトリを指定すると、エラーが発生する問題が修正されています。
# v1.23.2まではエラー $ deno test file:///home/foo/sample/tests また、Denoの内部で使用されているTypeScriptがv4.7.4へアップデートされています。
その他には、いくつかのパフォーマンスチューニングなどが実施されています。
https://github.com/denoland/deno/releases/tag/v1.23.3
deno_std v0.147.0 deno_std v0.147.0がリリースされました。
dotenv dotenvモジュールで、変数の展開がサポートされました。
例えば、以下のような内容で.envファイルが定義されていたとします。
HOST=localhost URL=http://${HOST}:${PORT:-3000} このファイルをdotenvモジュールで読み込むと、以下のように評価されます。
{ HOST: &amp;#34;localhost&amp;#34;, URL: &amp;#34;http://localhost:3000&amp;#34; } その他には、stringify()関数が追加されています。
import { stringify } from &amp;#34;https://deno.land/std@0.147.0/dotenv/mod.ts&amp;#34;; stringify({ PORT: &amp;#34;3000&amp;#34;, HOST: &amp;#34;localhost&amp;#34;, LOG_LEVEL: &amp;#34;debug&amp;#34; }); // PORT=3000 // HOST=localhost // LOG_LEVEL=debug http oak_commonsのHTTPエラーとコンテントネゴシエーション用のモジュールがdeno_std/httpに取り込まれました。
http/negotiation
import { accepts } from &amp;#34;https://deno.land/std@0.147.0/http/negotiation.ts&amp;#34;; const req = new Request(&amp;#34;https://github.com&amp;#34;, { headers: { accept: &amp;#34;text/html,application/xhtml+xml,application/xml;q=0.</description></item></channel></rss>