<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>graffiti on 週刊Deno</title><link>https://uki00a.github.io/deno-weekly/tags/graffiti.html</link><description>Recent content in graffiti on 週刊Deno</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sun, 05 Dec 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://uki00a.github.io/deno-weekly/tags/graffiti/index.xml" rel="self" type="application/rss+xml"/><item><title>2021/11/29〜2021/12/05の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2021/12/05.html</link><pubDate>Sun, 05 Dec 2021 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2021/12/05.html</guid><description>Deno v1.16.4 Deno v1.16.4がリリースされました。
このリリースはバグ修正がメインです。
変更点:
SubtleCrypto.encryptで指定されたキーとアルゴリズムが一致しない場合、例外が投げられるようになりました deno testのOpサニタイザーの安定性が向上しました WebSocketStreamの作成後にAbortControllerで中断すると、AbortErrorではなくDeno.errors.BadResourceエラーが発生する問題が修正されました Worker#terminateを呼ぶと、プロセスがまれにパニックする問題が修正されました WorkerのメインモジュールでTop-Level Awaitが使われておりなおかつWorkerが作成後即座にterminateされると発生した模様 https://github.com/denoland/deno/releases/tag/v1.16.4
deno_std v0.117.0 deno_std v0.117.0がリリースされました。
httpモジュールでの新機能の追加やnodeモジュールのNode.jsとの互換性の向上が実施されています。
httpモジュール serveなどの関数でonErrorオプションがサポートされ、handlerで発生したエラーを補足できるようになりました
const handler = (request: Request) =&amp;gt; { throw new Error(&amp;#34;Hello&amp;#34;); }; const servePromise = serve(handler, { addr: &amp;#34;localhost:3000&amp;#34;, onError(_error) { return new Response(&amp;#34;Internal Server Error&amp;#34;, { status: 500 }); }, }); nodeモジュール readline: createInterface()が実装されました process: process.stdin.read()で読み込みが非同期に行われるようになりました buffer: Bufferでbase64エンコーディングがサポートされました.</description></item></channel></rss>