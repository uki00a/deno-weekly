<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>deployctl on 週刊Deno</title><link>https://uki00a.github.io/deno-weekly/tags/deployctl.html</link><description>Recent content in deployctl on 週刊Deno</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Sun, 29 Jan 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://uki00a.github.io/deno-weekly/tags/deployctl/index.xml" rel="self" type="application/rss+xml"/><item><title>2022/01/23〜2023/01/29の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2023/01/29.html</link><pubDate>Sun, 29 Jan 2023 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2023/01/29.html</guid><description>Deno v1.30.0 Deno v1.30がリリースされました。
以下に変更内容をまとめたため、よろしければ参照ください。
Deno v1.30 deno_std v0.175.0 deno_std v0.175.0がリリースされました。
非推奨APIの整理などが実施されています。
std/io/buffer.ts: (破壊的変更) 非推奨APIの削除 以下のAPIが削除されています。
同名のAPIは引き続き別ファイルで提供されているため、もしこれらを利用されている場合は、以下の移行先ファイルへimportを書き換える必要がありそうです。
対象API 移行先 BufferFullError std/io/buf_reader.ts BufReader std/io/buf_reader.ts PartialReadError std/io/buf_reader.ts ReadLineResult std/io/buf_reader.ts BufWriter std/io/buf_writer.ts BufWriterSync std/io/buf_writer.ts readDelim std/io/read_delim.ts readStringDelim std/io/read_string_delim.ts readLines std/io/read_lines.ts std/io/files.tsモジュールの削除 (破壊的変更) std/io/files.tsが削除されています。
このファイルで提供されていたAPIはstd/io/read_range.tsから引き続き利用できるため、今後はそちらへ移行する必要がありそうです。
std/io/readers.tsモジュールの削除 (破壊的変更) std/io/readers.</description></item><item><title>2021/03/21〜2022/03/27の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2022/03/27.html</link><pubDate>Sun, 27 Mar 2022 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2022/03/27.html</guid><description>Deno v1.20.2 permissionsオプションへの破壊的変更について Deno v1.20で行われる予定であったpermissionsオプションへの破壊的変更が正式に反映されました。
詳細については下記を参照ください。
Deno v1.20 deno taskコマンドの改善 deno taskコマンドの内部で使われているdeno_task_shellがアップデートされています。
これにより、cp -Rや|&amp;amp;のサポートなどが行われています。
deno_task_shell v0.2.0 deno lspでenablePathsオプションがサポート deno lspでenablePathsオプションがサポートされました。
ワークスペース内の特定のフォルダでのみdeno lspを有効化したいが、それ以外のフォルダでは組み込みのJavaScript/TypeScriptランゲージサーバを使いたいようなときに設定することが想定されているようです。
https://github.com/denoland/vscode_deno/releases/tag/3.11.0 その他の変更 --unstableなしでdeno benchを実行した際のエラーメッセージが改善 deno upgradeコマンドでDENO_CERT環境変数による証明書の指定がサポート HTTPサーバのパフォーマンスチューニング など
https://github.com/denoland/deno/releases/tag/v1.20.2
Deno v1.20.3 Deno v1.20.2に続けて、v1.20.3もリリースされています。
セキュリティに関する修正が含まれるので早めのアップデートが推奨されています。
変更点:
Denoはfetchの第一引数としてURLの指定をサポートしていますが、この形式での呼び出しが非推奨化されました。 (v2で削除される予定のようです) FFI関連の各API(Deno.UnsafeFnPointer#callなど)でちゃんと--unstableオプションが与えられているかチェックされるよう変更されました。 Deno.RunOptionsのcmdプロパティがreadonlyに変更されました。 https://github.com/denoland/deno/releases/tag/v1.20.3
deno_std v0.131.0 deno_std v0.131.0がリリースされました。
collections BinaryHeapが追加されました。
import { BinaryHeap } from &amp;#34;https://deno.land/std@0.132.0/collections/binary_heap.ts&amp;#34;; const heap = new BinaryHeap&amp;lt;number&amp;gt;(); heap.</description></item><item><title>2021/02/07〜2022/02/13の最新情報</title><link>https://uki00a.github.io/deno-weekly/articles/2022/02/13.html</link><pubDate>Sun, 13 Feb 2022 00:00:00 +0000</pubDate><guid>https://uki00a.github.io/deno-weekly/articles/2022/02/13.html</guid><description>--promptオプションの挙動をデフォルト化するPRがマージされました Denoで--promptオプションをデフォルトで有効化するPRがマージされました。
feat: prompt by default (#13650)
次のDeno v1.19でリリースされる可能性がありそうです。
また、この変更に合わせて、--no-promptオプションが追加されています。 このオプションを指定することで、今まで通り、 許可されていないAPIを実行しようとすると、即時にエラーが発生します。
ファイルシステムやネットワーク関連APIでのStreams APIのサポートについて Denoのファイルシステム(Deno.File)やネットワーク(Deno.Conn)関連のAPIでStreams APIをサポートすることが検討されています。
Make FS and net APIs work well with WHATWG streams (#13614)
まだドラフトの段階ですが、すでにPRも作成されています。
feat(runtime): web streams in fs &amp;amp; net APIs (#13615)
背景:
現在、Denoのファイルシステムやネットワーク関連のAPIはGoのスタイルに従っています(Deno.Reader/Deno.Writer)
しかし、これらのAPIはfetch()やStreams APIと互換性がありません (一応、この差異を吸収するためにdeno_std/streamsが提供されていたりします)
この問題を解消するため、Deno.FileやDeno.Connなどにreadableプロパティ(ReadableStream&amp;lt;Uint8Array&amp;gt;型)やwritableプロパティ(WritableStream&amp;lt;Uint8Array&amp;gt;型)を追加することが検討されています。
N-APIの実装について DenoでN-APIの実装が開始されています。
Implement NAPI (#13633)
まだドラフトの段階でありリリース時期も未定ですが、進捗は上記のPRから確認できるので、気になる方はSubscribeするとよいかもしれません。
Deno.umask()の削除について Deno.umask()を削除するPRが作成されています。
chore: remove Deno.umask (#13639)
背景としては、競合状態によるバグが存在するためのようです。
詳しくは以下のissueを参照ください。
Proposal: Remove (unstable) Deno.</description></item></channel></rss>